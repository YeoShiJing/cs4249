(this.webpackJsonphawkercentral=this.webpackJsonphawkercentral||[]).push([[0],{131:function(e,t,a){e.exports=a.p+"static/media/i_want.25975eeb.jpeg"},134:function(e,t,a){e.exports=a.p+"static/media/foodleh.bca86764.png"},136:function(e,t,a){e.exports=a.p+"static/media/gradient.fb6d2f13.png"},161:function(e,t,a){e.exports=a.p+"static/media/delivery_2.ff7f517b.png"},162:function(e,t,a){e.exports=a.p+"static/media/dabao_2.e693d390.png"},165:function(e){e.exports=JSON.parse('{"menu":{"homelabel":"Home","searchlabel":"Search","createlabel":"Create","aboutlabel":"About","language_button":"\u4e2d\u6587"},"home":{"i_want":"i_want","delivery":"delivery","self_collect":"self_collect","acknowledgement":"We would like to acknowledge the data and images we obtained from The Smart Local (TSL) when building the initial version of our app and assure that all current data in the listing are obtained with the consent from the originators themselves.","choose":"choose","dabao":"dabao","or":"or","delivery_word":"delivery","now_enter":"now enter your ","postalcode":"postal code","wehave":"We have ","listings":" listings. Help us reach 800! ","goto":" Go to ","createlink":" Create ","nowtoadd":" now to add a listing for your favourite hawkers!"},"create":{"createfree":"Create a FREE listing and website below! ","existing":"Already have a listing? Go to: ","createlisting":"Create Listing Below","createwebsite":"Create Listing & Website Below","step1":"Step 1: Stall Details (Important)","pleaseenter":"Please enter more details regarding your stall listing.","stallname":"Stall Name","placeholderstallname":"Enter Stall Name","cuisinecategory":"Cuisine Category","tags":"Tags","placeholdertags":"E.g. handmade, spicy, soup, sgunited","selectmultiple":"(select multiple if applicable)","placeholdercuisine":"E.g. Asian, Local, Beverages","entermultiple":"(enter multiple custom tags)","contactnumber":"Contact Number (Enter 0 if none): ","postalcode":"Postal Code","placeholderpostalcode":"Enter Postal Code","streetname":"Street Name","autofill":"(Auto-Filled)","placeholderstreetname":"Enter Street Name","unit":"Unit #","placeholderunit":"E.g. #01-01","briefdescription":"Brief Description","max45chars":"(max 45 characters)","placeholderbriefdescription":"E.g. Best Chicken Rice in town","selfcollectordelivery":"Self-Collection and/or Delivery?","important":"(Important)","selfcollection":"Self-Collection","delivery":"Delivery","deliveryoptions":"Delivery Options","whichregion":"Which regions do you deliver to? (Select Island-wide Delivery or NSEWC)","deliveryfees":"Delivery Fees: ","placeholderfees":"e.g. $2.99 for below $30","deliverydetails":"Details regarding delivery:","placeholderdeliverydetails":"E.g. Only deliver to Bukit Batok for orders above $30","step2":"Step 2: Additional Details (Optional)","additional":"Additional Details","free_delivery":"Free Delivery Amount","minumum_order":"Minumum Order Amount","placeholderadditional":"e.g. For a limited time, buy 3 get 1 free and islandwide delivery","generalpromo":"General Promotion (if any)","discount":"Discount","eightchars":"(8 chars)","placeholderdiscount":"e.g. 10% or $5 off","condition":"Condition (max 40 chars)","placeholdercondition":"e.g. any order / above $20 order size","website":"Website / Facebook/ Google Listing Link","hours":"Opening Hours","placeholderhours":"E.g. Monday: 7:00 to 20:00","menuitem":"Menu Item","menuitems":"Menu Items","placeholdermenuitem":"E.g. Chicken Rice","additem":"Add Menu Items","addmoreitem":"+ Add 10 More Menu Items","price":"Price","contact":"Contact Channels: ","call":"Call","inperson":"In-Person","preview":"Live Preview","previewdescription":"This is how your listing will look like to users:","notsatisfied":"Not satisfied? Just change the fields!","submit":"Submit","uploadimages":"Upload Images","uploadimagedescription":"Upload images of your listed hawker stall below","uploadmenu":"If available, please upload your menu"},"about":{"para_one":" is an easy-to-use web application designed to bridge hawker stalls and restaurant owners in Singapore with all Singaporeans via a free online platform.","para_two":"Sounds too good to be true? What\'s the catch? Boh leh... FoodLeh? is a purely non-profit initiative devised to help local F&B stall owners to be seen online. It\u2019s also a community-based platform where listings can be created and edited by members of the public.","para_three":"\\"If we don\'t give discounts, we\'re pretty much invisible on the delivery platform\\" While that is true of other applications, FoodLeh? doesn\'t discriminates, with each listing given an equal opportunity to shine based on their proximity to each User. There\'s no need to eat into profit margins, and best of all, no more steep commissions!","para_four":"Steady lah, time to dabao and save our local F&B stall owners!","howtouse":"How to Use","forappusers":"(for App Users)","appusers":"At the \u201cHome\u201d page, select either \\"dabao\\" or \\"delivery\\", and key in your postal code. Start browsing listings! Encourage your favourite businesses during this tough period by giving them a virtual \u201cclap\u201d too!","forfnb":"(for Local F&B businesses)","fnb":"Go to the \u201cCreate\u201d page and fill in the form. Voila! All done in a matter of minutes!","aboutus":"About Us","disclaimer":"Disclaimer: FoodLeh? is a crowdsourced hawker directory relying on Singaporeans to share information about our local F&B places. We are co-sharing all our hawker listings data with Take.sg in order to consolidate nonprofit ground-up initiatives for hawkers. Our data is licensed under the Creative Commons License - tldr: Non-commercial use only! While we hope to keep the information on this platform as accurate as possible, there might be inaccuracies due to user entries from time to time. FoodLeh? will not be held liable for any inaccuracies or misrepresentation here, but we continue striving to improve this platform. Contact us at foodleh@outlook.com if you have any suggestions or notice anything we could improve."},"search":{"alllistings":"All Listings","prompt":"   Search by Name, Category, Food, Items e.g. Chicken Rice","filterby":"Filter By Cuisine","nearyouat":"Near You At ","postalcode":"Postal Code","delivery":"Delivery","self_collect":"Dabao"},"driver":{"rules":"Rules of Use:","rules1":"1. This is a free service to broadcast F&B delivery jobs to drivers. During peak periods, please send your order at least 1h in advance for higher chance of finding drivers.","rules2":"2. We cannot guarantee that we can find a driver as we only broadcast the message for free. If a driver is found, you will get an SMS with driver contact number. No need to cancel the request after driver is found.","rules3":"3. As long as there\'s no SMS with driver contact number, assume that driver has not been found. You will need to find drivers from other platforms too. If you find a driver on another platform, please cancel this request (link in your initial confirmation SMS).","thankyou":"Thank you and all the best!","timelimit":"Time cannot be less than 30min from now","deliveryfrom":"Delivery From","deliveryto":"Delivery To","viewmap":"View Map","mapwillload":"Map will be loaded after details are given","arrangedelivery":"\u2193 To Arrange Delivery \u2193","mobilenumber":"Mobile Number","drivernote":"Note To Driver (If NA, driver will use customer phone # as identifier)","placeholderdrivernote":"Max 40 char. E.g. Collect order number 3","postalcode":"Postal Code","placeholderpostalcode":"Enter Postal Code","verified":"Verified your phone number:","distance":"Distance","estduration":"Est. Duration","estarrival":"Arrival Time","submitted":"Submitted! If found, a driver will contact you directly. Driver will use customer mobile no. to collect order. Pls pay driver EOD (End of Day).","pickupdate":"Pickup Date","pickuptime":"Pickup Time","deliverycost":"Delivery Cost","fillindetails":"Fill in details above","iagree":"I agree that I am a local F&B looking for a delivery and FoodLeh is not liable for any event not limited to inaccuracies, delays, costs, spillage, accidents, injuries, food poisoning, etc. I also agree to let FoodLeh use the provided information to find a driver with all reasonable means. FoodLeh is only responsible for matching the two sides who will assume all responsibilities.","confirm":"Confirm Details","review":"Review Request","clicktosearch":"Click To Search"}}')},166:function(e){e.exports=JSON.parse('{"menu":{"homelabel":"\u9996\u9875","searchlabel":"\u641c\u7d22","createlabel":"\u6ce8\u518c","aboutlabel":"\u7b80\u4ecb","language_button":"EN"},"home":{"i_want":"\u6211\u8981","delivery":"\u9001\u9910","self_collect":"\u6253\u5305","acknowledgement":"\u516c\u5f00\u58f0\u660e\uff1a\u5728\u8bbe\u8ba1\u53ca\u63a8\u884c\u7684\u521d\u6b65\u9636\u6bb5\uff0c\u672c\u5e94\u7528\u7a0b\u5e8f\u501f\u7528\u4e86TheSmartLocal\u7684\u6570\u636e\u4e0e\u56fe\u7247\u3002\u5bf9\u6b64\uff0c\u672c\u56e2\u961f\u6df1\u8868\u6b49\u610f\uff0c\u5e76\u4fdd\u8bc1\u5f53\u524d\u6570\u636e\u90fd\u5df2\u7ecf\u8fc7\u4e1a\u4e3b\u4eec\u7684\u8bb8\u53ef\uff0c\u65b9\u80fd\u516c\u5f00\u5c55\u793a\u3002","choose":"\u9009\u62e9","dabao":"\u6253\u5305\u81ea\u63d0","or":"\u6216","delivery_word":"\u70b9\u5916\u5356","now_enter":"\u8bf7\u8f93\u5165","postalcode":"\u90ae\u653f\u7f16\u7801","wehave":"\u5982\u4eca\u5df2\u6709 ","listings":" \u5bb6\u996e\u98df\u4e1a\u8005\u6ce8\u518c\u4e86\u3002\u5e2e\u6211\u4eec\u8fbe\u5230 800 \u644a\u4f4d\u7684\u76ee\u6807\uff01","goto":" \u8bf7\u5230 ","createlink":"\u8fd9\u91cc","nowtoadd":" \u53bb\u6ce8\u518c\u5427\uff01"},"create":{"createfree":"\u8bf7\u5728\u4ee5\u4e0b\u514d\u8d39\u5165\u9a7b\u5e73\u53f0\u4e0e\u6ce8\u518c\u7f51\u7ad9\uff01","existing":"\u82e5\u60a8\u5df2\u6ce8\u518c\uff0c\u8bf7\u5230: ","createlisting":"\u8bf7\u5728\u4ee5\u4e0b\u5165\u9a7b\u5e73\u53f0","createwebsite":"\u8bf7\u5728\u4ee5\u4e0b\u5165\u9a7b\u5e73\u53f0\u4e0e\u6ce8\u518c\u7f51\u7ad9","step1":"\u7b2c\u4e00\uff1a \u644a\u4f4d\u8d44\u6599 \uff08\u5fc5\u586b\uff09","pleaseenter":"\u8bf7\u8f93\u5165\u4ee5\u4e0b\u8d44\u6599","stallname":"\u644a\u4f4d\u540d\u79f0","placeholderstallname":"\u8f93\u5165\u644a\u4f4d\u540d\u79f0","tags":"\u6807\u7b7e","placeholdertags":"E.g. handmade, spicy, soup, sgunited","entermultiple":"(\u8f93\u5165\u6240\u6709\u9002\u5f53\u7684\u83dc\u5f0f)","cuisinecategory":"\u83dc\u5f0f","placeholdercuisine":"E.g. Asian, Local, Beverages","selectmultiple":"(\u9009\u62e9\u6240\u6709\u9002\u5f53\u7684\u83dc\u5f0f)","contactnumber":"\u8054\u7edc\u53f7\u7801 (\u82e5\u6ca1\u6709\u8054\u7edc\u53f7\u7801\uff0c\u8f93\u51650): ","postalcode":"\u90ae\u653f\u7f16\u7801","placeholderpostalcode":"\u8f93\u5165\u90ae\u653f\u7f16\u7801","streetname":"\u8857\u9053","autofill":"(\u81ea\u52a8\u5b8c\u6210)","placeholderstreetname":"\u8f93\u5165\u8857\u9053","unit":"\u95e8\u724c #","placeholderunit":"\u4f8b\u5982\uff1a #01-01","briefdescription":"\u7b80\u4ecb","max45chars":"\uff08\u5b57\u6570\u9650\u4e8e45\u5b57\uff09","placeholderbriefdescription":"\u4f8b\u5982\uff1a\u672c\u5730\u6700\u597d\u5403\u7684\u9e21\u996d","selfcollectordelivery":"\u6253\u5305/\u5916\u5356","important":"(\u5fc5\u586b)","selfcollection":"\u6253\u5305","delivery":"\u5916\u5356","deliveryoptions":"\u5916\u9001\u9009\u62e9","whichregion":"\u5916\u9001\u5730\u533a (\u5168\u5c9b/\u4e1c\u90e8/\u5357\u90e8/\u897f\u90e8/\u5317\u90e8/\u4e2d\u90e8)","deliveryfees":"\u5916\u9001\u8d39\u7528: ","placeholderfees":"\u4f8b\u5982\uff1a\u7528\u9910\u8d39\u7528\u5c11\u8fc7$30\uff0c$2.99","deliverydetails":"\u5916\u9001\u8be6\u60c5","placeholderdeliverydetails":"\u4f8b\u5982\uff0c\u9001\u5230 Bukit Panjang\uff0c$30","step2":"\u7b2c\u4e8c\u6b65: \u5176\u4ed6\u7ec6\u8282 (\u9009\u586b)","additional":"\u5176\u4ed6\u8be6\u60c5","free_delivery":"\u514d\u8d39\u5bc4\u9001\u91cf","minumum_order":"\u6700\u4f4e\u8ba2\u8d2d\u91cf","placeholderadditional":"\u4f8b\u5982\uff1a\u9650\u65f6\u4fc3\u9500\uff0c\u4e70\u4e09\u9001\u4e00\uff0c\u5168\u5c9b\u9001\u9910","generalpromo":"\u4fc3\u9500","discount":"\u4fc3\u9500\u8be6\u60c5","eightchars":"(\u5b57\u4f53\u9650\u4e8e8\u5b57)","placeholderdiscount":"\u4f8b\u5982\uff1a \u4e5d\u6298\uff0c\u516b\u6298","condition":"\u6761\u4ef6 (\u5b57\u4f53\u9650\u4e8e40\u5b57)","placeholdercondition":"\u4f8b\u5982\uff1a\u6700\u5c11\u6d88\u8d39 $20","website":"\u7f51\u7ad9/Facebook/\u5176\u4ed6\u5e73\u53f0","hours":"\u8425\u4e1a\u65f6\u95f4","placeholderhours":"\u4f8b\u5982\uff1a\u5468\u4e00 7:00 \u81f3 20:00","menuitem":"\u83dc\u5355\u9879\u76ee","menuitems":"\u83dc\u5355\u9879\u76ee","placeholdermenuitem":"\u4f8b\u5982\uff1a\u6d77\u5357\u9e21\u996d","additem":"\u52a0\u83dc\u5355\u9879\u76ee","addmoreitem":"+ \u518d\u52a0\u83dc\u5355\u9879\u76ee","price":"\u4ef7\u94b1","contact":"\u987e\u5ba2\u70b9\u83dc\u65b9\u5f0f\uff1a","call":"\u901a\u8bdd","inperson":"\u5f53\u9762","preview":"\u9884\u89c8","previewdescription":"\u9884\u5148\u68c0\u67e5\u60a8\u7684\u9875\u9762:","notsatisfied":"\u5982\u6709\u4e0d\u6ee1\u610f\uff0c\u53ef\u4ee5\u968f\u65f6\u66f4\u6539\uff01","submit":"\u5b8c\u6210","uploadimages":"\u4e0a\u8f7d\u56fe\u7247","uploadimagedescription":"\u8bf7\u4e0a\u8f7d\u644a\u4f4d\u7167\u7247","uploadmenu":"\u82e5\u6709\u83dc\u5355\uff0c\u8bf7\u4e0a\u8f7d\u83dc\u5355\u56fe\u7247"},"about":{"para_one":" \u662f\u4e2a\u5b8c\u5168\u514d\u8d39\uff0c\u5bb9\u6613\u4f7f\u7528\u7684\u5e73\u53f0\u3002\u6211\u4eec\u81f4\u529b\u4e8e\u5e2e\u52a9\u9910\u996e\u4e1a\u8005\u4eec\u589e\u52a0\u66dd\u5149\u7387\uff0c\u8ba9\u56fd\u4eba\u4eec\u80fd\u591f\u6709\u66f4\u591a\u7684\u7f8e\u98df\u9009\u62e9\u3002","para_two":"\u6211\u4eec\u662f\u51e0\u540d\u5b66\u751f\uff0c\u4e0d\u662f\u516c\u53f8\u4e5f\u4e0d\u6536\u4efb\u4f55\u8d39\u7528\u3002\u672c\u670d\u52a1\u8d77\u6e90\u4e8e\u8349\u6839\uff0c\u672a\u53c2\u4e0e\u7684\u5546\u5bb6\u4eec\u5747\u53ef\u514d\u8d39\u5c06\u81ea\u5df1\u7684\u5e97\u94fa\u653e\u4e0aFoodleh?\u7684\u5e73\u53f0\u3002\u51e1\u662f\u6709\u5fc3\u8005\uff0c\u90fd\u53ef\u5728\u672c\u5e73\u53f0\u4e0a\u652f\u6301\u4ed6\u4eec\u6700\u559c\u7231\u7684 auntie \u548c uncle\uff01","para_three":"\u8fd1\u65e5\uff0c\u793e\u4ea4\u5a92\u4f53\u4e0a\u7684\u8f69\u7136\u5927\u6ce2\u5c06\u672c\u5730\u9910\u996e\u4e1a\u8005\u4eec\u6240\u9762\u4e34\u7684\u5fc3\u9178\u90fd\u5c55\u9732\u4e86\u51fa\u6765\u3002\u5176\u4e2d\uff0c\u6700\u4e3a\u6df1\u523b\u7684\u4e00\u53e5\uff1a\u201c\u82e5\u6211\u4eec\u4e0d\u613f\u7ed9\u81ea\u5df1\u7684\u5546\u54c1\u6253\u6298\uff0c\u90a3\u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\u80af\u5b9a\u770b\u4e0d\u5230\u6211\u4eec\u201d\u3002\u56e0\u6b64 FoodLeh? \u662f\u4e2a\u4e0d\u5206\u5927\u5c0f\uff0c\u4e0d\u8bba\u94b1\u8d22\u7684\u5e73\u53f0\u3002\u672c\u5e73\u53f0\u7684\u6392\u5e8f\u7f16\u7a0b\u4e3b\u8981\u8003\u91cf\u5c31\u662f\u5546\u5bb6\u4e0e\u7528\u6237\u4e4b\u95f4\u7684\u5b9e\u9645\u8ddd\u79bb\u3002\u79bb\u5f97\u8d8a\u8fd1\uff0c\u5546\u5bb6\u4eec\u5c31\u4f1a\u51fa\u73b0\u5728\u60a8\u7684\u5c4f\u5e55\u4e0a\uff01\u5546\u5bb6\u4eec\u80fd\u591f\u8d5a\u53d6\u66f4\u9ad8\u7684\u5229\u6da6\uff0c\u4e5f\u80fd\u7701\u53bb\u6602\u8d35\u7684\u52a0\u76df\u8d39\uff01","para_four":"\u8ba9\u6211\u4eec\u4e00\u8d77\u6253\u5305\u70b9\u5916\u5356\uff0c\u62ef\u6551\u6211\u4eec\u7684\u672c\u5730\u9910\u996e\u4e1a\u8005\u5427\uff01","howtouse":"\u5982\u4f55\u4f7f\u7528","forappusers":"\uff08\u7528\u6237\u4eec\uff09","appusers":"\u5728\u9996\u9875\uff1a \u9009\u6253\u5305\u6216\u70b9\u5916\u5356, \u7136\u540e\u8f93\u5165\u90ae\u653f\u7f16\u7801\u3002\u8fc7\u540e\uff0c\u60a8\u53ef\u6e38\u89c8\u672c\u5e73\u53f0\u4e0a\u6240\u6709\u53c2\u4e0e\u5176\u4e2d\u7684\u5546\u5bb6\u4eec\u3002\u82e5\u6709\u60a8\u5fc3\u4eea\u7684\u5546\u5bb6\uff0c\u8bf7\u5728\u4ed6\u4eec\u7684\u5e97\u94fa\u4fe1\u606f\u9875\u9762\u4e0a\u9f13\u4e2a\u201c\u638c\u201d\uff01","forfnb":"\uff08\u672c\u5730\u9910\u996e\u4e1a\u8005\u4eec\uff09","fnb":"\u8bf7\u70b9\u51fb\u201c\u6ce8\u518c\u201d\uff0c\u5e76\u8f93\u5165\u4f60\u7684\u5e97\u94fa\u4fe1\u606f\u3002\u53ea\u97005\u5206\u949f\uff0c\u5c31\u80fd\u591f\u6210\u529f\u6ce8\u518c\u5566\uff01","aboutus":"\u5173\u4e8e\u6211\u4eec","disclaimer":"\u516c\u5f00\u58f0\u660e\uff1aFoodleh?\u662f\u4e2a\u4f17\u5305\u7684\u7f8e\u98df\u76ee\u5f55\uff0c\u5168\u9760\u56fd\u4eba\u4eec\u7684\u9f0e\u529b\u652f\u6301\uff0c\u65b9\u80fd\u5206\u4eab\u672c\u5730\u9910\u996e\u4e1a\u8005\u4eec\u7684\u4fe1\u606f\u3002\u6211\u4eec\u76ee\u524d\u4e0e Take.sg \u4e00\u8d77\uff0c\u4e24\u5927\u5e73\u53f0\u5171\u4eab\u6362\u4fe1\u606f\u3002\u867d\u7136\u672c\u5e73\u53f0\u5c3d\u53ef\u80fd\u786e\u4fdd\u5e73\u53f0\u4e0a\u7684\u4fe1\u606f\u662f\u51c6\u786e\u7684\uff0c\u4f46\u7531\u4e8e\u5927\u91cf\u7684\u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u5076\u5c14\u4f1a\u51fa\u73b0\u4fe1\u606f\u4e0d\u5bf9\u7b49\u7684\u60c5\u51b5\u3002\u5018\u82e5\u6709\u8bef\uff0cFoodleh?\u5c06\u4e0d\u4f1a\u627f\u62c5\u4efb\u4f55\u7684\u6cd5\u5f8b\u8d23\u4efb\u3002\u82e5\u53d1\u73b0\u6709\u8bef\uff0c\u6216\u662f\u6709\u4efb\u4f55\u7684\u5efa\u8bae\uff0c\u8bf7\u968f\u65f6\u8054\u7edc\u672c\u5e73\u53f0\u3002\u672c\u5e73\u53f0\u7684\u7535\u5b50\u90ae\u7bb1\u662f foodleh@outlook.com\u3002"},"search":{"alllistings":"\u7f8e\u98df\u76ee\u5f55","prompt":"   \u8f93\u5165\u644a\u540d / \u83dc\u5f0f / \u98df\u7269\u540d\u79f0 \uff08\u82f1\u6587\uff09","filterby":"\u9009\u62e9\u83dc\u5f0f","nearyouat":"\u9644\u8fd1 ","postalcode":"\u90ae\u653f\u7f16\u7801","delivery":"\u9001\u9910","self_collect":"\u6253\u5305"},"driver":{"rules":"\u4f7f\u7528\u89c4\u5219:","rules1":"1. \u8fd9\u662f\u4e00\u4e2a\u514d\u8d39\u5e73\u53f0\uff0c\u6211\u4eec\u5e2e\u5fd9\u5411\u53f8\u673a\u4eec\u4f20\u64ad\u9001\u9910\u9700\u6c42\u3002\u9ad8\u5cf0\u671f\u65f6\uff0c\u8bf7\u63d0\u65e9 1\u4e2a\u949f \u63d0\u4ea4\u60a8\u7684\u9001\u9910\u9700\u6c42\uff0c\u624d\u6709\u66f4\u9ad8\u7684\u673a\u4f1a\u627e\u5230\u53f8\u673a\u3002","rules2":"2. \u6211\u4eec\u53ea\u5e2e\u5fd9\u514d\u8d39\u4f20\u64ad\u7ed9\u53f8\u673a\u7fa4\uff0c\u6240\u4ee5\u4e0d\u80fd\u4fdd\u8bc1\u6709\u53f8\u673a\u4f1a\u63a5\u53d7\u60a8\u7684\u9001\u9910\u9700\u6c42\u3002\u82e5\u6709\u627e\u5230\u53f8\u673a\uff0c\u60a8\u4f1a\u63a5\u5230\u7b80\u8baf\uff0c\u91cc\u9762\u6709\u53f8\u673a\u624b\u673a\u53f7\u7801\u3002\u627e\u5230\u53f8\u673a\u540e\uff0c\u8981\u6c42\u4f1a\u81ea\u52a8\u5b8c\u6210\uff0c\u60a8\u4e0d\u5fc5\u53d6\u6d88\u3002","rules3":"3. \u53ea\u8981\u6ca1\u63a5\u5230\u53f8\u673a\u53f7\u7801\u7684\u7b80\u8baf\uff0c\u5c31\u4ee3\u8868\u8fd8\u6ca1\u627e\u5230\u53f8\u673a\u3002\u82e5\u60a8\u6025\u9700\u53f8\u673a\uff0c\u5fc5\u987b\u5728\u5176\u4ed6\u5e73\u53f0\u4e0a\u5bfb\u6c42\u3002\u82e5\u60a8\u5728\u5176\u4ed6\u5e73\u53f0\u4e0a\u627e\u5230\u53f8\u673a\uff0c\u8bf7\u8bb0\u5f97\u53d6\u6d88\u60a8\u7684\u8981\u6c42\uff08\u94fe\u63a5\u5728\u60a8\u7684\u786e\u8ba4\u7b80\u8baf\u91cc\uff09\u3002","thankyou":"\u8c22\u8c22\uff0c\u52a0\u6cb9\uff01","timelimit":"\u53d6\u98df\u7269\u65f6\u95f4\u5fc5\u987b\u81f3\u5c11\u572830\u5206\u949f\u540e","deliveryfrom":"\u51fa\u53d1\u5730\u70b9","deliveryto":"\u9001\u5f80\u5730\u70b9","viewmap":"\u5168\u56fe","mapwillload":"\u8f93\u5165\u90ae\u653f\u7f16\u7801\u540e \u4f1a\u663e\u793a\u9001\u8d27\u8d39","arrangedelivery":"\u2193 \u5b89\u6392\u9001\u9910 - \u8bf7\u6dfb\u8868\u683c \u2193","mobilenumber":"\u624b\u673a\u53f7\u7801","drivernote":"\u53f8\u673a\u542f\u793a  (\u965040\u5b57\uff0c\u82e5\u65e0\uff0c\u987e\u5ba2\u624b\u673a\u53f7\u7801\u5c06\u662f\u53f8\u673a\u7684\u8bc6\u522b\u7801)","placeholderdrivernote":"\u5982\uff1a\u8ba2\u5355\u53f7\u7801 3\u53f7","postalcode":"\u90ae\u653f\u7f16\u7801","placeholderpostalcode":"\u8f93\u5165\u90ae\u653f\u7f16\u7801","verified":"\u5df2\u786e\u8ba4\u60a8\u7684\u624b\u673a\u53f7\u7801:","distance":"\u8ddd\u79bb","estduration":"\u9884\u6d4b\u884c\u7a0b\u65f6\u95f4","estarrival":"\u9884\u6d4b\u5230\u8fbe\u65f6\u95f4","submitted":"\u6210\u529f\uff01\u82e5\u6709\u53f8\u673a\u63a5\u53d7\uff0c\u53f8\u673a\u4f1a\u76f4\u63a5\u901a\u77e5\u60a8\u3002\u53d6\u98df\u7269\u65f6\uff0c\u53f8\u673a\u4f1a\u63d0\u4f9b\u987e\u5ba2\u7535\u8bdd\u53f7\u7801\u3002\u8bf7\u8bb0\u5f97\u6bcf\u5929\u7ed3\u675f\u540e\u5411\u53f8\u673a\u4eec\u4ed8\u94b1\u3002","pickupdate":"\u53d6\u98df\u7269\u65e5\u671f","pickuptime":"\u53d6\u98df\u7269\u65f6\u95f4 ","deliverycost":"\u9001\u8d27\u8d39","fillindetails":"\u8bf7\u8f93\u5165\u4ee5\u4e0a\u8d44\u6599","iagree":"\u6211\u662f\u672c\u5730\u9910\u996e\u4e1a\u8005\uff0c\u60f3\u627e\u53f8\u673a\u6765\u7ed9\u987e\u5ba2\u9001\u98df\u7269\u3002\u82e5\u6709\u4efb\u4f55\u9057\u5931\uff0cFoodleh? \u5c06\u4e0d\u4f1a\u627f\u62c5\u4efb\u4f55\u7684\u6cd5\u5f8b\u8d23\u4efb\u3002\u8fd9\u5305\u62ec\u53f8\u673a\u8fdf\u5230\uff0c\u4efb\u4f55\u8d39\u7528\uff0c\u610f\u5916\u7b49\u3002\u6211\u540c\u610f FoodLeh \u7528\u4ee5\u4e0a\u8d44\u6599\u5e2e\u5fd9\u4f20\u64ad\u7ed9\u53f8\u673a\u3002","confirm":"\u786e\u5b9a\u8d44\u6599","review":"\u5ba1\u67e5\u8d44\u6599","clicktosearch":"\u70b9\u51fb\u786e\u8ba4"}}')},168:function(e,t,a){e.exports=a.p+"static/media/placeholder.1f25c33e.png"},195:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAABYCAYAAAAz+oHmAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHCGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTI4VDE3OjQxOjE4KzEwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTI4VDE3OjQxOjE4KzEwOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0yOFQxNzo0MToxOCsxMDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphOGMzN2FhOS0wOWE4LTkzNGYtOTNhOS0wYTZkMTRkZmJhNzYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozODZkMjcwYS1kNjUzLTNmNDEtOWEwNy01OTM4OTM0Mjc0ZDQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NDYwMzM0ZC1kMDYwLTdjNGQtODMwMy05YTM2NzNlZTJjZDciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk0NjAzMzRkLWQwNjAtN2M0ZC04MzAzLTlhMzY3M2VlMmNkNyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yOFQxNzo0MToxOCsxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphOGMzN2FhOS0wOWE4LTkzNGYtOTNhOS0wYTZkMTRkZmJhNzYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjhUMTc6NDE6MTgrMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+NDdGMUQ0QjUzMjAxNDcxRDFEM0NFRDNCNjA3QTgyNzc8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6MDI3Mjc4OGUtMTBiZC1kYzQ2LWE3MzUtZWFhZDIyM2I4MWUyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDphOTlmNWZiNi1mNDE2LWJiNDktOGI4Ny1mZGIyNTg0MzU1YzQ8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6GDyzoAAAE1UlEQVR4nO2d227cMAwFvUX//5e3D63b7cIX2SbFQ3IGCJA0jVaWOKIk316LJu+P719htQAohJJI74PfndXz6G9HywAozc/Azx4RFACMmJXtLMQ+qutZ+dmyOgOhLdn63wWPzO4VqO+FTgO4zV3ZyTwAydiTXVVm7+y+HjczCCjHj6+f34uu6N68d74HKEHkbvwoM7LsltzsEUAplGSPEusoizOthzJEyh4t0JWp+uwsP7ttnlzQNKM8MOB7zd6lI+6syVnHQ2qsMvvWIKEsx1rfq3VkHQ9pGZW9aoC/FoSHJmzJ3i2Q7wgPkI7vNXtXug1w0BBk/8eo8AwMkBJk/58zkREd0qJ0UY0Ke2t4JdFn7jFYf5Z1eUr9Ig2ZfZvvACKgID1k9n0QHEpBZgdoArIDNAHZAZqA7ABNuHtDCBzjvbmnfkuqenktIbMDNAHZAZqA7ABNQHaAJiA7QBOQHaAJyA7QhPVGGI9zlTPfrFrtLa4A5pDZAZrALa71UH/YBFdrBkFmB2gCsgM0AdkBmoDsAE1A9mPeCxtKUARk3+e98z1ASjj1ts2W3Ou/qV+gY12/vYFuZjsw2BqA7NfJIr0FR5J9/s67LTq0tTsZZfd+ZfJoFol8dbNS8CvVBQ7IsmZ/L/9vln0LeRZwTAOvM9JmiJ4I1cweJefo51YPckQviIrsCpkX0X+D6EWJlF1B8KtUD3JEL0yWNbs3GQeeCBA9MZaZPaswKtP3DO2XoY5ntB2w7speodOv0DZAoA4jsquIHfHoLIAyvBbtgL8q+JVn0alM31eU+6ESbWdpKqfeVtTEahsYUA8F2REKYAKRskdJTlaHlkSu2b1ksjie6qIrXDyjUIdW/FhsG/T18ZWVzHUfQUEyhTq04+k0ng7JhYJknHUI4qrs1eWufHwKoo+iUo9SHJ13ftrgke9fu5M9KgeYiugq9WjJ3o0w3Rq88vGqCKZSj7Z8TuO7NnTl41ZZH6vUozUKF9VYcyWwEP38/3ov56w+B06oJDvZ4x+WbbFV1qiYiC5E5CaZ5Wc/Ce5qgRYx6G21IaKLUUH2qCvmIh8lvUe22Y1a+53h8c4A6zJ3y8ssu2Vg35X97t96kkV4tXY7wuOtONZlnpaXUXavYH5677xa8I4Gk8q0XxWPU4bWZQ6Vl+2Bk56B+bRstTe+bt2jsBVAr6+vGSi10xEe9bQuc7i8LJndYgPOesMo8grB2XjLqdhWV4955Bisy7xUnvqpN8td9tHbeUfW4p1EXxb/qf/Ml0S2RVX2p8FkETCKu+0KeGd5xHdCTXbv02hXH9axFXhZ1pvWRBw34huiILtVEI0Gw92n83SUXOmYVU91pkFlgy5i2u4ZyJkD0mN2pXK69CoeVwHO3ij+W55CZn/Ck872ev5eNtFnXJxkObB/Qra/QGRGfDr6K11u+4lq4CnOZDIMth5nXqzLHCovo+zKT6VdlljZZ6+xVQfcZZlzo1X5y2U9pfC8r3oEhVN+3yhtkq2oPVJsD9VZVghZ1uyzOu3J6bXqomfog61y4A/qskd1WPdz6iuRwtAHxkRurGQbeT3WbXc/0xPlfone10lNlOx0xjgdb0I5I3pvJyXq03iwpYoIe1P8KsfnwmzZ6Yw5dGln1vUX6BIUmYnYK4CC/AIJPeLuyl7KIAAAAABJRU5ErkJggg=="},210:function(e,t,a){e.exports=a.p+"static/media/whatsapp_icon.9500e026.png"},217:function(e,t,a){e.exports=a.p+"static/media/driver.bccb5d99.png"},258:function(e,t,a){e.exports=a.p+"static/media/fb.781ee9eb.png"},259:function(e,t,a){e.exports=a.p+"static/media/insta.b2aa37d3.png"},260:function(e,t){e.exports="data:image/png;base64,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"},261:function(e,t,a){e.exports=a.p+"static/media/chinese_delivery_2.36b2bede.png"},262:function(e,t,a){e.exports=a.p+"static/media/chinese_dabao_2.d3ab11dd.png"},269:function(e,t,a){e.exports=a.p+"static/media/store_address.d5892e03.png"},270:function(e,t,a){e.exports=a.p+"static/media/delivery_address.ac5a10d6.png"},271:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcYAAABpCAYAAACgX4OmAAAACXBIWXMAAC4jAAAuIwF4pT92AAAIaGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTAxVDE1OjA3OjE5KzEwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTAxVDE1OjA3OjE5KzEwOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0wMVQxNTowNzoxOSsxMDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjNzdhNjU1OC05M2U1LTJhNGEtOWIyZC0xZTA2NjYwODU2MTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmY2MxY2ZmYS00MjI4LWZjNDQtODYwNS02ZDA4NjE0N2MxOWYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5ZTBlZGZjYS1iYjJkLTQ1NDctYTk0OC01YTUzODRjYmNlYTEiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjllMGVkZmNhLWJiMmQtNDU0Ny1hOTQ4LTVhNTM4NGNiY2VhMSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0wMVQxNTowNzoxOSsxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjNzdhNjU1OC05M2U1LTJhNGEtOWIyZC0xZTA2NjYwODU2MTUiIHN0RXZ0OndoZW49IjIwMjAtMDUtMDFUMTU6MDc6MTkrMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTdW1tYXJ5IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJTdW1tYXJ5Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+NDdGMUQ0QjUzMjAxNDcxRDFEM0NFRDNCNjA3QTgyNzc8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6OTEyMjc4YzktNGQ1Zi0zZTQyLWFlN2MtNjk4MTliOWJmODIyPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmE3ZDNlZTFhLTE5M2YtMGE0MC04ZTQxLWIyNzFkNjlhMzIxNDwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpiNDU2NGU0Yi05Mjc5LTFhNDEtYWFhYS1jMTFmOWUyMTE3MjE8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOmE5OWY1ZmI2LWY0MTYtYmI0OS04Yjg3LWZkYjI1ODQzNTVjNDwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6ZDdmZjAzMjItOTdhMS03YzQ5LTk2OWEtZGVhMWYwOGY4MTc1PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nhtiFQAACPVJREFUeJzt3V2SozgQhVFVRS+I/a+CHdU8zLiHdhtbP6nMm9J3IvpppoxIhC7CAn+ViY7j+On92/M8vyzbAgBADdPwGQnCdwhJAIAXk8CZFYjPCEgAwGzDQeMVilcEJABglu6AiQjEK8IRADBDV7hEh+ID4QgAsNYcLCqh+EA4AgAsfUc3YJRaUAMAcmuabSmHEDNHAICF9DPGB+XQBgDkUT3LyhI8zBwBACOWmTGu6jiOnywXJQCwguVmjKWsM2t8VfNV9g0AVP2KboCq6FC6uxA5juOHcASAPjVj+5IzxlL6Q+zTfnqEUk2tCUfs6t35ke284ELXR+uYSjBeqARSba2t26JwUZAZ9bM3Ou4o1vxunxTbuoKWPvQ4Bu7B+OngWwZwa0eLCqTodrTWnBP4T9TP1oyLcIWac+Hkq7cfnef55boqtebAn+f5FdFBss2IS7Fpc8b9VkL97MxcgR29urtm2/QlOyO1PI7jR3bxzXmeX14dRalDerZldFvPf295QdNz+8Mb9bMR0ecVFtJhDot6Sz/HGDV7/GT3jn539W01g239nGzHg/rFb3vHi+4dWNW7OhgjA0oxHFWonXijtzAi/lbJTvWLPmbR24cty+MpPWO8mhWOu54cM/e757OzfV9K/fJs6x2144g+1rWW/Y7xlUc41hSBWWaso+H5LMtO3bJdZdQPpYytrLRui6oZFyDuPzvl8YhByzbUOl5Pe2Y9s2nB8/Gclu2Oon79FGdS3s8Ee1s1KGfUuflxDaXiPhbmPLdJqY1Yf3HFbNTPx+r727MoS93M/XG/lTrjVk3Uc48qV5lZb3/NPlGz1qUW9UOrR5+pOa53/UuhT8y+U9K8+EahKMgl8kp1hatk6ufDal8z1OxTG9/99+jZp8fXByGrUjN0HNh6PuY7roAcQf3gpfZ4RwSk13fq3bM/pYU4I0b2Q+VWak9bdhzsot4ss4ro+r3a/qzFFyN/n6lvWNbUYzz3Ot7dM0aFUAOwtrtFdrX/He9Z3onw+M7b+jPv+k3oA/6ZrqxWsmvdd/oOaQbL/a4Jutaw83gUDO/Nqp33nYGhVakWL/pm5RuwpxnnfctLQDBHy8rXls+zUtOu4Rmjxc7TieGFvjZml/qNPDpl3ZasFGtRm1cmt1KZ8QFQwpikweKOolVbWvqE2XeMO63kQm70tTFZ6kc4aoieffd8X226+IZwjEPtAFs7nlMq74C2DMWevzNflUo4IgP62Zgs9WPWqMP7hQAjx37K4xqEIwDkFP3LNAovj5n2HCPhCAB2np/xtAiwd8+Tjn72O3fju0IoljL5AX/CEcroX2Oy1G9kHFLZx4gXIniHo0ooluLw5hvCcT1Rr+Ba5dVf1A+1Wo9ZbVDWfmb0bdUWlm11+T3G0Tfk8HYcDc/HwPMtI9dtW7xxKQL1Q4uZt0p7PkP5dW/W+eD2rlRmjuuKmv14b3MW6jffbvs7g2oNZ7TL9SXihGNeqifFKK8+Rf3QQrW/7HI73v3XNQjHNc08WaJWznmifrq8x5wMx0WljbPaEfKzU4QjAC/eD5bvIjocZ24/7PcYVwhHyzYo7M+o6BMlO+o37hGC13/RbVrZqrdWQ3+oeIVwRKwVT0pPK9SPEIzn3Y9mby80GEuJD8cVBgZgJyvPCDOPR5nb/iw8GEuJD8cVrNQpW9F/xmSp34pBuBqPcchjGxLBWMreA/tKOI5jqN/fMgUix2+N7x1lgrGUNd5pCMCGUiCqtCOTzOEoFYyj6Lz7ynwSKlCqn1IgYox1v/Lqp3LBmOX7DvhQGrAzylY/zt/1ZOuDpbwIRoXVXhkLOYLBALuLHnMwV7Yx/Y9gfPX7WBk7a8Y2q8tQU+WTj/rdy1AbjBvtX57983cwvuucER1XeZADYINQ3EuWcV3uO8bdrDgwZOn8V0rHYZf6KdUcuPoupa6DZuvE2doLGxlDRYlX/Tg/99XTx7zP66YZ46qdmcEUWNfjgXPOc9T6tWrYeTmO46f3hLOqPSc8Mpk55nAu6MuQOc3fMWbYKeyNwXHMzPpZjx/X2eAKx53x9W8Rx5XFN0EyngAZ26yE+tlZJQihqSsYs5zgqu1UbRegjkCEB2aMBgg64LPMv51KGO+lOxhnh8GKYTPjTUKcsK9RlzFq9VNrD/pkGdeZMRr5dMCzdAhgVZyD+URdEP0a+eORRxU+fa7F57S07TzPr9HtPv7e4rOAlYycD8wW4W14xmgdACsEygr7cCfTvikOqNQvRqa6I963Ree36nR03jYrDVzADFl/IQixzL5jHO2AdF4Ar/S+oDzjm6W42NXwXYrtwejpkDNCkQ4Wy6L+Kp8RQWXfVepXs7jt+s+rXaiX6bj8XnxjvWDk+lmvTi7FImVaNKMyYAFespybsBE5xg2tSq3l3aEJDQBArz++YyRQcuA4taFeY1a6JdvK87cDs9ZoRX8tvsl+cEbbr77/6u0DgOxerkrNOvhmbfcDL0j+n3Uddqsr9Ru34z7jX7ePa2TrFNnae/UciK8C0jI0M9dKAfXrk6lu3m3NVJsdvH2OMcvBynx1/G5bjzDMchyAFXC+2cu2ovjjA/7qnWRW+zz2W722o9QWIWSr94r1Uz8GEe1Tr8mOqt58ozprUWxTrcxtB0ao9n3VdsFf0yvhlDpO1hmd6kVGrdltj/p8r2NC/fr+/5kiz0mlOuB/ze9KjR7YvbdvuS2lk0CpLQ+Zwon66XzOyPYjbztH7z/udb9EPGLVVtaruuiLCSs9+6C639d2KQfK6vWL+k4v6x2nXUTXzvTl4VafdRVdoGct+6nW9ldq9md0Pz5tI0Od7lA/O6uOIc/7Fd2eCK3HNrpG5hu36NzRRdnN3TGzPA6vtrHKcaZ+c/SMJavXJKvtg/GZxxU1AEAXwQgAwH8yzvy7F98AALAighEAgAuCEQCAC4IRAIALghEAgAuCEQCAC4IRAIALghEAgAuCEQCAC4IRAIALghEAICP6dXClEIwAAPyBYAQATKMwA2xFMAIAJKiEqEQjAABr+/TzUyqhWArBCABwcheOSqEIAIC74zh+en7A2Ms/sXexNaTdwrQAAAAASUVORK5CYII="},272:function(e,t,a){e.exports=a.p+"static/media/check-delivry-rates.8f8f4954.png"},312:function(e,t,a){},349:function(e,t,a){e.exports=a.p+"static/media/home-bs.c8e66f5f.png"},350:function(e,t,a){e.exports=a.p+"static/media/logo-header-nologo.621c3aab.png"},353:function(e,t,a){e.exports=a.p+"static/media/list_en.225dbeeb.png"},354:function(e,t,a){e.exports=a.p+"static/media/website_en.f8b1d32e.png"},355:function(e,t,a){e.exports=a.p+"static/media/list_cn.1924a4dc.png"},356:function(e,t,a){e.exports=a.p+"static/media/website_cn.e3b1abbd.png"},357:function(e,t,a){e.exports=a.p+"static/media/info_menu.0cfc412a.png"},358:function(e,t,a){e.exports=a.p+"static/media/orderleh_title.348985c2.png"},359:function(e,t,a){e.exports=a.p+"static/media/info_delivery.fe4b3f4d.png"},360:function(e,t,a){e.exports=a.p+"static/media/info_review_order.611fed97.png"},361:function(e,t,a){e.exports=a.p+"static/media/logo-black.2982e069.png"},362:function(e,t,a){e.exports=a.p+"static/media/hashtag.caf700ce.jpeg"},365:function(e,t,a){e.exports=a.p+"static/media/mrt_logo.85bd227c.png"},368:function(e,t){e.exports="data:image/png;base64,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"},369:function(e,t,a){e.exports=a.p+"static/media/infographic.dbbfaf1d.jpg"},375:function(e,t,a){e.exports=a.p+"static/media/custom.a126aab4.png"},38:function(e,t,a){},403:function(e,t,a){e.exports=a(704)},408:function(e,t,a){},412:function(e,t,a){},7:function(e,t,a){var n=a(413);a(420),a(294),a(421),"undefined"!==typeof window&&a(422);var r=a(703);n.initializeApp({apiKey:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIRESTORE_KEY),authDomain:"hawkercentral.firebaseapp.com",databaseURL:"https://hawkercentral.firebaseio.com",projectId:"hawkercentral",storageBucket:"hawkercentral.appspot.com",messagingSenderId:"596185831538",appId:"1:596185831538:web:9cbfb234d1fff146cf8aeb",measurementId:"G-Z220VNJFT9"});var l={signInFlow:"popup",signInOptions:[{provider:n.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"SG"}],callbacks:{signInSuccessWithAuthResult:function(e,t){return!1}}},o={signInFlow:"popup",credentialHelper:"none",signInOptions:[n.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e,t){return!1}}};"undefined"!==typeof window&&n.analytics();var i=n.firestore(),s=n.storage(),c=r.init(n),d=r.get;e.exports={__esModule:!0,geo:c,geoToPromise:d,db:i,storage:s,firebase:n,uiConfig:l,uiConfigPage:o,default:n}},704:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),o=a.n(l),i=(a(408),a(3)),s=a.n(i),c=a(9),d=a(14),u=a(15),m=a(16),p=a(28),h=a(18),g=a(17),f=(a(410),a(38),a(411),a(33)),v=a(43),b=a(349),E=a.n(b),y=a(131),w=a.n(y),A=a(258),x=a.n(A),k=a(259),C=a.n(k),D=a(260),S=a.n(D),O=a(44),T=a(161),P=a.n(T),N=a(162),I=a.n(N),j=a(195),M=a.n(j),_=a(261),L=a.n(_),B=a(262),R=a.n(B),F=r.a.createContext({language:"en",toggleLanguage:function(){}}),U=r.a.createContext({cartProducts:[],cartTotal:{productQuantity:0,totalPrice:0},addProduct:function(){}}),z=a(773),W=a(836),Y=a(383),G=a(52),Q=a.n(G),V=(a(412),a(380)),J=a(7),Z=a.n(J),H=new O.a;var q=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:[],option:"",retrieved:!1,count:500,open:!0},e.retrieveData=Object(c.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],t.next=3,J.db.collection("hawkers").get().then((function(t){return e.setState({count:t.docs.length}),!0})).catch((function(e){console.log(e)}));case 3:e.setState({data:a,retrieved:!0});case 4:case"end":return t.stop()}}),t)}))),e.handleCollect=function(){e.setState({option:"selfcollect"})},e.handleDelivery=function(){e.setState({option:"delivery"})},e.handleClose=function(t){t.preventDefault(),e.setState({open:!1})},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){this.retrieveData()}},{key:"getData",value:function(e){this.setState({data:e})}},{key:"render",value:function(){var e=this,t=this.context;console.log("home is rendering"),console.log(t.language);var a="delivery"===this.state.option?"home-option-clicked":"home-option",n="selfcollect"===this.state.option?"home-option-clicked":"home-option";return r.a.createElement("div",{class:"container-fluid",className:"home"},r.a.createElement("div",{class:"jumbotron row"},r.a.createElement("div",{class:"container"},"Android"===function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)&&/version/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}()?r.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,message:r.a.createElement("div",{style:{fontSize:"30px"}},"Android App is no longer working. Please use browser and visit ",r.a.createElement("b",null,"www.foodleh.app")," instead."),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleClose},r.a.createElement(Q.a,{fontSize:"small"})))}):null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("img",{alt:"Cut the middlemen - Save our local F&B",class:"img-fluid",src:E.a,style:{width:"80%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"d-none d-md-inline-block"},r.a.createElement("span",{style:{fontSize:"10px"}},"Connect with us:"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.facebook.com/foodlehsg/",target:"blank"},r.a.createElement("img",{class:"img-fluid",style:{width:"30px",margin:"10px"},alt:"fb",src:x.a})),r.a.createElement("a",{href:"https://instagram.com/foodleh.sg",target:"blank"},r.a.createElement("img",{class:"img-fluid",style:{width:"30px",margin:"10px"},alt:"insta",src:C.a})),r.a.createElement("a",{href:"mailto:foodleh@outlook.com",target:"blank"},r.a.createElement("img",{class:"img-fluid",style:{width:"30px",margin:"10px"},alt:"email",src:S.a})),r.a.createElement("a",{href:"https://t.me/foodleh",target:"blank"},r.a.createElement(z.a,{size:32,round:!0,style:{margin:"10px"}})))),r.a.createElement("div",{class:"col-xs-6 col-sm-6 col-md-6 col-lg-6 align-items-center justify-content-center"},r.a.createElement("br",null),r.a.createElement("img",{alt:"I want...",class:"home-iwant",src:"en"===H.get("language")?w.a:M.a}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{class:"row d-none d-md-inline-block"},r.a.createElement("span",{class:"col"},r.a.createElement("img",{onClick:this.handleCollect,alt:"",class:n,src:"en"===H.get("language")?I.a:R.a,style:{width:"30%"}})),r.a.createElement("span",{class:"col"},r.a.createElement("img",{alt:"",onClick:this.handleDelivery,class:a,src:"en"===H.get("language")?P.a:L.a,style:{width:"30%"}}))),r.a.createElement("span",{class:"row d-inline-block d-md-none"},r.a.createElement("button",{style:{backgroundColor:"white"}},r.a.createElement("img",{alt:"",onClick:this.handleCollect,class:n,src:"en"===H.get("language")?I.a:R.a})),r.a.createElement("button",{style:{backgroundColor:"white"}},r.a.createElement("img",{alt:"",onClick:this.handleDelivery,class:a,src:"en"===H.get("language")?P.a:L.a}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(F.Consumer,null,(function(t){return function(e,t){switch(console.log("renderpostalcodeform",t),e){case"":return r.a.createElement("span",{class:" main-caption"},r.a.createElement("div",null," ",t.data.home.choose," ",r.a.createElement("b",null,t.data.home.dabao," ")," ",t.data.home.or," ",r.a.createElement("b",null," ",t.data.home.delivery_word)));case"delivery":case"selfcollect":return r.a.createElement("span",{class:"label label-default main-caption"},r.a.createElement("span",{class:"main-caption"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",null,e.data.home.now_enter," ",r.a.createElement("strong",null,e.data.home.postalcode))})),r.a.createElement("br",null),r.a.createElement(Oo.Search,{option:e})))}}(e.state.option,t)})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),this.state.retrieved?r.a.createElement("div",null,r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{style:{fontSize:"12px"}},t.data.home.wehave,r.a.createElement("b",null,e.state.count),t.data.home.listings,r.a.createElement("br",null),t.data.home.goto,r.a.createElement("a",{href:"/create"},t.data.home.createlink),t.data.home.nowtoadd)})),r.a.createElement("span",{style:{fontSize:"12px"}},"0 "),r.a.createElement(V.a,{percent:this.state.count/8,strokeWidth:"2",strokeColor:"#b48300",style:{width:"50%"}}),r.a.createElement("span",{style:{fontSize:"12px"}}," 800")):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"d-inline-block d-md-none"},r.a.createElement("span",{style:{fontSize:"10px"}},"Connect with us:"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.facebook.com/foodlehsg/",target:"blank"},r.a.createElement("img",{class:"img-fluid",style:{width:"30px",margin:"10px"},alt:"fb",src:x.a})),r.a.createElement("a",{href:"https://instagram.com/foodleh.sg",target:"blank"},r.a.createElement("img",{class:"img-fluid",style:{width:"30px",margin:"10px"},alt:"insta",src:C.a})),r.a.createElement("a",{href:"mailto:foodleh@outlook.com",target:"blank"},r.a.createElement("img",{class:"img-fluid",style:{width:"30px",margin:"10px"},alt:"email",src:S.a})),r.a.createElement("a",{href:"https://t.me/foodleh",target:"blank"},r.a.createElement(z.a,{size:32,round:!0,style:{margin:"10px"}})),r.a.createElement("br",null),r.a.createElement("br",null)))))),r.a.createElement("br",null)))}}]),a}(r.a.PureComponent),X=a(829),K=a(827),$=a(134),ee=a.n($),te=a(350),ae=a.n(te),ne=a(774),re=a(165),le=a(166),oe=new O.a,ie=Z.a.analytics();function se(e){ie.logEvent(e)}var ce=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={language:oe.get("language"),toggleLanguage:n.toggleLanguage,data:"en"===oe.get("language")?re:le},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(X.a,{bg:"light",variant:"light",style:{position:"fixed",width:"100%",zIndex:"100"}},r.a.createElement(X.a.Brand,{as:f.b,to:"/",style:{color:"#B48300"}},r.a.createElement("img",{alt:"",src:ee.a,width:"20",height:"30",className:"d-inline-block align-top"})," ",r.a.createElement("div",{className:"d-none d-md-inline-block"},r.a.createElement("img",{alt:"",src:ae.a,width:"140",height:"30",className:"d-inline-block align-top"}))),r.a.createElement(X.a.Toggle,null),r.a.createElement(X.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(F.Consumer,null,(function(e){var t=e.data,a=(e.language,e.toggleLanguage);return r.a.createElement(ne.a,{className:"shadow-sm",style:{backgroundColor:"#B48300",borderColor:"#B48300",fontSize:"10px",width:"50px"},onClick:a,name:"Language"},t.menu.language_button)})),r.a.createElement("div",{className:"d-none d-md-inline-block"},r.a.createElement(K.a.Link,{href:"#",as:f.b,to:"/",id:"menu-link",style:{color:"grey"},onClick:se("home")},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.homelabel})))),r.a.createElement(K.a.Link,{href:"#searchall",as:f.b,to:"/searchall",id:"menu-link",style:{color:"grey"},onClick:se("search")},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.searchlabel}))),r.a.createElement(K.a.Link,{href:"#create",as:f.b,to:"/create",id:"menu-link",style:{color:"grey"},onClick:se("create")},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.createlabel}))),r.a.createElement(K.a.Link,{href:"#about",as:f.b,to:"/about",id:"menu-link",style:{color:"grey"},onClick:se("about")},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.aboutlabel})))))}}]),a}(r.a.Component),de=a(353),ue=a.n(de),me=a(354),pe=a.n(me),he=a(355),ge=a.n(he),fe=a(356),ve=a.n(fe),be=Z.a.analytics(),Ee=new O.a;var ye=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={create:""},n.changeCreate=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({create:t});case 2:n.scrollToMyRef();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.scrollToMyRef=function(){return window.scrollTo(0,n.myRef.offsetTop-60)},n.myRef=r.a.createRef(),n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e;e="create_load",be.logEvent(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{"padding-top":"80px","padding-bottom":"240px",height:"100%","background-color":"white"}},r.a.createElement("div",{class:"d-flex col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center",style:{marginTop:"40px"}},r.a.createElement("h4",null,r.a.createElement("b",null,this.context.data.create.createfree))),r.a.createElement("div",{class:"row",style:{margin:"50px 0px"}},r.a.createElement("div",{class:"d-flex col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center"},r.a.createElement("img",{alt:"",src:"en"===Ee.get("language")?w.a:M.a,style:{flexShrink:"0",minWidth:"5vw",maxWidth:"15vw",marginBottom:"20px"}})),r.a.createElement("div",{class:"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-end align-items-center"},r.a.createElement("img",{alt:"",class:"listing"===this.state.create?"home-option-clicked":"home-option",onClick:function(){return e.changeCreate("listing")},src:"en"===Ee.get("language")?ue.a:ge.a,style:{flexShrink:"0",minWidth:"50%"}})),r.a.createElement("div",{class:"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-start align-items-center"},r.a.createElement("img",{alt:"",onClick:function(){return e.changeCreate("website")},class:"website"===this.state.create?"home-option-clicked":"home-option",src:"en"===Ee.get("language")?pe.a:ve.a,style:{flexShrink:"0",minWidth:"50%"}})),r.a.createElement("div",{class:"d-flex col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center",style:{marginTop:"40px"}},r.a.createElement("h6",null,r.a.createElement("b",null,this.context.data.create.existing," ",r.a.createElement("a",{href:"https://www.foodleh.app/custom"},"www.foodleh.app/custom"))))),this.state.create&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{ref:function(t){return e.myRef=t}},r.a.createElement("div",null,"listing"===this.state.create&&this.context.data.create.createlisting),r.a.createElement("div",null,"website"===this.state.create&&this.context.data.create.createwebsite)),r.a.createElement(Oo.ListForm,{toggle:"create",option:this.state.create}))))}}]),a}(r.a.Component);ye.contextType=F;var we=Object(v.e)(ye),Ae=a(30),xe=a.n(Ae),ke=a(775),Ce=a(135),De=a(168),Se=a.n(De),Oe=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t=Object(c.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.context.setScrollPosition(window.pageYOffset),e.props.name&&e.props.history.push({pathname:"/info",search:"?id="+e.props.id});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.thumbnail=function(){return"https://images.weserv.nl/?w=250&url=".concat(encodeURIComponent(e.props.pic))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:this.props.name?"/info?id="+this.props.id:null,style:{color:"inherit"}},void 0!==this.props.name?r.a.createElement("figure",{class:"card shadow effect-bubba item-card",style:{margin:"5px"},onClick:this.handleClick},this.props.distance?r.a.createElement("div",{style:{position:"absolute",top:"105px",right:"5px",zIndex:"1"}},r.a.createElement("span",{class:"badge badge-info",style:{backgroundColor:"#b48300"}},this.props.distance.slice(0,4)+" km away")):null,r.a.createElement(Ce.LazyLoadImage,{src:this.props.pic?this.thumbnail():Se.a,placeholderSrc:Se.a,style:{height:"120px"},class:"card-img-top",height:"120",alt:""}),this.props.promo?r.a.createElement("div",{style:{position:"absolute",top:"10px",right:"3px",zIndex:"0"}},r.a.createElement("span",{class:"badge badge-danger",style:{backgroundColor:"red",fontSize:"16px"}},this.props.promo)):null,void 0!==this.props.claps?r.a.createElement("div",{class:"row no-gutters bg-light",style:{borderRadius:".25rem",position:"absolute",top:"10px",left:"3px",zIndex:"0",opacity:"0.8"}},r.a.createElement("div",{class:"col-4 text-right pl-2 pr-1"},r.a.createElement("svg",{id:"clap--icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"-549 338 100.1 125",width:"20px"},r.a.createElement("path",{d:"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7 1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9 2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5 1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2 5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2 .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6 10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z"}),r.a.createElement("path",{d:"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1 5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2 5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6 11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7 4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9"}))),r.a.createElement("div",{class:"col-8 text-left pl-2"},r.a.createElement("span",{style:{fontSize:"16px",color:"black",paddingLeft:"5px",fontWeight:"700"}}," ",+this.props.claps))):null,r.a.createElement("figcaption",null,r.a.createElement("div",{class:"card-body",style:{width:"100%",height:"100%"}},this.props.name?r.a.createElement("h7",{class:"item-title card-title d-flex justify-content-center",style:{textAlign:"center",width:"100%"}},this.props.name.length>25?this.props.name.slice(0,25)+"...":this.props.name):r.a.createElement("h6",{class:"card-title"},"Sample Name"),this.props.summary?r.a.createElement("p",{class:"card-text d-flex justify-content-center",style:{lineHeight:"1.0"}},r.a.createElement("small",null,this.props.summary.length>35?this.props.summary.slice(0,35)+"...":this.props.summary)):r.a.createElement("p",{class:"card-text",style:{lineHeight:"1.0"}},r.a.createElement("small",null,"Sample Stall Brief Description"))))):null))}}]),a}(r.a.Component);Oe.contextType=F;var Te=Object(v.e)(Oe),Pe=a(169),Ne=a.n(Pe),Ie=(a(155),{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6,partialVisibilityGutter:30},desktop:{breakpoint:{max:3e3,min:1024},items:5,partialVisibilityGutter:30},tablet:{breakpoint:{max:1024,min:464},items:2,partialVisibilityGutter:30},mobile:{breakpoint:{max:464,min:0},items:2,partialVisibilityGutter:10}}),je=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).retrieveData=Object(c.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,J.db.collection("hawkers").limit(30).get().then((function(e){return e.forEach((function(e){e.exists&&((a=e.data()).id=e.id,t.push(a))})),console.log("Fetched successfully!"),!0})).catch((function(e){console.log(e)}));case 3:n.setState({data:t,retrieved:!0});case 4:case"end":return e.stop()}}),e)}))),n.state={data:[],query:xe.a.parse(n.props.location.search).postal,longitude:xe.a.parse(n.props.location.search).lng,latitude:xe.a.parse(n.props.location.search).lat,distance:xe.a.parse(n.props.location.search).distance,retrieved:!1},n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){this.retrieveData()}},{key:"getData",value:function(e){this.setState({data:e})}},{key:"render",value:function(){var e={islandwide:[],local:[]};if(this.state.retrieved&&void 0!==this.state.data){var t=[];t=this.state.data.filter((function(e){return!0===e.islandwide})),e.islandwide=t.map((function(e){return r.a.createElement("p",{style:{padding:"6px"}},r.a.createElement(Te,{id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description}))})),t=this.state.data.filter((function(e){return e.cuisine&&e.cuisine.includes("Local")})),e.local=t.map((function(e){return r.a.createElement("p",{style:{padding:"6px"}},r.a.createElement(Te,{id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description}))}))}return r.a.createElement("div",null,this.state.retrieved?r.a.createElement("div",null,r.a.createElement("div",null,e.islandwide.length>0?r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12",style:{textAlign:"left"}},r.a.createElement("h2",null,"Delivered Islandwide"))),r.a.createElement(Ne.a,{responsive:Ie,ssr:!0,infinite:!1,partialVisible:!0,swipeable:!0,draggable:!0,minimumTouchDrag:0,transitionDuration:0,slidesToSlide:2},e.islandwide),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12",style:{textAlign:"left"}},r.a.createElement("h2",null,"Local Food"))),r.a.createElement(Ne.a,{responsive:Ie,ssr:!0,infinite:!1,partialVisible:!0,swipeable:!0,draggable:!0,minimumTouchDrag:0,transitionDuration:0,slidesToSlide:2},e.local)):r.a.createElement("div",{class:"search-container"},r.a.createElement("div",{class:"row h-100"},r.a.createElement("div",{class:"col-sm-2 my-auto"}),r.a.createElement("h1",{class:"col-sm-8 my-auto",style:{"text-align":"center"}},"Sorry, we couldn't find a result"),r.a.createElement("div",{class:"col-sm-2 my-auto"}))))):r.a.createElement("div",{class:"row h-100 page-container"},r.a.createElement("div",{class:"col-sm-12 my-auto"},r.a.createElement("h3",null,"Please give us a moment while we load your results"),r.a.createElement(ke.a,{class:"",animation:"grow"}))))}}]),a}(r.a.Component),Me={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},_e=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={listing:[],loading:!1,data:[],headline:[]},n}return Object(m.a)(a,[{key:"render",value:function(){var e=[];return console.log(this.props.data.data),this.props.data.data&&this.props.data.data.forEach((function(t){e.push(r.a.createElement("p",{style:{padding:"6px"}},r.a.createElement(Te,{name:t.name,street:t.street,pic:t.url,summary:t.description,id:t.id})))})),r.a.createElement("div",null,e.length>0?r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12",style:{textAlign:"left"}},r.a.createElement("h2",null,"Delivered Islandwide"))),r.a.createElement(Ne.a,{responsive:Me},e)):r.a.createElement("div",{class:"search-container"},r.a.createElement("div",{class:"row h-100"},r.a.createElement("div",{class:"col-sm-2 my-auto"}),r.a.createElement("h1",{class:"col-sm-8 my-auto",style:{"text-align":"center"}},"Sorry, we couldn't find a result"),r.a.createElement("div",{class:"col-sm-2 my-auto"}))))}}]),a}(r.a.Component),Le=a(48),Be=a(835),Re=a(826),Fe=a(830),Ue=a(265),ze=a.n(Ue),We=a(776),Ye=a(825),Ge=a(777),Qe=function(e){return r.a.createElement(Ye.a,{display:"flex",alignItems:"center",flexDirection:"column"},r.a.createElement(Ye.a,{width:"100%",mr:1},r.a.createElement(We.a,Object.assign({variant:"determinate"},e))))},Ve=function(e){var t=e.totalPrice,a=e.targetValue,n=e.name;return r.a.createElement("div",{class:"row progress"},a>t?r.a.createElement(Ge.a,{container:!0,direction:"row"},r.a.createElement(Ge.a,{style:{color:"black",width:"100%",marginBottom:"20px",fontSize:"18px"}},"$",(a-t).toFixed(2)," to ",n.toLowerCase()),r.a.createElement(Ge.a,{style:{width:"100%"}},r.a.createElement(Qe,{value:100*t/a}))):r.a.createElement("h5",{style:{color:"green"}},n," Met!"))},Je=function(e){var t=e.context,a=e.deliveryFee,n=e.discount;return r.a.createElement(r.a.Fragment,null,"delivery"===t.channel?r.a.createElement(r.a.Fragment,null,t.pageData.minimum_order&&"0"!==t.pageData.minimum_order?r.a.createElement(Ve,{totalPrice:t.cartTotal.totalPrice,targetValue:t.pageData.minimum_order,name:"Minimum Amount"}):null,t.pageData.free_delivery&&"0"!==t.pageData.free_delivery?r.a.createElement(Ve,{totalPrice:t.cartTotal.totalPrice,targetValue:t.pageData.free_delivery,name:"Free Delivery"}):null,r.a.createElement("div",{class:"row"},("none"===t.delivery_option||!t.delivery_option)&&r.a.createElement("div",{className:"sub fees-not-included"},"DELIVERY FEES NOT INCLUDED"),("fixed"===t.delivery_option||"distance"===t.delivery_option)&&void 0!==t.delivery_fee&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sub"},"DELIVERY FEES: "),r.a.createElement("div",{className:"sub-price"},r.a.createElement("p",{className:"sub-price__val"},"$",a.toFixed(2)))))):null,(t.all_promo||t.selfcollect_promo)&&n>0?r.a.createElement("div",{class:"row"},r.a.createElement("div",{className:"sub"},"DISCOUNT: "),r.a.createElement("div",{className:"sub-price"},r.a.createElement("p",{className:"sub-price__val"},"- $",n))):null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{className:"sub"},"SUBTOTAL"),r.a.createElement("div",{className:"sub-price"},("none"===t.delivery_option||"collect"===t.channel||("fixed"===t.delivery_option||"distance"===t.delivery_option)&&"delivery"===t.channel&&void 0!==t.delivery_fee)&&r.a.createElement("p",{className:"sub-price__val"},"$",function(e,t,a){return(Number(e.cartTotal.totalPrice)+Number(t)-Number(a)).toFixed(2)}(t,a||0,n)))))},Ze=a(91),He=a.n(Ze),qe=new O.a,Xe=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateClap=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection(n.props.collection).doc(n.props.id).update({claps:n.state.countTotal+1}).then((function(e){return console.log("Updated successfully!"),!0})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.state={count:0,countTotal:n.props.claps,isClicked:!1},n._handleClick=n._handleClick.bind(Object(p.a)(n)),n.updateClap=n.updateClap.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=new He.a.Burst({parent:"#clap",radius:{50:95},count:5,angle:30,children:{shape:"polygon",radius:{6:0},scale:1,stroke:"rgba(211,84,0 ,0.5)",strokeWidth:2,angle:210,delay:30,speed:.2,easing:He.a.easing.bezier(.1,1,.3,1),duration:300}}),t=new He.a.Burst({parent:"#clap",radius:{50:75},angle:25,duration:300,children:{shape:"circle",fill:"rgba(149,165,166 ,0.5)",delay:30,speed:.2,radius:{3:0},easing:He.a.easing.bezier(.1,1,.3,1)}}),a=new He.a.Html({el:"#clap--count",isShowStart:!1,isShowEnd:!0,y:{0:-30},opacity:{0:1},duration:300}).then({opacity:{1:0},y:-80,delay:150}),n=new He.a.Html({el:"#clap--count-total",isShowStart:!0,isShowEnd:!0,opacity:{1:1},delay:450,duration:300,y:{1:1}}),r=new He.a.Html({el:"#clap",duration:300,scale:{1.3:1},easing:He.a.easing.out});document.getElementById("clap").style.transform="scale(1, 1)",this._animationTimeline=new He.a.Timeline,this._animationTimeline.add([a,n,r,t,e])}},{key:"_generateRandomNumber",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"_handleClick",value:function(){this.state.count<5&&(this._animationTimeline.replay(),this.updateClap(),this.setState((function(e,t){return{count:Math.min(e.count+1,5),countTotal:e.countTotal+1,isClicked:!0}})))}},{key:"getAppContent",value:function(e,t,a,n){return r.a.createElement("div",{className:"row"},r.a.createElement("span",{id:"clap",className:"clap d-flex align-items-center",onClick:n},r.a.createElement("span",null,r.a.createElement("svg",{id:"clap--icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"-549 338 100.1 125",className:"".concat(a&&"checked")},r.a.createElement("path",{d:"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7 1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9 2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5 1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2 5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2 .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6 10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z"}),r.a.createElement("path",{d:"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1 5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2 5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6 11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7 4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9"}))),r.a.createElement("span",{id:"clap--count",className:"clap--count"},"+",e),r.a.createElement("span",{id:"clap--count-total",className:"clap--count-total"},t)),r.a.createElement("span",{style:{fontSize:"10px"},className:"d-flex align-items-center justify-content-center"},"about"===this.props.toggle?r.a.createElement("span",null,"en"===qe.get("language")?"Clap to support this initiative!":"\u9f13\u638c\u652f\u6301\u6211\u4eec\uff01"):r.a.createElement("span",null,"Clap to support ",r.a.createElement("br",null)," your hawker! (max 5)"," ")))}},{key:"render",value:function(){var e=this.state,t=e.count,a=e.countTotal,n=e.isClicked;return this.getAppContent(t,a,n,this._handleClick)}}]),a}(r.a.Component),Ke=a(266),$e=a.n(Ke),et=a(42),tt=a.n(et),at=a(210),nt=a.n(at),rt=a(357),lt=a.n(rt),ot=a(358),it=a.n(ot),st=a(359),ct=a.n(st),dt=a(136),ut=a.n(dt),mt=a(360),pt=a.n(mt),ht=a(137),gt=a.n(ht),ft=a(138),vt=a.n(ft),bt=a(780),Et=a(781),yt=a(782),wt=a(783),At=a(784),xt=a(779),kt=a(778),Ct=a(785),Dt=a(65),St=a.n(Dt),Ot=a(105),Tt="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BITLY_KEY),Pt=new Ot.BitlyClient(Tt,{}),Nt=Z.a.analytics(),It=new Date;function jt(e,t){Nt.logEvent(e,{name:t})}It.setMinutes(It.getMinutes());function Mt(e){var t=e.children,a=e.window,n=Object(kt.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(xt.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelectorAll("#back-to-top-anchor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",style:{position:"fixed",bottom:"50px",right:"30px"}},t))}var _t=r.a.createElement(Be.a,null,r.a.createElement(Be.a.Content,null,"Your details will only be stored in your browser!")),Lt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Rt(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}var Ft=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getDoc=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection("hawkers").doc(n.state.id).get().then((function(e){return e.exists&&n.setState({data:e.data(),retrieved:!0,orderData:new Array(e.data().menu_combined.length).fill(0)}),jt("info_load",e.data().name),console.log("Fetched successfully!"),!0})).catch((function(e){window.location.reload(!0),console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.updateCustomerDetails=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,r=a.name,l=a.value,["name","address","notes","customerNumber","unit","street","postal"].includes(r)&&n.setState(Object(d.a)({},r,l)),"postal"!==r||6!==l.length){e.next=6;break}return e.next=6,n.getPostal(l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCustomerDetails=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateCustomerDetails(t).then((function(){n.updateSavedData(n.state.shouldRememberDetails)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.callPostal=function(e){return fetch("https://developers.onemap.sg/commonapi/search?searchVal="+e+"&returnGeom=Y&getAddrDetails=Y").then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e.results)return e.results[0]}),(function(e){console.log(e)}))},n.setOrderText=Object(c.a)(s.a.mark((function e(){var t,a,r,l,o,i,c,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=(t="")+"New order from "+n.state.name+"\n",a=0;a<n.state.data.menu_combined.length;a+=1)void 0!==n.state.data.menu_combined&&""!==n.state.data.menu_combined[a].name&&0!==n.state.orderData[a]&&(r=parseInt(n.state.orderData[a]),l=parseFloat(n.state.data.menu_combined[a].price?n.state.data.menu_combined[a].price:0),t=t+"*"+r+"x* _"+n.state.data.menu_combined[a].name+"_: $"+(r*l).toFixed(2)+"\n");return t+="\n",o=n.calculateDeliveryFee(),(i=!Number.isNaN(o))&&(t+="Item Subtotal: *$".concat(n.state.totalPrice.toFixed(2),"*\n"),t+="Delivery Fee: *$".concat(o.toFixed(2),"*\n")),t=(t=t+"Total Price ("+(i?"":"not ")+"including delivery): *$"+(n.state.totalPrice+(o||0)).toFixed(2)+"*")+"\n\nDelivery address: *"+n.state.street+" #"+n.state.unit+" "+n.state.postal+"*",c=Lt[n.state.datetime.getDay()]+" "+n.state.datetime.getDate()+" "+Bt[n.state.datetime.getMonth()]+" "+Rt(n.state.datetime),t=t+"\nDelivery Date/Time: *"+c+"*",""!==n.state.notes&&(t=t+"\nAdditional notes: _"+n.state.notes+"_"),t=(t=t+"\nCustomer phone number: *"+n.state.customerNumber+"*")+"\nOrdering from: www.foodleh.app/info?id="+n.state.id,(d=new URLSearchParams).append("postal",n.state.data.postal),d.append("street",n.state.data.street),d.append("unit",n.state.data.unit),d.append("contact",n.state.data.contact),d.append("postal_to",n.state.postal),d.append("street_to",n.state.street),d.append("unit_to",n.state.unit),d.append("contact_to",n.state.customerNumber),e.next=25,s="https://foodleh.app/driver?"+d.toString(),Pt.shorten(s).then((function(e){return e.link}));case 25:return u=e.sent,t=t+"\n For F&B Owner, request for a driver here: "+u,n.state.data.additional_text&&(t=t+"\n"+n.state.data.additional_text),e.abrupt("return",encodeURIComponent(t));case 29:case"end":return e.stop()}var s}),e)}))),n.addItem=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("addItem"),a=t.target.name,n.setState({totalPrice:parseFloat(n.state.totalPrice)+parseFloat(n.state.data.menu_combined[a].price?n.state.data.menu_combined[a].price:0),orderData:tt()(n.state.orderData,Object(d.a)({},a,{$set:parseInt(n.state.orderData[a])+1}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.minusItem=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("minusItem"),a=t.target.name,n.setState({totalPrice:0===n.state.orderData[a]?n.state.totalPrice:parseFloat(n.state.totalPrice)-parseFloat(n.state.data.menu_combined[a].price?n.state.data.menu_combined[a].price:0),orderData:tt()(n.state.orderData,Object(d.a)({},a,{$set:0===n.state.orderData[a]?0:parseInt(n.state.orderData[a])-1}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getMenu=function(e){if(n.state.data.menu_combined){var t=[];return n.state.data.menu_combined.forEach((function(a,l){console.log(e);(e?!(!a.name||!a.price||0===l):!(!a.name||!a.price))&&t.push(r.a.createElement("div",null,r.a.createElement("figure",{className:"shadow row",style:{margin:"20px",minHeight:"100px",backgroundColor:"#f1f1f1",borderRadius:"5px",position:"relative",display:"flex",padding:"10px 40px 40px"}},r.a.createElement("div",{className:"row"},r.a.createElement("span",{style:{alignContent:"right",fontSize:"110%",display:"flex"}},r.a.createElement("b",null,a?r.a.createElement("span",null,a.name,a&&a.description?r.a.createElement("span",null," (",a.description,")"):null):null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col",style:{position:"absolute",left:"5px",bottom:"13px"}},r.a.createElement("span",{className:"shadow badge badge-info m-2",style:{backgroundColor:"#b48300",alignContent:"left",fontSize:"110%"}},"$",a.price?a.price:"TBD")),r.a.createElement("div",{className:"col",style:{position:"absolute",left:"10px",bottom:"10px"}},r.a.createElement("div",{className:"btn-group float-right",role:"group","aria-label":"Basic example"},r.a.createElement("br",null),n.state.data.whatsapp?r.a.createElement("div",null,r.a.createElement(ne.a,{variant:"light",size:"sm",onClick:n.minusItem,name:l,className:"shadow-sm",style:{backgroundColor:"white",color:"black",borderRadius:"3px",margin:"10px"}},"-"),r.a.createElement("span",{style:{margin:"10px"}},r.a.createElement("b",null,void 0!==n.state.orderData[l]?n.state.orderData[JSON.parse(JSON.stringify(l))]:0)),r.a.createElement(ne.a,{variant:"dark",size:"sm",onClick:n.addItem,name:l,className:"shadow-sm",style:{backgroundColor:"black",color:"white",borderRadius:"3px",margin:"10px"}},"+")):null))),r.a.createElement("br",null))))})),t}},n.renderFullscreenButton=function(e,t){return t?t?r.a.createElement("div",{style:{width:"15%",height:"15%",top:"10%",right:"10%",position:"absolute",opacity:"0.8"},onClick:e,value:"click"},r.a.createElement("svg",{className:"bi bi-x-circle-fill",width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"#b48300",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 110 8a8 8 0 0116 0zm-4.146-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708-.708L8.707 8l3.147-3.146z",clipRule:"evenodd"}))):void 0:r.a.createElement("button",{type:"button",style:{width:"100%",height:"100%",backgroundColor:"black",position:"absolute",opacity:"0"},value:"click",className:"image-gallery-fullscreen-button".concat(t?" active":""),onClick:e})},n.showReviewEditMessage=function(){n.setState({hasReviewEditMessage:!0,hasReviewDeleteMessage:!1}),window.scrollTo(0,0),setTimeout((function(){n.setState({hasReviewEditMessage:!1})}),1e4)},n.showReviewDeleteMessage=function(){n.setState({hasReviewDeleteMessage:!0,hasReviewEditMessage:!1}),window.scrollTo(0,0),setTimeout((function(){n.setState({hasReviewDeleteMessage:!1})}),1e4)},n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("submit"),!(It>n.state.datetime)){e.next=6;break}alert("Time cannot be earlier than now"),e.next=11;break;case 6:return e.next=8,n.setOrderText();case 8:a=e.sent,r="https://wa.me/65"+n.state.data.contact+"?text="+a,window.location=r;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTime=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({time:t,datetime:new Date(n.state.date.getMonth()+1+"/"+n.state.date.getDate()+"/"+n.state.date.getFullYear()+" "+t)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDate=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({date:t,datetime:new Date(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+n.state.time)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.scrollToMyRef=function(){return window.scrollTo(0,n.myRef.offsetTop-60)},n.defineDelivery=function(){var e=n.state.data.price.replace("$",""),t=""===e?NaN:Number(e);return{delivery_option:n.state.data.delivery_option&&!Number.isNaN(t)?"fixed":"none",delivery_fee:t}},n.calculateDeliveryFee=function(){var e=n.state.data.price.replace("$",""),t=""===e?NaN:Number(e);return n.state.data.free_delivery&&"0"!==n.state.data.free_delivery&&n.state.totalPrice>Number(n.state.data.free_delivery)?0:t},n.myRef=r.a.createRef(),n.state={className:"string"===typeof n.props.className?n.props.className:"container",data:[],orderData:[],totalPrice:0,wantToOrder:!1,name:"",unit:"",street:"",postal:"",notes:"",customerNumber:"",time:It.getHours()+":"+It.getMinutes(),date:It,datetime:It,id:n.props.id||xe.a.parse(n.props.location.search).id,galleryOpened:!1,retrieved:!1,hero:n.props.hero,activePhoto:1,hasReviewEditMessage:!1,hasReviewDeleteMessage:!1,shouldRememberDetails:!1},n.enterDetails=n.enterDetails.bind(Object(p.a)(n)),n.handleCustomerDetails=n.handleCustomerDetails.bind(Object(p.a)(n)),n.updateCustomerDetails=n.updateCustomerDetails.bind(Object(p.a)(n)),n.setOrderText=n.setOrderText.bind(Object(p.a)(n)),n.formatSummary=n.formatSummary.bind(Object(p.a)(n)),n.toggleShouldRememberDetails=n.toggleShouldRememberDetails.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){if(this.getDoc(),console.log("run"),localStorage.getItem("userDetails")){var e=JSON.parse(localStorage.getItem("userDetails"));this.setState(e),this.setState({shouldRememberDetails:!0})}}},{key:"updateSavedData",value:function(e){if(e){var t={name:this.state.name,customerNumber:this.state.customerNumber,postal:this.state.postal,unit:this.state.unit,street:this.state.street};localStorage.setItem("userDetails",JSON.stringify(t))}else localStorage.clear()}},{key:"toggleShouldRememberDetails",value:function(e){var t=e.target.checked;this.setState({shouldRememberDetails:t}),this.updateSavedData(t)}},{key:"getPostal",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callPostal(t);case 2:void 0!==(a=e.sent)&&this.setState({street:a.ADDRESS});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formatSummary",value:function(){var e="";e=e+"New order from "+this.state.name+"\n";for(var t=0;t<this.state.data.menu_combined.length;t+=1)if(void 0!==this.state.data.menu_combined&&""!==this.state.data.menu_combined[t].name&&0!==this.state.orderData[t]){var a=parseInt(this.state.orderData[t]),n=parseFloat(this.state.data.menu_combined[t].price?this.state.data.menu_combined[t].price:0);e=e+"*"+a+"x* _"+this.state.data.menu_combined[t].name+"_: $"+(a*n).toFixed(2)+"\n"}return e}},{key:"enterDetails",value:function(){console.log("enterDetails"),jt("view_menu",this.state.data.name),this.scrollToMyRef(),this.state.wantToOrder?this.setState({wantToOrder:!1}):this.setState({wantToOrder:!0})}},{key:"render",value:function(){var e=this,t=[],a=[],n=[],l="https://wa.me/65"+this.state.data.contact;return this.state.retrieved&&(this.state.data.categories&&this.state.data.categories.forEach((function(e){t.push(r.a.createElement("span",{key:e,className:"badge badge-info"},e))})),console.log(this.state.data.tagsValue),this.state.data.tagsValue&&this.state.data.tagsValue.forEach((function(e){t.push(r.a.createElement("span",{key:e,className:"badge badge-secondary"},e))})),this.state.data.regions&&this.state.data.regions.forEach((function(e){a.push(r.a.createElement("span",{key:e,className:"badge badge-warning"},e))})),this.state.data.url&&n.push({original:this.state.data.url,thumbnail:this.state.data.url}),this.state.data.image1&&n.push({original:this.state.data.url,thumbnail:this.state.data.url}),this.state.data.image2&&n.push({original:this.state.data.image2,thumbnail:this.state.data.image2}),this.state.data.image3&&n.push({original:this.state.data.image3,thumbnail:this.state.data.image3}),this.state.data.image4&&n.push({original:this.state.data.image4,thumbnail:this.state.data.image4}),this.state.data.image5&&n.push({original:this.state.data.image5,thumbnail:this.state.data.image5}),0===n.length&&n.push({original:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a",thumbnail:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a"})),this.state.retrieved?r.a.createElement("div",{className:this.state.className,style:{paddingTop:"56px",width:"100%"}},this.state.hasReviewEditMessage||this.state.hasReviewDeleteMessage?r.a.createElement("div",{className:"row",style:{marginTop:"20px",marginBottom:"20px"}},r.a.createElement("div",{className:"card shadow",style:{color:"black",backgroundColor:"red",width:"100%"}},r.a.createElement("span",{className:"card-body"},r.a.createElement("div",{style:{fontSize:"13px",margin:"10px"}},this.state.hasReviewEditMessage?r.a.createElement("p",{style:{margin:"10px",fontSize:"30px",color:"white",lineHeight:"25px"}},"Your edit(s) will be reflected once they have been reviewed. Thank you for your patience!"):r.a.createElement("p",{style:{margin:"10px",fontSize:"30px",color:"white",lineHeight:"25px"}},"This listing will be deleted once your request has been reviewed. Thank you for your patience!"))))):null,this.state.hero?r.a.createElement("div",{className:"jumbotron",style:{background:"linear-gradient(rgba(0,0,0,0.5), rgba(255,255,255,0.3)), url("+this.state.data.url+") no-repeat center center",backgroundSize:"cover",height:"300px"}},r.a.createElement("div",{style:{color:"white",fontSize:"50px",fontWeight:"bold"}},this.state.name||this.state.data.name),r.a.createElement("div",{style:{color:"white",fontSize:"15px"}},this.state.data.description)):null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-md-none d-inline-block col-md-6 col-lg-6",style:{padding:"0rem 1rem",marginBottom:"0.5rem",marginTop:"0rem",height:"320px",backgroundColor:"white"}},r.a.createElement("div",{style:{alignItems:"center"}},0!==n.length?r.a.createElement(ze.a,{items:n,renderFullscreenButton:this.renderFullscreenButton,useBrowserFullscreen:!1,showPlayButton:!1,useTranslate3D:!1,slideDuration:100,slideInterval:2e3,slideOnThumbnailOver:!1,thumbnailPosition:"bottom"}):null)),r.a.createElement("div",{className:"col-md-6 col-lg-6"},r.a.createElement("div",{className:"container",style:{textAlign:"left",paddingTop:"10px"}},this.state.hero?null:r.a.createElement("div",{id:"back-to-top-anchor"},r.a.createElement("h2",{style:{marginBottom:"0"}},this.state.data.name),t.length>0?r.a.createElement("div",null,r.a.createElement("svg",{className:"bi bi-tag-fill",width:"0.88em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M2 1a1 1 0 00-1 1v4.586a1 1 0 00.293.707l7 7a1 1 0 001.414 0l4.586-4.586a1 1 0 000-1.414l-7-7A1 1 0 006.586 1H2zm4 3.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",clipRule:"evenodd"}))," ",t,r.a.createElement("br",null)):null),r.a.createElement("div",{style:{marginTop:"0.75rem"}},r.a.createElement("svg",{className:"bi bi-house-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 3.293l6 6V13.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z",clipRule:"evenodd"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 011.414 0l6.647 6.646a.5.5 0 01-.708.708L8 2.207 1.354 8.854a.5.5 0 11-.708-.708L7.293 1.5z",clipRule:"evenodd"}))," ",r.a.createElement("a",{href:"https://maps.google.com/?q="+this.state.data.street,style:{color:"black",textTransform:"capitalize"}},(this.state.data.unit+" "+this.state.data.street).toLowerCase()),this.state.data.website?r.a.createElement("div",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-globe"},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),r.a.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))," ",r.a.createElement("a",{href:"http"===this.state.data.website.slice(0,4)?this.state.data.website:"https://"+this.state.data.website,onClick:function(){return jt("website_click",e.state.data.name)},target:"blank"},this.state.data.website.replace(/https?:\/\//,""))):null,"0"!==this.state.data.contact?r.a.createElement("div",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-phone"},r.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))," ",r.a.createElement("span",null,this.state.data.contact," "," (",this.state.data.whatsapp?r.a.createElement("span",null,r.a.createElement("a",{href:l,target:"blank",onClick:function(){return jt("message",e.state.data.name)}},"WhatsApp"),this.state.data.sms||this.state.data.call?", ":null):null,this.state.data.sms?r.a.createElement("span",null,r.a.createElement("a",{href:"sms:+65"+this.state.data.contact},"SMS"),this.state.data.call?", ":null):null,this.state.data.call?r.a.createElement("a",{href:"tel:+65"+this.state.data.contact},"Call"):null,") "," ",r.a.createElement("br",null),this.state.data.wechatid?r.a.createElement("span",{style:{color:"green"}},r.a.createElement("b",null,"WeChat ID: ",this.state.data.wechatid)):null)):null),this.state.data.pickup_option||this.state.data.delivery_option?r.a.createElement("div",{style:{marginTop:"0.75rem"}},r.a.createElement("svg",{className:"bi bi-bag",width:"14",height:"14",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M14 5H2v9a1 1 0 001 1h10a1 1 0 001-1V5zM1 4v10a2 2 0 002 2h10a2 2 0 002-2V4H1z",clipRule:"evenodd"}),r.a.createElement("path",{d:"M8 1.5A2.5 2.5 0 005.5 4h-1a3.5 3.5 0 117 0h-1A2.5 2.5 0 008 1.5z"}))," ",this.state.data.pickup_option?r.a.createElement("span",{className:"badge badge-success"},"Da Bao"):null,this.state.data.delivery_option?r.a.createElement("span",{className:"badge badge-success"},"Delivery"):null,a.length>0?r.a.createElement("span",{style:{marginLeft:"1rem"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-truck"},r.a.createElement("rect",{x:"1",y:"3",width:"15",height:"13"}),r.a.createElement("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),r.a.createElement("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),r.a.createElement("circle",{cx:"18.5",cy:"18.5",r:"2.5"}))," ",a,r.a.createElement("br",null)):null):null,this.state.data.delivery_detail||this.state.data.minimum_order||this.state.data.free_delivery?r.a.createElement("div",{style:{marginTop:"0.5rem"}},r.a.createElement("h6",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"Details Regarding Delivery")),r.a.createElement($e.a,null,r.a.createElement("p",{style:{whiteSpace:"pre-line",marginBottom:"20px"}},this.state.data.delivery_detail),this.state.data.minimum_order?r.a.createElement("span",null,"Minimum Order: $",this.state.data.minimum_order,r.a.createElement("br",null)):null,this.state.data.free_delivery?r.a.createElement("span",null,"Free Delivery: $",this.state.data.free_delivery):null)):null,this.state.data.price?r.a.createElement("div",null,r.a.createElement("h6",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"Delivery Fees")),r.a.createElement("p",{style:{whiteSpace:"pre-line",marginBottom:"20px"}},this.state.data.price)):null,this.state.data.opening?r.a.createElement("div",null,r.a.createElement("h6",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"Opening Hours")),r.a.createElement("p",{style:{whiteSpace:"pre-line",marginBottom:"20px"}},this.state.data.opening)):null,this.state.data.promo?r.a.createElement("div",{className:"card shadow",style:{color:"black",backgroundColor:"white",height:"35px"}},r.a.createElement("span",{className:"card-body"},r.a.createElement("div",{className:"card-title",style:{position:"absolute",top:"6px",fontSize:"13px"}},r.a.createElement("b",null,this.state.data.promo),":"," ",this.state.data.condition&&this.state.data.condition.length>40?this.state.data.condition.slice(0,40)+"...":this.state.data.condition))):null)),r.a.createElement("div",{className:"d-none d-md-inline-block col-md-6 col-lg-6",style:{padding:"2.5rem 1rem",height:"320px",backgroundColor:"white"}},r.a.createElement("div",{style:{alignItems:"center"}},0!==n.length?r.a.createElement(ze.a,{items:n,renderFullscreenButton:this.renderFullscreenButton,useBrowserFullscreen:!1,showPlayButton:!1,useTranslate3D:!1,slideDuration:100,slideInterval:2e3,slideOnThumbnailOver:!1,thumbnailPosition:"bottom"}):null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"container",style:{textAlign:"left",paddingTop:"10px"}},this.state.data.whatsapp?r.a.createElement("div",null,this.state.data.menu&&this.state.data.menu_combined.length>0&&""!==this.state.data.menu_combined[0].name?r.a.createElement("img",{alt:"",src:this.state.data.whatsapp?it.a:lt.a,style:{width:"310px"},ref:function(t){return e.myRef=t}}):null,this.state.data.menu&&this.state.data.menu_combined.length>0&&""!==this.state.data.menu_combined[0].name?r.a.createElement("div",{style:{zIndex:-999}},r.a.createElement("figure",{className:"shadow row",style:{margin:"20px",minHeight:"100px",backgroundColor:"#f1f1f1",borderRadius:"5px",position:"relative",display:"flex",padding:"10px 40px 40px",zIndex:1}},!this.state.wantToOrder&&this.state.data.menu&&this.state.data.menu_combined.length>1&&this.state.data.menu_combined[1]&&""!==this.state.data.menu_combined[1].name||!this.state.wantToOrder&&this.state.data.menu_combined[1]&&""===this.state.data.menu_combined[1].name||!this.state.wantToOrder&&1===this.state.data.menu_combined.length?r.a.createElement("span",{style:{height:"0px"}},r.a.createElement("img",{src:ut.a,alt:"",style:{width:"130%",height:"150px",borderRadius:"5px",position:"absolute",bottom:"-30px",left:"-15px",zIndex:"999"}})):null,r.a.createElement("div",{className:"row"},r.a.createElement("span",{style:{alignContent:"right",fontSize:"110%",display:"flex"}},r.a.createElement("b",null,this.state.data.menu_combined[0]?r.a.createElement("span",null,this.state.data.menu_combined[0].name,this.state.data.menu_combined[0]&&this.state.data.menu_combined[0].description?r.a.createElement("span",null," ","(",this.state.data.menu_combined[0].description,")"):null):null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col",style:{position:"absolute",left:"5px",bottom:"13px"}},r.a.createElement("span",{className:"shadow badge badge-info m-2",style:{backgroundColor:"#b48300",alignContent:"left",fontSize:"110%"}},"$",this.state.data.menu_combined[0].price?this.state.data.menu_combined[0].price:"TBD")),r.a.createElement("div",{className:"col",style:{position:"absolute",left:"10px",bottom:"10px"}},r.a.createElement("div",{className:"btn-group float-right",role:"group","aria-label":"Basic example"},r.a.createElement("br",null),this.state.data.whatsapp?r.a.createElement("div",null,r.a.createElement(ne.a,{variant:"light",size:"sm",onClick:this.minusItem,name:0,className:"shadow-sm",style:{backgroundColor:"white",color:"black",borderRadius:"3px",margin:"10px"}},"-"),r.a.createElement("span",{style:{margin:"10px"}},r.a.createElement("b",null,void 0!==this.state.orderData[0]?this.state.orderData[0]:0)),r.a.createElement(ne.a,{variant:"dark",size:"sm",onClick:this.addItem,name:0,className:"shadow-sm",style:{backgroundColor:"black",color:"white",borderRadius:"3px",margin:"10px"}},"+")):null))),r.a.createElement("br",null))):null,this.state.wantToOrder?r.a.createElement("div",null,r.a.createElement(Re.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("p",null,this.getMenu(!0)," "),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("img",{alt:"",src:pt.a,style:{width:"310px"}})),r.a.createElement("div",null,r.a.createElement("figure",{className:"shadow",style:{margin:"20px",padding:"10px",backgroundColor:"#f1f1f1",borderRadius:"5px",position:"relative",zIndex:1}},r.a.createElement("span",{style:{fontSize:"110%"}},r.a.createElement("b",null,"Item Summary"),r.a.createElement("br",null),r.a.createElement("br",null)),this.state.data.menu_combined.map((function(t,a){return void 0!==t&&0!==e.state.orderData[a]?r.a.createElement("div",{style:{position:"relative",padding:"5px"}},r.a.createElement("span",{style:{alignContent:"right",fontSize:"110%"}},r.a.createElement("b",null,t.name?t.name:null)),r.a.createElement("div",{className:"btn-group float-right",role:"group","aria-label":"Basic example"},r.a.createElement("br",null),e.state.data.whatsapp?r.a.createElement("div",null,r.a.createElement(ne.a,{variant:"light",size:"sm",onClick:e.minusItem,name:a,className:"shadow-sm",style:{backgroundColor:"white",color:"black",borderRadius:"3px",margin:"10px"}},"-"),r.a.createElement("span",{style:{margin:"10px"}},r.a.createElement("b",null,void 0!==e.state.orderData[a]?e.state.orderData[JSON.parse(JSON.stringify(a))]:0)),r.a.createElement(ne.a,{variant:"dark",size:"sm",onClick:e.addItem,name:a,className:"shadow-sm",style:{backgroundColor:"black",color:"white",borderRadius:"3px",margin:"10px"}},"+")):null),r.a.createElement("br",null),r.a.createElement("span",{className:"shadow badge badge-info m-2",style:{backgroundColor:"#b48300",alignContent:"left",fontSize:"110%"}},"$",t.price?t.price:"TBD")):null})),r.a.createElement("figcaption",null,r.a.createElement("hr",{style:{color:"#b48300",backgroundColor:"#b48300",height:"1px",borderColor:"#b48300",width:"100%",alignItems:"center"}}),r.a.createElement(Je,{context:Object(Le.a)({},this.state.data,{channel:"delivery"},this.defineDelivery(),{pageData:{minimum_order:this.state.data.minimum_order,free_delivery:this.state.data.free_delivery},cartTotal:{totalPrice:this.state.totalPrice}}),deliveryFee:this.calculateDeliveryFee(),discount:0})))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:ct.a,style:{width:"310px"}}),r.a.createElement("div",{className:"form-group create-title"},r.a.createElement("label",{for:"name"},"Name"),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.state.name,type:"text",className:"form-control",name:"name",style:{borderColor:"#b48300"},placeholder:"We don't store your info!"})),r.a.createElement("div",{className:"form-group create-title"},r.a.createElement("label",{for:"unit"},"Mobile Number: "),r.a.createElement("div",{className:"input-group mb-12"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"+65")),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.state.customerNumber,type:"tel",className:this.state.customerNumber?"form-control":"form-control is-invalid",name:"customerNumber",placeholder:" 9xxxxxxx",maxLength:"8",minlength:"8",pattern:"[8-9]{1}[0-9]{7}",style:{borderColor:"#b48300",borderRadius:"5px"},required:!0}))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"time"},"Delivery Date"),r.a.createElement(gt.a,{class:"form-control is-invalid",dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",onChange:this.handleDate,value:this.state.date,format:"dd/MMM/yyyy",required:!0}))),r.a.createElement("div",{class:"col-xs-5 col-sm-5 col-md-5 col-lg-5"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"time"},"Delivery Time"),r.a.createElement(vt.a,{class:"form-control is-invalid",dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",hourPlaceholder:"hh",minutePlaceholder:"mm",onChange:this.handleTime,value:this.state.time,format:"hh:mma",disableClock:!0,required:!0}),It>this.state.datetime?r.a.createElement("span",{class:"badge badge-danger"},"Time cannot be earlier than now"):null))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"}," ",r.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"}," ",r.a.createElement("div",{className:"form-group create-title"},r.a.createElement("label",{for:"postalcode"},"Postal Code"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.state.postal,type:"text",className:this.state.postal?"form-control":"form-control is-invalid",name:"postal",placeholder:"Enter Postal Code",maxLength:"6",required:!0})))),r.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"}," ",r.a.createElement("div",{className:"form-group create-title"},r.a.createElement("label",{for:"unit"},"Unit #"),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.state.unit,type:"text",className:"form-control",name:"unit",placeholder:"E.g. 01-01"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("div",{className:"form-group create-title"},r.a.createElement("label",{for:"street"},"Street Name",r.a.createElement("b",null," (Auto-Filled)")),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.state.street,type:"text",className:this.state.street?"form-control":"form-control is-invalid",name:"street",placeholder:"Enter Street Name"}))))),r.a.createElement("div",{className:"form-group create-title"},r.a.createElement("label",{for:"address"},"Comments"),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.state.notes,type:"text",className:"form-control",name:"notes",style:{borderColor:"#b48300"},placeholder:"No chilli etc, leave blank if nil"})),r.a.createElement("div",{className:"form-group create-title"},r.a.createElement(Fe.a,{trigger:["hover","focus"],placement:"top",overlay:_t},r.a.createElement("label",{for:"remember"},"Remember me?")),r.a.createElement("input",{name:"shouldRememberDetails",type:"checkbox",checked:this.state.shouldRememberDetails,onChange:this.toggleShouldRememberDetails,style:{marginLeft:"10px"}})),r.a.createElement(ne.a,{className:"shadow-sm",type:"Submit",style:{backgroundColor:"#B48300",borderColor:"#B48300",fontSize:"20px",width:"300px"},name:"Language",onClick:function(){return jt("place_order",e.state.data.name)},disabled:this.state.data.minimum_order&&this.state.totalPrice<this.state.data.minimum_order},"Place order via WhatsApp"),r.a.createElement("br",null)))):null,this.state.data.menu&&(this.state.data.menu_combined.length>1&&this.state.data.menu_combined[1]&&""!==this.state.data.menu_combined[1].name||this.state.data.menu_combined[0]&&""!==this.state.data.menu_combined[0].name&&this.state.data.menu_combined[1]&&""===this.state.data.menu_combined[1].name||1===this.state.data.menu_combined.length&&this.state.data.menu_combined[0]&&""!==this.state.data.menu_combined[0].name)?r.a.createElement("div",{style:{marginTop:"30px"}},r.a.createElement("hr",{style:{color:"grey",backgroundColor:"grey",height:"1px",borderColor:"grey",width:"100%",alignItems:"center",marginBottom:"0px"}}),r.a.createElement("div",{style:{textAlign:"center",paddingRight:"15px",fontSize:"110%",cursor:"pointer",color:"grey"},onClick:this.enterDetails},this.state.wantToOrder?r.a.createElement("b",null,"see less \u2191"):r.a.createElement("b",null,"see more \u2193"))):null):null,this.state.data.description?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h6",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"Brief Description"))):null,r.a.createElement($e.a,null,this.state.data.description?r.a.createElement("p",{style:{marginBottom:"20px"}},this.state.data.description):null,this.state.data.description_detail&&""!==this.state.data.description_detail&&void 0!==this.state.data.description_detail?r.a.createElement("div",null,r.a.createElement("h6",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"Detailed Description")),r.a.createElement("p",{style:{whiteSpace:"pre-line",marginBottom:"20px"}},this.state.data.description_detail)):null),this.state.data.menu&&!this.state.data.whatsapp?r.a.createElement("div",null,r.a.createElement("h6",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"Menu Items")),r.a.createElement("p",null,this.getMenu(!1)," "),r.a.createElement("br",null)):null,r.a.createElement("div",{className:"row",style:{margin:"1rem 0"}},r.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",style:{padding:"0"}},r.a.createElement(Xe,{collection:"hawkers",id:this.state.id,claps:this.state.data.claps})),r.a.createElement("div",{className:"d-md-inline-block col-xs-6 col-sm-6 col-md-6 col-lg-6",style:{padding:"0"}},r.a.createElement("div",{style:{fontSize:"12px"}}," ","Share this with friends!"),r.a.createElement(bt.a,{url:"www.foodleh.app/info?id="+this.state.id,quote:"Hungry? Try out "+this.state.data.name+" now!",hashtag:"#saveourFnB"},r.a.createElement(Et.a,{size:32,round:!0}))," ",r.a.createElement("span",{className:"",style:{marginRight:"5px"}},r.a.createElement("a",{href:"whatsapp://send?text="+encodeURIComponent("Hungry? Try out "+this.state.data.name+" now! Order form / more information at www.foodleh.app/info?id="+this.state.id)},r.a.createElement("img",{alt:"",src:nt.a,style:{width:"32px",cursor:"pointer"}}))),r.a.createElement(yt.a,{url:"www.foodleh.app/info?id="+this.state.id,title:"Hungry? Try out "+this.state.data.name+" now!"},r.a.createElement(z.a,{size:32,round:!0}))," ",r.a.createElement(wt.a,{url:"www.foodleh.app/info?id="+this.state.id,title:"Hungry? Try out "+this.state.data.name+" now!"},r.a.createElement(At.a,{size:32,round:!0}))," ")),r.a.createElement(Oo.Popup,{data:this.state.data,id:this.state.id,onSubmitEdit:this.showReviewEditMessage,onSubmitDelete:this.showReviewDeleteMessage}),r.a.createElement("p",{style:{color:"grey"}},r.a.createElement("small",null,"Are you the owner? Email foodleh@outlook.com for enquiries."," ")),r.a.createElement(Mt,null,r.a.createElement(Ct.a,{color:"primary",size:"small","aria-label":"scroll back to top"},r.a.createElement(St.a,null)))))):r.a.createElement("div",{className:"row h-100 page-container"},r.a.createElement("div",{className:"col-sm-12 my-auto"},r.a.createElement("h3",null,"Loading"),r.a.createElement(ke.a,{className:"",animation:"grow"})))}}]),a}(r.a.Component),Ut=Object(v.e)(Ft),zt=a(361),Wt=a.n(zt),Yt=a(362),Gt=a.n(Yt),Qt=Z.a.analytics();var Vt=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getDoc=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection("etc").doc("h0xRqDdHmIPV2jQhUXnc").get().then((function(e){return e.exists&&n.setState({data:e.data(),retrieved:!0}),!0})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.state={retrieved:!1,data:[],id:"h0xRqDdHmIPV2jQhUXnc"},n.getDoc=n.getDoc.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e;e="about_load",Qt.logEvent(e),this.getDoc()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"jumbotron row",style:{"background-color":"white"}},r.a.createElement("div",{class:"row ",style:{"margin-top":"57px"}},r.a.createElement("div",{class:"col-xs-2 col-sm-2 col-md-2 col-lg-2"}),r.a.createElement("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8",style:{textAlign:"center"}},r.a.createElement("h3",{class:"row card-title justify-content-center",style:{textAlign:"center",padding:"10px 10px 10px"}},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",null,e.data.about.aboutus)}))),r.a.createElement("div",null,r.a.createElement("p",{class:"row justify-content-center",style:{textAlign:"center",padding:"30px 30px 30px"}},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement("img",{src:Wt.a,alt:"FoodLeh?",style:{height:"20px"}}),t.data.about.para_one,r.a.createElement("br",null),r.a.createElement("br",null),t.data.about.para_two,r.a.createElement("br",null),r.a.createElement("br",null),t.data.about.para_three,r.a.createElement("br",null),r.a.createElement("br",null),t.data.about.para_four,r.a.createElement("hr",null),r.a.createElement("b",null,t.data.about.howtouse),r.a.createElement("br",null),r.a.createElement("b",null,t.data.about.forappusers)," ",t.data.about.appusers,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,t.data.about.forfnb)," ",t.data.about.fnb,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"row d-flex justify-content-center"},e.state.retrieved?r.a.createElement(Xe,{toggle:"about",collection:"etc",id:e.state.id,claps:e.state.data.claps}):null,r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("img",{src:Gt.a,alt:"",class:"hashtag"})),r.a.createElement("br",null),r.a.createElement("br",null),t.data.about.disclaimer,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/limyifan1/hawkercentral"},"Github Link")," | ",r.a.createElement("a",{href:"https://creativecommons.org/licenses/by-nc/4.0/"},"CC BY-NC 4.0"),r.a.createElement("br",null),"(Feel free to send pull requests)",r.a.createElement("br",null),r.a.createElement("br",null),"\xa9 2020 Foodleh? by Yi Fan and Cheeps.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}))))),r.a.createElement("div",{class:"col-xs-2 col-sm-2 col-md-2 col-lg-2"}))))}}]),a}(r.a.Component),Jt=a(824),Zt=a(363),Ht=a.n(Zt);function qt(){return(qt=Object(c.a)(s.a.mark((function e(t,a,n,r){var l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_EMAIL_API_KEY),o={listing_id:t,listing_name:a,action_word:n},"edit"===n?(o.description="A user has requested to edit this listing to:",o.message=JSON.stringify(r,null,2)):"delete"===n&&(o.description="A user has requested to delete this listing."),e.next=5,Ht.a.send("outlook","contact_form",o,l).then((function(e){return console.log(e),e}),(function(e){return console.log(e),e}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://developers.onemap.sg/commonapi/search?searchVal="+t+"&returnGeom=Y&getAddrDetails=Y").then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e.results)return e.results[0]}),(function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Object(c.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra();case 2:return n=e.sent,r=n.key,e.abrupt("return",fetch("https://developers.onemap.sg/privateapi/popapi/getPlanningarea?token="+r+"&lat="+t+"&lng="+a).then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e[0])return e[0].pln_area_n}),(function(e){console.log(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(){return aa.apply(this,arguments)}function aa(){return(aa=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["https://asia-east2-hawkercentral.cloudfunctions.net/requestOneMap"],e.prev=1,e.abrupt("return",Promise.all(t.map((function(e){return fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),e}))}))));case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}function na(){return(na=Object(c.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,["ORCHARD","NEWTON"].includes(t)?t="Orchardnewton":["OUTRAM","SINGAPORE RIVER","MUSEUM","RIVER VALLEY"].includes(t)?t="DHOBY":["MARINA SOUTH","DOWNTOWN CORE","STRAITS VIEW","MARINA EAST"].includes(t)&&(t="DOWNTOWN"),"WESTERN WATER CATCHMENT"===t&&(t="JURONG WEST"),"SOUTHERN ISLANDS"===t&&(n=!0,t="BUKIT MERAH"),["ORCHARD","NEWTON"].includes(a)?a="Orchardnewton":["OUTRAM","SINGAPORE RIVER","MUSEUM","RIVER VALLEY"].includes(a)?a="DHOBY":["MARINA SOUTH","DOWNTOWN CORE","STRAITS VIEW","MARINA EAST"].includes(a)&&(a="DOWNTOWN"),"WESTERN WATER CATCHMENT"===a&&(a="JURONG WEST"),"SOUTHERN ISLANDS"===a&&(n=!0,a="BUKIT MERAH"),e.next=9,J.db.collection("delivery_price").doc(t).get().then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:if(!(r=e.sent)||!r[a]){e.next=16;break}return l=r[a].price,n&&(l=String(Number(l)+2)),e.abrupt("return",l);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(){return J.db.collection("etc").doc("onemap").get().then(function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Date,!(new Date(1e3*t.data().expiry)-a<0)){e.next=9;break}return e.next=5,ta();case 5:n=e.sent,r=n[0].access_token,l=n[0].expiry_timestamp,t.ref.update({expiry:l,key:r});case 9:return e.abrupt("return",t.data());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var la={compareString:function(e,t){return"undefined"!==typeof e&&"undefined"!==typeof t&&String(e).toLowerCase()===String(t).toLowerCase()},capitalizeFirstLetter:function(e){for(var t=e.split(" "),a=0;a<t.length;a++){var n=t[a].charAt(0).toUpperCase();t[a]=n+t[a].substr(1)}return t.join(" ")},mapSnapshotToDocs:function(e){var t=[];return e.forEach((function(e){if(e.exists){var a=e.data();a.id=e.id,t.push(a)}})),t},sendEmailToUpdateListing:function(e,t,a,n){return qt.apply(this,arguments)},postalPlanningRegion:function(){var e=Object(c.a)(s.a.mark((function e(t,a,n){var r,l,o,i,c,d,u,m,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a&&n){e.next=9;break}return e.next=4,Xt(t);case 4:o=e.sent,r=o.LATITUDE,l=o.LONGITUDE,e.next=11;break;case 9:r=a,l=n;case 11:return e.next=13,$t(r,l);case 13:i=e.sent,["ORCHARD","NEWTON"].includes(i)?i="Orchardnewton":["OUTRAM","SINGAPORE RIVER","MUSEUM","RIVER VALLEY"].includes(i)?i="DHOBY":["MARINA SOUTH","DOWNTOWN CORE","STRAITS VIEW","MARINA EAST"].includes(i)&&(i="DOWNTOWN"),c=Number(String(t).slice(0,2)),d=[42,43,44,45,46,47,48,49,50,81,51,52],u=[11,12,13,60,61,62,63,64,65,66,67,68],m=[69,70,71,72,73,75,76],p=[53,54,55,82,56,57,79,80],(["01","02","03","04","05","06","07","08","09"]+[14,15,16,10,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,58,59,58,59,77,78]).includes(c)?h="Central":d.includes(c)?h="East":u.includes(c)?h="West":m.includes(c)?h="North":p.includes(c)&&(h="Northeast"),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0),i="cannot be found",h="cannot be found";case 29:return e.abrupt("return",{planningarea:i,region:h});case 30:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,a,n){return e.apply(this,arguments)}}(),getLatLng:Xt,getPlanningDetails:function(e,t){return na.apply(this,arguments)}},oa=function(){var e=Object(c.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la.sendEmailToUpdateListing(t,a,"delete",{}).then((function(e){console.log(e)})).catch((function(e){console.error("Error sending email: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ia=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setHideDeleteModal=function(){n.props.hideDeleteModal()},n.handleSubmitDelete=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isDeleting:!0}),e.next=3,oa(n.props.docId,n.props.originalName).then((function(){n.setHideDeleteModal(),n.setState({isDeleting:!1}),n.props.onSubmitDelete()}));case 3:case"end":return e.stop()}}),e)}))),n.state={showDeleteModal:!1,isDeleting:!1},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.showDeleteModal!==e.showDeleteModal&&this.setState({showDeleteModal:this.props.showDeleteModal})}},{key:"render",value:function(){return r.a.createElement(Jt.a,{onHide:this.setHideDeleteModal,show:this.state.showDeleteModal,dialogClassName:"modal-dialog modal-90w","aria-labelledby":"example-custom-modal-styling-title",style:{marginTop:"50px"}},r.a.createElement(Jt.a.Header,{closeButton:!0},r.a.createElement(Jt.a.Title,{id:"example-custom-modal-styling-title"},"Delete Hawker Listing")),r.a.createElement(Jt.a.Body,null,r.a.createElement("p",null,"Are you sure you want to delete this hawker listing?"),r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"#ffffff",borderColor:"#b48300",float:"right",marginLeft:"12px"},onClick:this.setHideDeleteModal,disabled:this.state.isDeleting},r.a.createElement("p",{style:{margin:"0rem",color:"black"}},"No")),r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"#b48300",borderColor:"#b48300",float:"right"},onClick:this.handleSubmitDelete,disabled:this.state.isDeleting},this.state.isDeleting?r.a.createElement(ke.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):r.a.createElement("p",{style:{margin:"0rem"}},"Yes"))))}}]),a}(r.a.Component),sa=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setShowEditModal=function(){n.setState({showEditModal:!0})},n.setHideEditModal=function(){n.setState({showEditModal:!1})},n.handleSubmitEdit=function(e){n.setHideEditModal(),e&&n.props.onSubmitEdit()},n.setShowDeleteModal=function(){n.setState({showDeleteModal:!0})},n.setHideDeleteModal=function(){n.setState({showDeleteModal:!1})},n.handleSubmitDelete=function(){n.props.onSubmitDelete()},n.state={showEditModal:!1,showDeleteModal:!1,isDeleting:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("span",null,r.a.createElement("div",{className:"row",style:{backgroundColor:"",position:"relative",left:"20px"}},r.a.createElement("div",{onClick:function(){return e.setShowDeleteModal()},className:"d-flex justify-content-center",style:{border:"2px solid",borderColor:"grey",color:"black",width:"60px",alignText:"center",fontSize:"12px",cursor:"pointer",marginTop:"12px",marginRight:"12px",height:"25px"}},"Delete"),r.a.createElement("div",{onClick:function(){return e.setShowEditModal()},className:"d-flex justify-content-center",style:{border:"2px solid",borderColor:"grey",color:"black",width:"60px",alignText:"center",fontSize:"12px",cursor:"pointer",marginTop:"12px",height:"25px"}},"Edit"),this.props.data.lastmodified?r.a.createElement("span",{className:"align-items-center col",style:{postition:"absolute",marginTop:"10px"}},r.a.createElement("small",{style:{color:"grey"}}," ","Last Modified:"," ",new Date(this.props.data.lastmodified.toDate()).toDateString())):null),r.a.createElement(Jt.a,{onHide:this.setHideEditModal,show:this.state.showEditModal,dialogClassName:"modal-dialog modal-90w","aria-labelledby":"example-custom-modal-styling-title",style:{"margin-top":"50px"}},r.a.createElement(Jt.a.Header,{closeButton:!0},r.a.createElement(Jt.a.Title,{id:"example-custom-modal-styling-title"},"Edit Hawker Listing")),r.a.createElement(Jt.a.Body,null,r.a.createElement(Oo.ListForm,{toggle:"edit",id:this.props.id,data:this.props.data,onSubmitEdit:this.handleSubmitEdit}))),r.a.createElement(ia,{showDeleteModal:this.state.showDeleteModal,hideDeleteModal:this.setHideDeleteModal,docId:this.props.id,originalName:this.props.data.name,onSubmitDelete:this.handleSubmitDelete}))}}]),a}(r.a.Component),ca=Object(v.e)(sa),da=a(73),ua=["American","Healthy","Sandwiches","Asian","Indian","Seafood","Bakery and Cakes","Indonesia","Local","Beverages","Italian","Sushi","Burgers","Japanese","Thai","Chicken","Korean","Vegetarian","Vegan","Chinese","Malay","Vietnamese","Dessert","Malaysian","Western","Fast Food","Meat","Halal","Pizza","Mediterranean","Grocery Shopping"],ma=a(84),pa=a.n(ma),ha=a(85),ga=a.n(ha),fa=a(787),va=a(786),ba=Z.a.analytics();function Ea(e){var t=e.children,a=e.window,n=Object(kt.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(xt.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelectorAll("#back-to-top-anchor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",style:{position:"fixed",bottom:"50px",right:"30px"}},t))}var ya=null,wa={data:[],query:"",longitude:"",latitude:"",distance:5,pickup:!1,delivery:!1,retrieved:!1,search:"",searchPostal:!1,cuisineValue:[],isCuisineMenuOpen:!1},Aa=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).retrieveData=Object(c.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({retrieved:!1}),t=J.db.collection("hawkers"),n.state.cuisineValue&&n.state.cuisineValue.length>0&&(a=n.state.cuisineValue.map((function(e){return e.label})),t=t.where("categories","array-contains-any",a)),e.next=5,t.get().then(la.mapSnapshotToDocs);case 5:r=(r=e.sent).map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:r,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 10:case"end":return e.stop()}}),e)}))),n.findDataByPostal=Object(c.a)(s.a.mark((function e(){var t,a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({retrieved:!1}),t=J.geo.point(Number(n.state.latitude),Number(n.state.longitude)),!n.state.pickup||n.state.delivery){e.next=8;break}return e.next=5,Object(J.geoToPromise)(J.geo.query("hawkers").within(t,Number(n.state.distance),"location"));case 5:a=e.sent,e.next=23;break;case 8:if(n.state.pickup||!n.state.delivery){e.next=20;break}return r={},e.next=12,la.postalPlanningRegion(n.state.query,n.state.latitude,n.state.longitude);case 12:return l=e.sent,e.next=15,J.db.collection("hawkers").where("regions","array-contains-any",["Islandwide",l]).get().then(la.mapSnapshotToDocs);case 15:e.sent.forEach((function(e){return r[e.id]=e})),a=Object.values(r),e.next=23;break;case 20:return e.next=22,J.db.collection("hawkers").get().then(la.mapSnapshotToDocs);case 22:a=e.sent;case 23:a=a.map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:a,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 27:case"end":return e.stop()}}),e)}))),n.handleCuisineChange=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({cuisineValue:t});case 2:n.state.isCuisineMenuOpen||n.retrieveData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCuisineMenuOpen=function(){n.setState({isCuisineMenuOpen:!0})},n.handleCuisineMenuClose=function(){n.state.isCuisineMenuOpen&&(n.setState({isCuisineMenuOpen:!1}),n.retrieveData())},n.handleClose=function(e){e.preventDefault(),n.setState({open:!1})},n.handleChange=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,r=a.value,"search"!==(l=a.name)){e.next=6;break}n.clearTimeout&&clearTimeout(ya),ya=setTimeout((function(){n.setState(Object(d.a)({},l,r))}),300),e.next=16;break;case 6:if(0===r.length&&n.retrieveData(),n.setState((o={},Object(d.a)(o,l,r),Object(d.a)(o,"searchPostal",!1),o)),"postal"!==l||6!==r.length){e.next=16;break}return e.next=11,la.getLatLng(n.state.postal);case 11:if(i=e.sent,n.setState({searchPostal:!0,latitude:i.LATITUDE,longitude:i.LONGITUDE}),!(i&&i.LATITUDE&&i.LONGITUDE)){e.next=16;break}return e.next=16,n.findDataByPostal();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleToggle=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delivery"===(a=t.currentTarget.name)&&n.setState({delivery:!0,pickup:!1}),"pickup"===a&&n.setState({delivery:!1,pickup:!0}),n.state.delivery&&"delivery"===a&&n.setState({delivery:!1}),n.state.pickup&&"pickup"===a&&n.setState({pickup:!1}),!n.state.searchPostal||6!==n.state.postal.length){e.next=13;break}return e.next=8,la.getLatLng(n.state.postal);case 8:if(r=e.sent,n.setState({searchPostal:!0,latitude:r.LATITUDE,longitude:r.LONGITUDE}),!(r&&r.LATITUDE&&r.LONGITUDE)){e.next=13;break}return e.next=13,n.findDataByPostal();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=new URLSearchParams(e.location.search),l=Object(Le.a)({},wa,{pickup:"selfcollect"===r.get("option"),delivery:"delivery"===r.get("option"),open:!0});return r.get("lng")&&r.get("lat")&&(l.longitude=r.get("lng"),l.latitude=r.get("lat")),r.get("postal")&&(l.postal=r.get("postal"),l.searchPostal=!0),n.state=l,n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e;e="searchall_load",ba.logEvent(e),this.state.searchPostal&&this.state.latitude&&this.state.longitude?this.findDataByPostal():this.retrieveData(),console.log("run")}},{key:"getData",value:function(e){this.setState({data:e})}},{key:"cuisineSearch",value:function(){var e=this,t=[];ua.forEach((function(e){t.push({label:e,value:e})}));var a=function(){return r.a.createElement(F.Consumer,null,(function(a){return r.a.createElement("span",null,r.a.createElement(da.a,{isMulti:!0,closeMenuOnSelect:!1,isDisabled:!e.state.retrieved,name:"name",options:t,className:"basic-multi-select",classNamePrefix:"select",value:e.state.cuisineValue,onChange:e.handleCuisineChange,onMenuOpen:e.handleCuisineMenuOpen,onMenuClose:e.handleCuisineMenuClose,placeholder:a.data.search.filterby}))}))};return r.a.createElement("span",null,r.a.createElement("span",{class:"d-none d-md-block"},a()),r.a.createElement("span",{class:"d-block d-md-none",style:{margin:"5px"}},a()))}},{key:"render",value:function(){for(var e=this,t={nearby:[]},a=[],n=0;n<12;n++)a.push(r.a.createElement("figure",{class:"card shadow effect-bubba item-card",style:{margin:"5px",height:"200px"},onClick:this.handleClick},r.a.createElement(va.a,{width:"100%"},r.a.createElement("div",{style:{height:"100px"},class:"card-img-top",alt:""})),r.a.createElement(va.a,{width:"80%"},r.a.createElement("h3",null,".")),r.a.createElement(va.a,{width:"50%"},r.a.createElement("h3",null,"."))));if(void 0!==this.state.data&&this.state.retrieved){var l=this.state.data;0!==this.state.search.length&&(l=l.filter((function(t){return!!(t&&t.name&&t.description&&t.description_detail&&t.tags&&t.menu_list)&&(t.name.toLowerCase().includes(e.state.search.toLowerCase())||t.description.toLowerCase().includes(e.state.search.toLowerCase())||t.description_detail.toLowerCase().includes(e.state.search.toLowerCase())||t.tags.includes(e.state.search.toLowerCase())||t.menu_list.includes(e.state.search.toLowerCase()))}))),l=l.sort((function(e,t){return t.lastmodified-e.lastmodified})),this.state.pickup&&!this.state.delivery?l=l.filter((function(e){return e.pickup_option})):!this.state.pickup&&this.state.delivery&&(l=l.filter((function(e){return e.delivery_option}))),this.state.searchPostal?(l.forEach((function(t){t.distance=function(e,t,a,n){if(e===a&&t===n)return 0;var r=Math.PI*e/180,l=Math.PI*a/180,o=t-n,i=Math.PI*o/180,s=Math.sin(r)*Math.sin(l)+Math.cos(r)*Math.cos(l)*Math.cos(i);return s>1&&(s=1),1.609344*(s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515)}(parseFloat(t.latitude),parseFloat(t.longitude),parseFloat(e.state.latitude),parseFloat(e.state.longitude)).toString()})),l=l.sort((function(e,t){return e.distance-t.distance})),t.nearby=l.map((function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,distance:e.distance,claps:e.claps})))}))):t.nearby=l.map((function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,claps:e.claps})))}))}return r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:"container",style:{paddingTop:"27px"}},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("h3",{id:"back-to-top-anchor"},e.data.search.alllistings))}))),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("input",{disabled:!e.state.retrieved,class:"form-control",type:"text",name:"search",placeholder:t.data.search.prompt,style:{width:"100%",height:"38px","border-radius":"1rem"},onChange:e.handleChange}))})),r.a.createElement("div",{class:"col-12 col-sm-10 col-md-6"},this.cuisineSearch())),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-6 col-sm-6 col-md-6"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.postal,type:"text",pattern:"[0-9]{6}",maxLength:6,minLength:6,class:"form-control",name:"postal",placeholder:t.data.search.postalcode,autoComplete:"postal-code",autoFocus:!0,required:!0,disabled:!e.state.retrieved,style:{width:"100%",height:"38px","border-radius":"1rem"}}))})),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"pickup"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{variant:"contained",onClick:e.handleToggle,name:"pickup",disabled:!e.state.retrieved,style:e.state.pickup?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},color:"secondary"},r.a.createElement("img",{name:"pickup",src:ga.a,alt:"bag",style:{height:"20px"}}),r.a.createElement("div",{name:"pickup",class:"d-none d-md-inline-block",style:e.state.pickup?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.self_collect))})))),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"delivery"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{type:"submit",variant:"contained",disabled:!e.state.retrieved,style:e.state.delivery?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},name:"delivery",color:"secondary",onClick:e.handleToggle},r.a.createElement("img",{name:"delivery",src:pa.a,alt:"motor",style:{height:"20px"}})," ",r.a.createElement("div",{name:"delivery",class:"d-none d-md-inline-block",style:e.state.delivery?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.delivery))}))))),r.a.createElement("div",{className:"row justify-content-center mt-4"},this.state.retrieved?t.nearby.length>0?t.nearby:r.a.createElement("span",{class:"mt-5"},"No Results Found"):r.a.createElement("div",{class:"row justify-content-center mt-4"},a),r.a.createElement(Ea,null,r.a.createElement(Ct.a,{color:"primary",size:"small","aria-label":"scroll back to top"},r.a.createElement(St.a,null))),"Android"===function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)&&/version/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}()?r.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,message:r.a.createElement("div",{style:{fontSize:"30px"}},"Android App is no longer working. Please use browser and visit ",r.a.createElement("b",null,"www.foodleh.app")," instead."),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleClose},r.a.createElement(Q.a,{fontSize:"small"})))}):null)))}}]),a}(r.a.Component);Aa.contextType=F;var xa=Aa,ka=a(213),Ca=a.n(ka),Da=2,Sa=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)/250,Oa=Z.a.analytics();function Ta(e){var t=e.children,a=e.window,n=Object(kt.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(xt.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelectorAll("#back-to-top-anchor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",style:{position:"fixed",bottom:"50px",right:"30px"}},t))}var Pa=null,Na={data:[],query:"",longitude:"",latitude:"",distance:5,pickup:!1,delivery:!1,retrieved:!1,search:"",searchPostal:!1,cuisineValue:[],isCuisineMenuOpen:!1},Ia=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).retrieveData=Object(c.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({retrieved:!1}),t=J.db.collection("hawkers"),n.state.cuisineValue&&n.state.cuisineValue.length>0&&(a=n.state.cuisineValue.map((function(e){return e.label})),t=t.where("categories","array-contains-any",a)),e.next=5,t.get().then(la.mapSnapshotToDocs);case 5:r=(r=e.sent).map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:r,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 10:case"end":return e.stop()}}),e)}))),n.findDataByPostal=Object(c.a)(s.a.mark((function e(){var t,a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({retrieved:!1}),t=J.geo.point(Number(n.state.latitude),Number(n.state.longitude)),!n.state.pickup||n.state.delivery){e.next=8;break}return e.next=5,Object(J.geoToPromise)(J.geo.query("hawkers").within(t,Number(n.state.distance),"location"));case 5:a=e.sent,e.next=23;break;case 8:if(n.state.pickup||!n.state.delivery){e.next=20;break}return r={},e.next=12,la.postalPlanningRegion(n.state.query,n.state.latitude,n.state.longitude);case 12:return l=e.sent,e.next=15,J.db.collection("hawkers").where("regions","array-contains-any",["Islandwide",l]).get().then(la.mapSnapshotToDocs);case 15:e.sent.forEach((function(e){return r[e.id]=e})),a=Object.values(r),e.next=23;break;case 20:return e.next=22,J.db.collection("hawkers").get().then(la.mapSnapshotToDocs);case 22:a=e.sent;case 23:a=a.map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:a,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 27:case"end":return e.stop()}}),e)}))),n.handleCuisineChange=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({cuisineValue:t});case 2:n.state.isCuisineMenuOpen||n.retrieveData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCuisineMenuOpen=function(){n.setState({isCuisineMenuOpen:!0})},n.handleCuisineMenuClose=function(){n.state.isCuisineMenuOpen&&(n.setState({isCuisineMenuOpen:!1}),n.retrieveData())},n.handleClose=function(e){e.preventDefault(),n.setState({open:!1})},n.handleChange=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,r=a.value,"search"!==(l=a.name)){e.next=6;break}n.clearTimeout&&clearTimeout(Pa),Pa=setTimeout((function(){n.setState(Object(d.a)({},l,r))}),300),e.next=16;break;case 6:if(0===r.length&&n.retrieveData(),n.setState((o={},Object(d.a)(o,l,r),Object(d.a)(o,"searchPostal",!1),o)),"postal"!==l||6!==r.length){e.next=16;break}return e.next=11,la.getLatLng(n.state.postal);case 11:if(i=e.sent,n.setState({searchPostal:!0,latitude:i.LATITUDE,longitude:i.LONGITUDE}),!(i&&i.LATITUDE&&i.LONGITUDE)){e.next=16;break}return e.next=16,n.findDataByPostal();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleToggle=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delivery"===(a=t.currentTarget.name)&&n.setState({delivery:!0,pickup:!1}),"pickup"===a&&n.setState({delivery:!1,pickup:!0}),n.state.delivery&&"delivery"===a&&n.setState({delivery:!1}),n.state.pickup&&"pickup"===a&&n.setState({pickup:!1}),!n.state.searchPostal||6!==n.state.postal.length){e.next=13;break}return e.next=8,la.getLatLng(n.state.postal);case 8:if(r=e.sent,n.setState({searchPostal:!0,latitude:r.LATITUDE,longitude:r.LONGITUDE}),!(r&&r.LATITUDE&&r.LONGITUDE)){e.next=13;break}return e.next=13,n.findDataByPostal();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.scrollToMyRef=function(){return window.scrollTo(0,n.myRef.offsetTop-60)},n.wantToView=function(e){var t=e.currentTarget.dataset.tag,a=[n.state.showList];a=!n.state.showList[t],n.setState(Ca()(n.state,{showList:Object(d.a)({},t,{$set:a})}))};var l=new URLSearchParams(e.location.search);n.myRef=r.a.createRef();var o=Object(Le.a)({},Na,{pickup:"selfcollect"===l.get("option"),delivery:"delivery"===l.get("option"),open:!0,showList:[]});return l.get("lng")&&l.get("lat")&&(o.longitude=l.get("lng"),o.latitude=l.get("lat")),l.get("postal")&&(o.postal=l.get("postal"),o.searchPostal=!0),"short"===l.get("iv3")?Da=2:"long"===l.get("iv3")&&(Da=3),o.showList=new Array(20).fill(!1),n.state=o,n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e;e="searchall_load",Oa.logEvent(e),this.state.searchPostal&&this.state.latitude&&this.state.longitude?this.findDataByPostal():this.retrieveData(),console.log("run")}},{key:"getData",value:function(e){this.setState({data:e})}},{key:"cuisineSearch",value:function(){var e=this,t=[];ua.forEach((function(e){t.push({label:e,value:e})}));var a=function(){return r.a.createElement(F.Consumer,null,(function(a){return r.a.createElement("span",null,r.a.createElement(da.a,{isMulti:!0,closeMenuOnSelect:!1,isDisabled:!e.state.retrieved,name:"name",options:t,className:"basic-multi-select",classNamePrefix:"select",value:e.state.cuisineValue,onChange:e.handleCuisineChange,onMenuOpen:e.handleCuisineMenuOpen,onMenuClose:e.handleCuisineMenuClose,placeholder:a.data.search.filterby}))}))};return r.a.createElement("span",null,r.a.createElement("span",{class:"d-none d-md-block"},a()),r.a.createElement("span",{class:"d-block d-md-none",style:{margin:"5px"}},a()))}},{key:"render",value:function(){for(var e=this,t={nearby:[]},a=[],n=0;n<12;n++)a.push(r.a.createElement("figure",{class:"card shadow effect-bubba item-card",style:{margin:"5px",height:"200px"},onClick:this.handleClick},r.a.createElement(va.a,{width:"100%"},r.a.createElement("div",{style:{height:"100px"},class:"card-img-top",alt:""})),r.a.createElement(va.a,{width:"80%"},r.a.createElement("h3",null,".")),r.a.createElement(va.a,{width:"50%"},r.a.createElement("h3",null,"."))));if(void 0!==this.state.data&&this.state.retrieved){var l=this.state.data;if(0!==this.state.search.length&&(l=l.filter((function(t){return!!(t&&t.name&&t.description&&t.description_detail&&t.tags&&t.menu_list)&&(t.name.toLowerCase().includes(e.state.search.toLowerCase())||t.description.toLowerCase().includes(e.state.search.toLowerCase())||t.description_detail.toLowerCase().includes(e.state.search.toLowerCase())||t.tags.includes(e.state.search.toLowerCase())||t.menu_list.includes(e.state.search.toLowerCase()))}))),l=l.sort((function(e,t){return t.lastmodified-e.lastmodified})),this.state.pickup&&!this.state.delivery?l=l.filter((function(e){return e.pickup_option})):!this.state.pickup&&this.state.delivery&&(l=l.filter((function(e){return e.delivery_option}))),this.state.searchPostal){l.forEach((function(t){t.distance=function(e,t,a,n){if(e===a&&t===n)return 0;var r=Math.PI*e/180,l=Math.PI*a/180,o=t-n,i=Math.PI*o/180,s=Math.sin(r)*Math.sin(l)+Math.cos(r)*Math.cos(l)*Math.cos(i);return s>1&&(s=1),1.609344*(s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515)}(parseFloat(t.latitude),parseFloat(t.longitude),parseFloat(e.state.latitude),parseFloat(e.state.longitude)).toString()}));var o=1,i=0,s=new Array(20).fill(0),c=Object.keys(l).length;(l=l.sort((function(e,t){return e.distance-t.distance}))).forEach((function(e){if(e.distance>=Da*o){var t=Math.floor(e.distance/Da)-o;t>0&&(o=t),s[o-1]=i,o++,i=0}i++})),s[o-1]=i,o=0,i=0,t.nearby=l.map((function(t){var a="",n="",l="",d="";if(!e.state.showList[o]&&s[o]>Sa){console.log(o+"="+s[o]);var u="overlay_"+o;d=r.a.createElement("span",{id:u,style:{height:"0px"}},r.a.createElement("img",{src:ut.a,alt:"",style:{width:"130%",height:"150px",borderRadius:"5px",position:"relative",top:"150px",zIndex:"50"}}))}var m=r.a.createElement("div",{class:"w-100",style:{marginTop:"25px",marginBottom:"30px"}},r.a.createElement("hr",{style:{color:"lightgrey",backgroundColor:"lightgrey",height:"1px",borderColor:"lightgrey",width:"100%",alignItems:"center",marginBottom:"0px"}}),r.a.createElement("div",{style:{textAlign:"center",paddingRight:"15px",fontSize:"110%",cursor:"pointer",color:"grey"},"data-tag":o-1,onClick:e.wantToView},e.state.showList[o-1]?r.a.createElement("b",null,"see less \u2191"):r.a.createElement("b",null,"see more \u2193"))),p=r.a.createElement("div",{class:"w-100",style:{marginTop:"25px",marginBottom:"30px"}},r.a.createElement("hr",{style:{color:"lightgrey",backgroundColor:"lightgrey",height:"1px",borderColor:"lightgrey",width:"100%",alignItems:"center",marginBottom:"0px"}}),r.a.createElement("div",{style:{textAlign:"center",paddingRight:"15px",fontSize:"110%",cursor:"pointer",color:"grey"},"data-tag":o-1})),h=r.a.createElement("div",{class:"w-100"},r.a.createElement("b",null,r.a.createElement("p",{class:"text-left",style:{paddingLeft:"27px"}},Da*o," to ",Da*(o+1)," KM Away")));if(t.distance>=Da*o){var g=Math.floor(t.distance/Da)-o;g>0&&(o=g),a=o>0&&i>Sa?r.a.createElement(r.a.Fragment,null,m,h,d):o>0&&i<=Sa?r.a.createElement(r.a.Fragment,null,p,h,d):r.a.createElement(r.a.Fragment,null,h,d),o++,i=0}return c>1?c--:n=i>Sa?m:p,e.state.showList[o-1]||i<Sa?(i++,l=r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:t.promo,id:t.id,name:t.name,street:t.street,pic:t.url,summary:t.description,distance:t.distance,claps:t.claps})))):i++,r.a.createElement(r.a.Fragment,null,a,l,n)}))}else t.nearby=l.map((function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,claps:e.claps})))}))}return r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:" container bg-white pt-3 pb-4 search-bar border border-light rounded"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("h3",{id:"back-to-top-anchor"},e.data.search.alllistings))}))),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("input",{disabled:!e.state.retrieved,class:"form-control",type:"text",name:"search",placeholder:t.data.search.prompt,style:{width:"100%",height:"38px","border-radius":"1rem"},onChange:e.handleChange,ref:function(t){return e.myRef=t}}))})),r.a.createElement("div",{class:"col-12 col-sm-10 col-md-6"},this.cuisineSearch())),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-6 col-sm-6 col-md-6"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.postal,type:"text",pattern:"[0-9]{6}",maxLength:6,minLength:6,class:"form-control",name:"postal",placeholder:t.data.search.postalcode,autoComplete:"postal-code",autoFocus:!0,required:!0,disabled:!e.state.retrieved,style:{width:"100%",height:"38px","border-radius":"1rem"}}))})),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"pickup"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{variant:"contained",onClick:e.handleToggle,name:"pickup",disabled:!e.state.retrieved,style:e.state.pickup?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},color:"secondary"},r.a.createElement("img",{name:"pickup",src:ga.a,alt:"bag",style:{height:"20px"}}),r.a.createElement("div",{name:"pickup",class:"d-none d-md-inline-block",style:e.state.pickup?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.self_collect))})))),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"delivery"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{type:"submit",variant:"contained",disabled:!e.state.retrieved,style:e.state.delivery?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},name:"delivery",color:"secondary",onClick:e.handleToggle},r.a.createElement("img",{name:"delivery",src:pa.a,alt:"motor",style:{height:"20px"}})," ",r.a.createElement("div",{name:"delivery",class:"d-none d-md-inline-block",style:e.state.delivery?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.delivery))})))))),r.a.createElement("div",{style:{paddingBottom:"12em"}}),r.a.createElement("div",{class:"container"},r.a.createElement("div",{className:"row justify-content-center mt-4"},this.state.retrieved?t.nearby.length>0?t.nearby:r.a.createElement("span",{class:"mt-5"},"No Results Found"):r.a.createElement("div",{class:"row justify-content-center mt-4"},a),r.a.createElement(Ta,null,r.a.createElement(Ct.a,{color:"primary",size:"small","aria-label":"scroll back to top"},r.a.createElement(St.a,null))),"Android"===function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)&&/version/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}()?r.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,message:r.a.createElement("div",{style:{fontSize:"30px"}},"Android App is no longer working. Please use browser and visit ",r.a.createElement("b",null,"www.foodleh.app")," instead."),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleClose},r.a.createElement(Q.a,{fontSize:"small"})))}):null)))}}]),a}(r.a.Component);Ia.contextType=F;var ja=Ia,Ma=Z.a.analytics();function _a(e){var t=e.children,a=e.window,n=Object(kt.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(xt.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelectorAll("#back-to-top-anchor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",style:{position:"fixed",bottom:"50px",right:"30px"}},t))}var La=null,Ba={data:[],query:"",longitude:"",latitude:"",distance:5,pickup:!1,delivery:!1,retrieved:!1,search:"",searchPostal:!1,cuisineValue:[],isCuisineMenuOpen:!1},Ra=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).retrieveData=Object(c.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({retrieved:!1}),t=J.db.collection("hawkers"),n.state.cuisineValue&&n.state.cuisineValue.length>0&&(a=n.state.cuisineValue.map((function(e){return e.label})),t=t.where("categories","array-contains-any",a)),e.next=5,t.get().then(la.mapSnapshotToDocs);case 5:r=(r=e.sent).map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:r,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 10:case"end":return e.stop()}}),e)}))),n.findDataByPostal=Object(c.a)(s.a.mark((function e(){var t,a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({retrieved:!1}),t=J.geo.point(Number(n.state.latitude),Number(n.state.longitude)),!n.state.pickup||n.state.delivery){e.next=8;break}return e.next=5,Object(J.geoToPromise)(J.geo.query("hawkers").within(t,Number(n.state.distance),"location"));case 5:a=e.sent,e.next=23;break;case 8:if(n.state.pickup||!n.state.delivery){e.next=20;break}return r={},e.next=12,la.postalPlanningRegion(n.state.query,n.state.latitude,n.state.longitude);case 12:return l=e.sent,e.next=15,J.db.collection("hawkers").where("regions","array-contains-any",["Islandwide",l]).get().then(la.mapSnapshotToDocs);case 15:e.sent.forEach((function(e){return r[e.id]=e})),a=Object.values(r),e.next=23;break;case 20:return e.next=22,J.db.collection("hawkers").get().then(la.mapSnapshotToDocs);case 22:a=e.sent;case 23:a=a.map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:a,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 27:case"end":return e.stop()}}),e)}))),n.handleCuisineChange=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({cuisineValue:t});case 2:n.state.isCuisineMenuOpen||n.retrieveData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCuisineMenuOpen=function(){n.setState({isCuisineMenuOpen:!0})},n.handleCuisineMenuClose=function(){n.state.isCuisineMenuOpen&&(n.setState({isCuisineMenuOpen:!1}),n.retrieveData())},n.handleClose=function(e){e.preventDefault(),n.setState({open:!1})},n.handleChange=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,r=a.value,"search"!==(l=a.name)){e.next=6;break}n.clearTimeout&&clearTimeout(La),La=setTimeout((function(){n.setState(Object(d.a)({},l,r))}),300),e.next=16;break;case 6:if(0===r.length&&n.retrieveData(),n.setState((o={},Object(d.a)(o,l,r),Object(d.a)(o,"searchPostal",!1),o)),"postal"!==l||6!==r.length){e.next=16;break}return e.next=11,la.getLatLng(n.state.postal);case 11:if(i=e.sent,n.setState({searchPostal:!0,latitude:i.LATITUDE,longitude:i.LONGITUDE}),!(i&&i.LATITUDE&&i.LONGITUDE)){e.next=16;break}return e.next=16,n.findDataByPostal();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleToggle=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delivery"===(a=t.currentTarget.name)&&n.setState({delivery:!0,pickup:!1}),"pickup"===a&&n.setState({delivery:!1,pickup:!0}),n.state.delivery&&"delivery"===a&&n.setState({delivery:!1}),n.state.pickup&&"pickup"===a&&n.setState({pickup:!1}),!n.state.searchPostal||6!==n.state.postal.length){e.next=13;break}return e.next=8,la.getLatLng(n.state.postal);case 8:if(r=e.sent,n.setState({searchPostal:!0,latitude:r.LATITUDE,longitude:r.LONGITUDE}),!(r&&r.LATITUDE&&r.LONGITUDE)){e.next=13;break}return e.next=13,n.findDataByPostal();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=new URLSearchParams(e.location.search),l=Object(Le.a)({},Ba,{pickup:"selfcollect"===r.get("option"),delivery:"delivery"===r.get("option"),open:!0});return r.get("lng")&&r.get("lat")&&(l.longitude=r.get("lng"),l.latitude=r.get("lat")),r.get("postal")&&(l.postal=r.get("postal"),l.searchPostal=!0),n.state=l,n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e;e="searchall_load",Ma.logEvent(e),this.state.searchPostal&&this.state.latitude&&this.state.longitude?this.findDataByPostal():this.retrieveData(),console.log("run")}},{key:"getData",value:function(e){this.setState({data:e})}},{key:"cuisineSearch",value:function(){var e=this,t=[];ua.forEach((function(e){t.push({label:e,value:e})}));var a=function(){return r.a.createElement(F.Consumer,null,(function(a){return r.a.createElement("span",null,r.a.createElement(da.a,{isMulti:!0,closeMenuOnSelect:!1,isDisabled:!e.state.retrieved,name:"name",options:t,className:"basic-multi-select",classNamePrefix:"select",value:e.state.cuisineValue,onChange:e.handleCuisineChange,onMenuOpen:e.handleCuisineMenuOpen,onMenuClose:e.handleCuisineMenuClose,placeholder:a.data.search.filterby}))}))};return r.a.createElement("span",null,r.a.createElement("span",{class:"d-none d-md-block"},a()),r.a.createElement("span",{class:"d-block d-md-none",style:{margin:"5px"}},a()))}},{key:"render",value:function(){for(var e=this,t={nearby:[]},a=[],n=0;n<12;n++)a.push(r.a.createElement("figure",{class:"card shadow effect-bubba item-card",style:{margin:"5px",height:"200px"},onClick:this.handleClick},r.a.createElement(va.a,{width:"100%"},r.a.createElement("div",{style:{height:"100px"},class:"card-img-top",alt:""})),r.a.createElement(va.a,{width:"80%"},r.a.createElement("h3",null,".")),r.a.createElement(va.a,{width:"50%"},r.a.createElement("h3",null,"."))));if(void 0!==this.state.data&&this.state.retrieved){var l=this.state.data;0!==this.state.search.length&&(l=l.filter((function(t){return!!(t&&t.name&&t.description&&t.description_detail&&t.tags&&t.menu_list)&&(t.name.toLowerCase().includes(e.state.search.toLowerCase())||t.description.toLowerCase().includes(e.state.search.toLowerCase())||t.description_detail.toLowerCase().includes(e.state.search.toLowerCase())||t.tags.includes(e.state.search.toLowerCase())||t.menu_list.includes(e.state.search.toLowerCase()))}))),l=l.sort((function(e,t){return t.lastmodified-e.lastmodified})),this.state.pickup&&!this.state.delivery?l=l.filter((function(e){return e.pickup_option})):!this.state.pickup&&this.state.delivery&&(l=l.filter((function(e){return e.delivery_option}))),this.state.searchPostal?(l.forEach((function(t){t.distance=function(e,t,a,n){if(e===a&&t===n)return 0;var r=Math.PI*e/180,l=Math.PI*a/180,o=t-n,i=Math.PI*o/180,s=Math.sin(r)*Math.sin(l)+Math.cos(r)*Math.cos(l)*Math.cos(i);return s>1&&(s=1),1.609344*(s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515)}(parseFloat(t.latitude),parseFloat(t.longitude),parseFloat(e.state.latitude),parseFloat(e.state.longitude)).toString()})),l=l.sort((function(e,t){return e.distance-t.distance})),t.nearby=l.map((function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,distance:e.distance,claps:e.claps})))}))):t.nearby=l.map((function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,claps:e.claps})))}))}return r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:" container bg-white pt-3 pb-4 search-bar border border-light rounded"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("h3",{id:"back-to-top-anchor"},e.data.search.alllistings))}))),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("input",{disabled:!e.state.retrieved,class:"form-control",type:"text",name:"search",placeholder:t.data.search.prompt,style:{width:"100%",height:"38px","border-radius":"1rem"},onChange:e.handleChange,ref:function(t){return e.myRef=t}}))})),r.a.createElement("div",{class:"col-12 col-sm-10 col-md-6"},this.cuisineSearch())),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-6 col-sm-6 col-md-6"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.postal,type:"text",pattern:"[0-9]{6}",maxLength:6,minLength:6,class:"form-control",name:"postal",placeholder:t.data.search.postalcode,autoComplete:"postal-code",autoFocus:!0,required:!0,disabled:!e.state.retrieved,style:{width:"100%",height:"38px","border-radius":"1rem"}}))})),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"pickup"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{variant:"contained",onClick:e.handleToggle,name:"pickup",disabled:!e.state.retrieved,style:e.state.pickup?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},color:"secondary"},r.a.createElement("img",{name:"pickup",src:ga.a,alt:"bag",style:{height:"20px"}}),r.a.createElement("div",{name:"pickup",class:"d-none d-md-inline-block",style:e.state.pickup?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.self_collect))})))),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"delivery"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{type:"submit",variant:"contained",disabled:!e.state.retrieved,style:e.state.delivery?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},name:"delivery",color:"secondary",onClick:e.handleToggle},r.a.createElement("img",{name:"delivery",src:pa.a,alt:"motor",style:{height:"20px"}})," ",r.a.createElement("div",{name:"delivery",class:"d-none d-md-inline-block",style:e.state.delivery?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.delivery))})))))),r.a.createElement("div",{style:{paddingBottom:"12em"}}),r.a.createElement("div",{class:"container"},r.a.createElement("div",{className:"row justify-content-center mt-4"},this.state.retrieved?t.nearby.length>0?t.nearby:r.a.createElement("span",{class:"mt-5"},"No Results Found"):r.a.createElement("div",{class:"row justify-content-center mt-4"},a),r.a.createElement(_a,null,r.a.createElement(Ct.a,{color:"primary",size:"small","aria-label":"scroll back to top"},r.a.createElement(St.a,null))),"Android"===function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)&&/version/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}()?r.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,message:r.a.createElement("div",{style:{fontSize:"30px"}},"Android App is no longer working. Please use browser and visit ",r.a.createElement("b",null,"www.foodleh.app")," instead."),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleClose},r.a.createElement(Q.a,{fontSize:"small"})))}):null)))}}]),a}(r.a.Component);Ra.contextType=F;var Fa=Ra,Ua=2,za=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)/250,Wa=Z.a.analytics();function Ya(e){var t=e.children,a=e.window,n=Object(kt.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(xt.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelectorAll("#back-to-top-anchor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",style:{position:"fixed",bottom:"50px",right:"30px"}},t))}var Ga=null,Qa={data:[],query:"",longitude:"",latitude:"",distance:5,pickup:!1,delivery:!1,retrieved:!1,search:"",searchPostal:!1,cuisineValue:[],isCuisineMenuOpen:!1},Va=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).retrieveData=Object(c.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({retrieved:!1}),t=J.db.collection("hawkers"),n.state.cuisineValue&&n.state.cuisineValue.length>0&&(a=n.state.cuisineValue.map((function(e){return e.label})),t=t.where("categories","array-contains-any",a)),e.next=5,t.get().then(la.mapSnapshotToDocs);case 5:r=(r=e.sent).map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:r,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 10:case"end":return e.stop()}}),e)}))),n.findDataByPostal=Object(c.a)(s.a.mark((function e(){var t,a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({retrieved:!1}),t=J.geo.point(Number(n.state.latitude),Number(n.state.longitude)),!n.state.pickup||n.state.delivery){e.next=8;break}return e.next=5,Object(J.geoToPromise)(J.geo.query("hawkers").within(t,Number(n.state.distance),"location"));case 5:a=e.sent,e.next=23;break;case 8:if(n.state.pickup||!n.state.delivery){e.next=20;break}return r={},e.next=12,la.postalPlanningRegion(n.state.query,n.state.latitude,n.state.longitude);case 12:return l=e.sent,e.next=15,J.db.collection("hawkers").where("regions","array-contains-any",["Islandwide",l]).get().then(la.mapSnapshotToDocs);case 15:e.sent.forEach((function(e){return r[e.id]=e})),a=Object.values(r),e.next=23;break;case 20:return e.next=22,J.db.collection("hawkers").get().then(la.mapSnapshotToDocs);case 22:a=e.sent;case 23:a=a.map((function(e){return void 0!==e.tagsValue?(e.tags=e.tagsValue.map((function(e){return e.trim().toLowerCase()})),e.menu_list=e.menu_combined.map((function(e){return e.name.trim().toLowerCase()}))):(e.menu_list=[],e.tags=[]),e})),n.setState({data:a,retrieved:!0}),window.scrollTo(0,n.context.scrollPosition),n.context.setScrollPosition(0);case 27:case"end":return e.stop()}}),e)}))),n.handleCuisineChange=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({cuisineValue:t});case 2:n.state.isCuisineMenuOpen||n.retrieveData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCuisineMenuOpen=function(){n.setState({isCuisineMenuOpen:!0})},n.handleCuisineMenuClose=function(){n.state.isCuisineMenuOpen&&(n.setState({isCuisineMenuOpen:!1}),n.retrieveData())},n.handleClose=function(e){e.preventDefault(),n.setState({open:!1})},n.handleChange=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,r=a.value,"search"!==(l=a.name)){e.next=6;break}n.clearTimeout&&clearTimeout(Ga),Ga=setTimeout((function(){n.setState(Object(d.a)({},l,r))}),300),e.next=16;break;case 6:if(0===r.length&&n.retrieveData(),n.setState((o={},Object(d.a)(o,l,r),Object(d.a)(o,"searchPostal",!1),o)),"postal"!==l||6!==r.length){e.next=16;break}return e.next=11,la.getLatLng(n.state.postal);case 11:if(i=e.sent,n.setState({searchPostal:!0,latitude:i.LATITUDE,longitude:i.LONGITUDE}),!(i&&i.LATITUDE&&i.LONGITUDE)){e.next=16;break}return e.next=16,n.findDataByPostal();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleToggle=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delivery"===(a=t.currentTarget.name)&&n.setState({delivery:!0,pickup:!1}),"pickup"===a&&n.setState({delivery:!1,pickup:!0}),n.state.delivery&&"delivery"===a&&n.setState({delivery:!1}),n.state.pickup&&"pickup"===a&&n.setState({pickup:!1}),!n.state.searchPostal||6!==n.state.postal.length){e.next=13;break}return e.next=8,la.getLatLng(n.state.postal);case 8:if(r=e.sent,n.setState({searchPostal:!0,latitude:r.LATITUDE,longitude:r.LONGITUDE}),!(r&&r.LATITUDE&&r.LONGITUDE)){e.next=13;break}return e.next=13,n.findDataByPostal();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.scrollToMyRef=function(){return window.scrollTo(0,n.myRef.offsetTop-60)},n.wantToView=function(e){var t=e.currentTarget.dataset.tag,a=[n.state.showList];a=!n.state.showList[t],n.setState(Ca()(n.state,{showList:Object(d.a)({},t,{$set:a})}))};var l=new URLSearchParams(e.location.search);n.myRef=r.a.createRef();var o=Object(Le.a)({},Qa,{pickup:"selfcollect"===l.get("option"),delivery:"delivery"===l.get("option"),open:!0,showList:[]});return l.get("lng")&&l.get("lat")&&(o.longitude=l.get("lng"),o.latitude=l.get("lat")),l.get("postal")&&(o.postal=l.get("postal"),o.searchPostal=!0),"short"===l.get("iv3")?Ua=2:"long"===l.get("iv3")&&(Ua=3),o.showList=new Array(20).fill(!1),n.state=o,n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e;e="searchall_load",Wa.logEvent(e),this.state.searchPostal&&this.state.latitude&&this.state.longitude?this.findDataByPostal():this.retrieveData(),console.log("run")}},{key:"getData",value:function(e){this.setState({data:e})}},{key:"cuisineSearch",value:function(){var e=this,t=[];ua.forEach((function(e){t.push({label:e,value:e})}));var a=function(){return r.a.createElement(F.Consumer,null,(function(a){return r.a.createElement("span",null,r.a.createElement(da.a,{isMulti:!0,closeMenuOnSelect:!1,isDisabled:!e.state.retrieved,name:"name",options:t,className:"basic-multi-select",classNamePrefix:"select",value:e.state.cuisineValue,onChange:e.handleCuisineChange,onMenuOpen:e.handleCuisineMenuOpen,onMenuClose:e.handleCuisineMenuClose,placeholder:a.data.search.filterby}))}))};return r.a.createElement("span",null,r.a.createElement("span",{class:"d-none d-md-block"},a()),r.a.createElement("span",{class:"d-block d-md-none",style:{margin:"5px"}},a()))}},{key:"render",value:function(){for(var e=this,t={nearby:[]},a=[],n=0;n<12;n++)a.push(r.a.createElement("figure",{class:"card shadow effect-bubba item-card",style:{margin:"5px",height:"200px"},onClick:this.handleClick},r.a.createElement(va.a,{width:"100%"},r.a.createElement("div",{style:{height:"100px"},class:"card-img-top",alt:""})),r.a.createElement(va.a,{width:"80%"},r.a.createElement("h3",null,".")),r.a.createElement(va.a,{width:"50%"},r.a.createElement("h3",null,"."))));if(void 0!==this.state.data&&this.state.retrieved){var l=this.state.data;if(0!==this.state.search.length&&(l=l.filter((function(t){return!!(t&&t.name&&t.description&&t.description_detail&&t.tags&&t.menu_list)&&(t.name.toLowerCase().includes(e.state.search.toLowerCase())||t.description.toLowerCase().includes(e.state.search.toLowerCase())||t.description_detail.toLowerCase().includes(e.state.search.toLowerCase())||t.tags.includes(e.state.search.toLowerCase())||t.menu_list.includes(e.state.search.toLowerCase()))}))),l=l.sort((function(e,t){return t.lastmodified-e.lastmodified})),this.state.pickup&&!this.state.delivery?l=l.filter((function(e){return e.pickup_option})):!this.state.pickup&&this.state.delivery&&(l=l.filter((function(e){return e.delivery_option}))),this.state.searchPostal){l.forEach((function(t){t.distance=function(e,t,a,n){if(e===a&&t===n)return 0;var r=Math.PI*e/180,l=Math.PI*a/180,o=t-n,i=Math.PI*o/180,s=Math.sin(r)*Math.sin(l)+Math.cos(r)*Math.cos(l)*Math.cos(i);return s>1&&(s=1),1.609344*(s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515)}(parseFloat(t.latitude),parseFloat(t.longitude),parseFloat(e.state.latitude),parseFloat(e.state.longitude)).toString()}));var o=1,i=0,s=new Array(20).fill(0),c=Object.keys(l).length;(l=l.sort((function(e,t){return e.distance-t.distance}))).forEach((function(e){if(e.distance>=Ua*o){var t=Math.floor(e.distance/Ua)-o;t>0&&(o=t),s[o-1]=i,o++,i=0}i++})),s[o-1]=i,o=0,i=0,t.nearby=l.map((function(t){var a="",n="",l="",d="";if(!e.state.showList[o]&&s[o]>za){console.log(o+"="+s[o]);var u="overlay_"+o;d=r.a.createElement("span",{id:u,style:{height:"0px"}},r.a.createElement("img",{src:ut.a,alt:"",style:{width:"130%",height:"150px",borderRadius:"5px",position:"relative",top:"150px",zIndex:"50"}}))}var m=r.a.createElement("div",{class:"w-100",style:{marginTop:"25px",marginBottom:"30px"}},r.a.createElement("hr",{style:{color:"lightgrey",backgroundColor:"lightgrey",height:"1px",borderColor:"lightgrey",width:"100%",alignItems:"center",marginBottom:"0px"}}),r.a.createElement("div",{style:{textAlign:"center",paddingRight:"15px",fontSize:"110%",cursor:"pointer",color:"grey"},"data-tag":o-1,onClick:e.wantToView},e.state.showList[o-1]?r.a.createElement("b",null,"see less \u2191"):r.a.createElement("b",null,"see more \u2193"))),p=r.a.createElement("div",{class:"w-100",style:{marginTop:"25px",marginBottom:"30px"}},r.a.createElement("hr",{style:{color:"lightgrey",backgroundColor:"lightgrey",height:"1px",borderColor:"lightgrey",width:"100%",alignItems:"center",marginBottom:"0px"}}),r.a.createElement("div",{style:{textAlign:"center",paddingRight:"15px",fontSize:"110%",cursor:"pointer",color:"grey"},"data-tag":o-1})),h=r.a.createElement("div",{class:"w-100"},r.a.createElement("b",null,r.a.createElement("p",{class:"text-left",style:{paddingLeft:"27px"}},Ua*o," to ",Ua*(o+1)," KM Away")));if(t.distance>=Ua*o){var g=Math.floor(t.distance/Ua)-o;g>0&&(o=g),a=o>0&&i>za?r.a.createElement(r.a.Fragment,null,m,h,d):o>0&&i<=za?r.a.createElement(r.a.Fragment,null,p,h,d):r.a.createElement(r.a.Fragment,null,h,d),o++,i=0}return c>1?c--:n=i>za?m:p,e.state.showList[o-1]||i<za?(i++,l=r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:t.promo,id:t.id,name:t.name,street:t.street,pic:t.url,summary:t.description,distance:t.distance,claps:t.claps})))):i++,r.a.createElement(r.a.Fragment,null,a,l,n)}))}else t.nearby=l.map((function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,claps:e.claps})))}))}return r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:"container",style:{paddingTop:"27px"}},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("h3",{id:"back-to-top-anchor"},e.data.search.alllistings))}))),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-12 col-sm-6 col-md-6"},r.a.createElement("input",{disabled:!e.state.retrieved,class:"form-control",type:"text",name:"search",placeholder:t.data.search.prompt,style:{width:"100%",height:"38px","border-radius":"1rem"},onChange:e.handleChange}))})),r.a.createElement("div",{class:"col-12 col-sm-10 col-md-6"},this.cuisineSearch())),r.a.createElement("div",{class:"row justify-content-center mt-4"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"col-6 col-sm-6 col-md-6"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.postal,type:"text",pattern:"[0-9]{6}",maxLength:6,minLength:6,class:"form-control",name:"postal",placeholder:t.data.search.postalcode,autoComplete:"postal-code",autoFocus:!0,required:!0,disabled:!e.state.retrieved,style:{width:"100%",height:"38px","border-radius":"1rem"}}))})),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"pickup"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{variant:"contained",onClick:e.handleToggle,name:"pickup",disabled:!e.state.retrieved,style:e.state.pickup?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},color:"secondary"},r.a.createElement("img",{name:"pickup",src:ga.a,alt:"bag",style:{height:"20px"}}),r.a.createElement("div",{name:"pickup",class:"d-none d-md-inline-block",style:e.state.pickup?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.self_collect))})))),r.a.createElement("div",{class:"col-3 col-xs-3 col-sm-3 col-md-3"},r.a.createElement("div",{name:"delivery"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement(fa.a,{type:"submit",variant:"contained",disabled:!e.state.retrieved,style:e.state.delivery?{backgroundColor:"#b48300",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"}:{backgroundColor:"white",borderColor:"#b48300",width:"100%",height:"38px",textTransform:"none"},name:"delivery",color:"secondary",onClick:e.handleToggle},r.a.createElement("img",{name:"delivery",src:pa.a,alt:"motor",style:{height:"20px"}})," ",r.a.createElement("div",{name:"delivery",class:"d-none d-md-inline-block",style:e.state.delivery?{marginLeft:"10px",color:"white"}:{marginLeft:"10px",color:"black"}},t.data.search.delivery))}))))),r.a.createElement("div",{className:"row justify-content-center mt-4"},this.state.retrieved?t.nearby.length>0?t.nearby:r.a.createElement("span",{class:"mt-5"},"No Results Found"):r.a.createElement("div",{class:"row justify-content-center mt-4"},a),r.a.createElement(Ya,null,r.a.createElement(Ct.a,{color:"primary",size:"small","aria-label":"scroll back to top"},r.a.createElement(St.a,null))),"Android"===function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)&&/version/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}()?r.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,message:r.a.createElement("div",{style:{fontSize:"30px"}},"Android App is no longer working. Please use browser and visit ",r.a.createElement("b",null,"www.foodleh.app")," instead."),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleClose},r.a.createElement(Q.a,{fontSize:"small"})))}):null)))}}]),a}(r.a.Component);Va.contextType=F;var Ja=Va,Za=a(381),Ha=a(365),qa=a.n(Ha),Xa=a(111),Ka=a.n(Xa),$a=a(366),en=a(788),tn=a(793),an=a(791),nn=a(792),rn=a(790),ln=a(347),on=a(797),sn=a(51),cn=a.n(sn),dn=a(97),un=a.n(dn),mn="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ADMIN),pn=Z.a.analytics();function hn(e){pn.logEvent(e)}var gn=r.a.createElement("div",null,r.a.createElement("svg",{class:"bi bi-square",width:"85px",height:"85px",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z","clip-rule":"evenodd"}),r.a.createElement("svg",{class:"bi bi-plus-circle-fill",x:"5.5",y:"5.5",width:"5px",height:"5px",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 110 8a8 8 0 0116 0zM8.5 4a.5.5 0 00-1 0v3.5H4a.5.5 0 000 1h3.5V12a.5.5 0 001 0V8.5H12a.5.5 0 000-1H8.5V4z","clip-rule":"evenodd"})))),fn=function(){var e=Object(c.a)(s.a.mark((function e(t,a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.db.collection("pages").doc(t).set({css:{menu_color:"",menu_font_color:""},docid:a,logo:"",cover:n,delivery_option:"none"}).then(Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection("pages").doc(t).collection("users").doc(r).set({role:"admin"}).catch((function(e){console.log(e)}));case 2:return e.next=4,J.db.collection("pages").doc(t).collection("users").doc(mn).set({role:"admin"}).catch((function(e){console.log(e)}));case 4:return e.next=6,J.db.collection("hawkers").doc(a).update({custom:!0}).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),vn=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,r,l,o,i,d,u,m,p,h,g,f,v,b,E,y,w,A,x,k,C,D,S,O,T,P,N,I,j,M,_,L,B,R,F,U,z,W,Y,G,Q,V,Z,H,q,X,K,$,ee,te;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url,n=t.image2,r=t.image3,l=t.image4,o=t.image5,i=t.image6,d=t.name,u=t.cuisine,m=t.categories,p=t.postal,h=t.street,g=t.unit,f=t.description,v=t.description_detail,b=t.region,E=t.regions,y=t.delivery,w=t.price,A=t.contact,x=t.latitude,k=t.longitude,C=t.call,D=t.whatsapp,S=t.sms,O=t.inperson,T=t.opening,P=t.pickup_option,N=t.delivery_option,I=t.website,j=t.promo,M=t.condition,_=t.delivery_detail,L=t.menu,B=t.toggle,R=t.docid,F=t.wechatid,U=t.location,z=t.menu_combined,W=t.tagsValue,Y=t.editedFields,G=t.originalName,Q=t.takesg,V=t.option,Z=t.uid,H=t.minimum_order,q=t.free_delivery,X=t.website_name,K=new Date,$={name:d,postal:p,street:h,description:f,description_detail:v,url:a,image2:n,image3:r,image4:l,image5:o,image6:i,latitude:x,longitude:k,unit:g,delivery:y,cuisine:u,categories:m,region:b,regions:E,price:w,contact:A,call:C,whatsapp:D,sms:S,inperson:O,lastmodified:K,opening:T,delivery_option:N,pickup_option:P,website:I,promo:j,condition:M,delivery_detail:_,menu:L,docid:R,wechatid:F,location:U,menu_combined:z,tagsValue:W,takesg:Q,minimum_order:H,free_delivery:q},"create"!==B){e.next=11;break}return console.log($),e.next=7,J.db.collection("hawkers").add(Object(Le.a)({},$,{claps:0,custom:!1})).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.id),"website"!==V){e.next=4;break}return e.next=4,fn(X,t.id,a,Z);case 4:return e.abrupt("return",t.id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error adding document: ",e)}));case 7:return ee=e.sent,e.abrupt("return",ee);case 11:if("edit"!==B){e.next=17;break}if(!(Y.length>0)){e.next=16;break}return te=un.a.pick($,Y),e.next=16,la.sendEmailToUpdateListing(R,G,"edit",te).then((function(e){console.log(e)})).catch((function(e){console.error("Error sending email: ",e)}));case 16:return e.abrupt("return",R);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).callPostal=function(e){return fetch("https://developers.onemap.sg/commonapi/search?searchVal="+e+"&returnGeom=Y&getAddrDetails=Y").then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e.results)return e.results[0]}),(function(e){console.log(e)}))},n.getEditedFields=function(){var e={image1:["url"],cuisineValue:["cuisine","categories"],region:["region","regions"],latitude:["latitude","location"],menu_combined:["menu_combined"]},t=[];return Object.keys(n.state).forEach((function(a){var r=n.initialState[a],l=n.state[a];un.a.isEqual(r,l)||(Object.prototype.hasOwnProperty.call(e,a)?e[a].forEach((function(e){t.push(e)})):t.push(a))})),t},n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"website"!==n.props.option||n.state.firebaseUser){e.next=4;break}return alert("Please create account"),e.abrupt("return");case 4:if("website"!==n.props.option||n.state.website_name||n.state.available||null!==n.state.available){e.next=7;break}return alert("Please enter a valid website name"),e.abrupt("return");case 7:for(n.getPostal(n.state.postal),a=[],r=0;r<n.state.menu_combined.length;r+=1)""!==n.state.menu_combined[r].name&&a.push({name:n.state.menu_combined[r].name,price:n.state.menu_combined[r].price});for(;a.length<10;)a.push({name:"",price:""});return n.setState({isLoading:!0}),l=[],"create"===n.props.toggle?hn("create_submit_click"):(hn("edit_submit_click"),l=n.getEditedFields()),e.next=16,vn({url:n.state.image1,image2:n.state.image2,image3:n.state.image3,image4:n.state.image4,image5:n.state.image5,image6:n.state.image6,name:n.state.name,cuisine:n.state.cuisineValue,categories:n.state.cuisineValue.map((function(e){return e.label.trim()})),postal:n.state.postal,street:n.state.street,unit:n.state.unit,description:n.state.description,description_detail:n.state.description_detail,region:n.state.region,regions:n.state.region.map((function(e){return e.label.trim()})),islandwide:n.state.islandwide,delivery:n.state.delivery,price:n.state.price,contact:n.state.contact,latitude:n.state.latitude,longitude:n.state.longitude,location:J.geo.point(Number(n.state.latitude),Number(n.state.longitude)),call:n.state.call,whatsapp:n.state.whatsapp,sms:n.state.sms,inperson:n.state.inperson,opening:n.state.opening,pickup_option:n.state.pickup_option,delivery_option:n.state.delivery_option,website:n.state.website,promo:n.state.promo,condition:n.state.condition,delivery_detail:n.state.delivery_detail,menu:n.state.menu,menu_combined:a,toggle:n.props.toggle,docid:n.state.docid,wechatid:n.state.wechatid,tagsValue:n.state.tagsValue.map((function(e){return e.label.trim()})),editedFields:l,originalName:n.initialState.name,takesg:n.state.takesg,option:n.props.option,uid:n.state.firebaseUser.uid,free_delivery:n.state.free_delivery,minimum_order:n.state.minimum_order,website_name:n.state.website_name}).then((function(e){"create"===n.props.toggle?n.setState({newId:e,dialogOpen:!0,isLoading:!1}):"edit"===n.props.toggle&&(n.setState({isLoading:!1}),0===l.length?n.props.onSubmitEdit(!1):n.props.onSubmitEdit(!0))}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;if("postal"===r&&6===a.toString().length&&n.getPostal(a),"delivery_option"===r||"pickup_option"===r||"call"===r||"whatsapp"===r||"sms"===r||"inperson"===r){var l=t.checked;n.setState(Object(d.a)({},r,l)),n.saveStateToLocalStorage(r,l)}else if("menuitem"===r.slice(0,8)){for(var o=n.state.menu_combined,i=parseInt(r.slice(8));o.length<i+1;)o.push({name:"",price:""});o[i].name=t.value,n.setState({menu_combined:o}),n.saveStateToLocalStorage("menu_combined",o)}else if("menuprice"===r.slice(0,9)){for(var s=n.state.menu_combined,c=parseInt(r.slice(9));s.length<c+1;)s.push({name:"",price:""});s[c].price=t.value,n.setState({menu_combined:s}),n.saveStateToLocalStorage("menu_combined",s)}else"website_name"===r?(n.setState({website_name:e.target.value.toLowerCase(),available:null}),n.saveStateToLocalStorage(r,a)):(n.setState(Object(d.a)({},r,a)),n.saveStateToLocalStorage(r,a))},n.checkAvailable=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n.state.website_name||null===n.state.website_name||!0===/[^\w]|_|\s/g.test(n.state.website_name)){e.next=6;break}return n.setState({invalid:!1}),e.next=4,J.db.collection("pages").doc(n.state.website_name).get().then((function(e){e.exists?n.setState({available:!1}):n.setState({available:!0})})).catch((function(e){console.log(e)}));case 4:e.next=7;break;case 6:n.setState({invalid:!0});case 7:case"end":return e.stop()}}),e)}))),n.handleMenu=function(e){var t=e.target.name;if("menu"===t)n.state.menu?(n.setState({menu:!1}),n.saveStateToLocalStorage("menu",!1)):(n.setState({menu:!0}),n.saveStateToLocalStorage("menu",!0));else if("moreMenuItems"===t){for(var a=n.state.menu_combined,r=0;r<5;r++)a.push({name:"",price:""});n.setState({menu_combined:a}),n.saveStateToLocalStorage("menu_combined",a)}},n.handleMenuDisplay=function(e){var t=[];console.log(n.state.menu_combined.length),t.push(r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-7"},r.a.createElement("small",null,e.data.create.menuitem)),r.a.createElement("div",{class:"col-5"},r.a.createElement("small",null,e.data.create.price))));for(var a=0;a<n.state.menu_combined.length;a++)t.push(r.a.createElement("div",null,r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-7"},r.a.createElement("input",{onChange:n.handleChange,value:n.state.menu_combined[a].name,name:"menuitem"+a.toString(),type:"text",class:"form-control",placeholder:"E.g. Chicken Rice",maxlength:"60"})),r.a.createElement("div",{class:"col-5"},r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"$")),r.a.createElement("input",{onChange:n.handleChange,value:n.state.menu_combined[a].price,name:"menuprice"+a.toString(),type:"number",class:"form-control",placeholder:"e.g. 4.00"}))))));return t},n.handleImageAsFile=function(e){e.preventDefault();var t=e.target.files[0],a=e.target.name;if(n.setState(Object(d.a)({},a,t)),void 0!==t){var r=(new Date).getTime()+"_"+t.name,l=new FileReader;l.readAsArrayBuffer(t),l.onload=function(e){var t=new Blob([e.target.result]);window.URL=window.URL||window.webkitURL;var l=window.URL.createObjectURL(t),o=new Image;o.src=l,n.handleFireBaseUpload(o,r,a)}}},n.handleFireBaseUpload=function(e,t,a){e.onload=function(){Ka.a.read(e.src).then((function(e){e.quality(50),e.resize(Ka.a.AUTO,750),console.log(e),e.getBase64(Ka.a.AUTO,(function(e,r){J.storage.ref("/images/".concat(t)).putString(r,"data_url").on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){a="image"+a.slice(-1),J.storage.ref("images").child(t).getDownloadURL().then((function(e){n.setState(Object(d.a)({},a,e)),n.saveStateToLocalStorage(a,e)}))}))}))}))}},n.retrieveData=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.db.collection("cuisine").get();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error getting document:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getTags=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.db.collection("tags").get().then(la.mapSnapshotToDocs);case 3:t=e.sent,n.setState({tags:t}),n.initialState.tags=un.a.cloneDeep(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting document:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.handleCreate=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state,r=a.tags,l=a.tagsValue,o={label:t,value:t},J.db.collection("tags").add(o).then((function(e){return e.id})).catch((function(e){console.error("Error adding document: ",e)})),(i=l).push(o),n.setState({tags:[].concat(Object(Za.a)(r),[o]),tagsValue:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._renderMenuItemChildren=function(e,t,a){return r.a.createElement("div",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-1 col-sm-1 col-md-1 col-lg-1"},r.a.createElement("img",{style:{width:"20px"},src:qa.a,alt:"logo"})),r.a.createElement("div",{class:"col-xs-1 col-sm-1 col-md-1 col-lg-1"},r.a.createElement("div",null,e.name)),r.a.createElement("div",{class:"col-xs-10 col-sm-10 col-md-10 col-lg-10"})))},n.handleClose=function(){n.setState({dialogOpen:!1})},n.state={name:"",postal:"",street:"",price:"",description:"",description_detail:"",image1:"",image2:"",image3:"",image4:"",image5:"",image6:"",imageFile1:"",imageFile2:"",imageFile3:"",imageFile4:"",imageFile5:"",imageFile6:"",imageName:"Upload Image",longitude:103.8198,latitude:1.3521,unit:"",delivery_option:!1,pickup_option:!0,delivery:[],cuisineValue:[],call:!1,whatsapp:!1,sms:!1,inperson:!1,contact:"",docid:"",opening:"",region:[],website:"",promo:"",condition:"",delivery_detail:"",menu:!1,menu_combined:[{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""},{name:"",price:""}],wechatid:"",tagsValue:[],tags:[],isLoading:!1,takesg:!1,dialogOpen:!1,website_name:"",available:null,firebaseUser:"",minimum_order:0,free_delivery:0},n.initialState={},n.handleRegionChange=n.handleRegionChange.bind(Object(p.a)(n)),n.handleMultiChange=n.handleMultiChange.bind(Object(p.a)(n)),n.handleCuisineChange=n.handleCuisineChange.bind(Object(p.a)(n)),n.handleTagsChange=n.handleTagsChange.bind(Object(p.a)(n)),n.handleCreate=n.handleCreate.bind(Object(p.a)(n)),n.handleFireBaseUpload=n.handleFireBaseUpload.bind(Object(p.a)(n)),n.handleClear=n.handleClear.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){Z.a.auth().useDeviceLanguage(),Z.a.auth().onAuthStateChanged(function(e){e&&(console.log(e),this.setState({firebaseUser:e,displayName:e.displayName,email:e.email?e.email:null}))}.bind(this))}},{key:"getInitialState",value:function(){console.log("getinitialstate");var e={name:this.props.data.name,postal:this.props.data.postal,street:this.props.data.street,price:this.props.data.price,description:this.props.data.description,description_detail:this.props.data.description_detail,image1:this.props.data.url?this.props.data.url:"",image2:this.props.data.image2?this.props.data.image2:"",image3:this.props.data.image3?this.props.data.image3:"",image4:this.props.data.image4?this.props.data.image4:"",image5:this.props.data.image5?this.props.data.image5:"",image6:this.props.data.image6?this.props.data.image6:"",imageName:"Upload Image",longitude:this.props.data.longitude,latitude:this.props.data.latitude,unit:this.props.data.unit,delivery_option:this.props.data.delivery_option,pickup_option:this.props.data.pickup_option,cuisineValue:this.props.data.categories.map((function(e){return{label:e,value:e}})),categories:this.props.data.cuisine,call:this.props.data.call,whatsapp:this.props.data.whatsapp,sms:this.props.data.sms,inperson:this.props.data.inperson,contact:this.props.data.contact,docid:this.props.id,opening:this.props.data.opening,region:this.props.data.regions.map((function(e){return{label:e,value:e}})),regions:this.props.data.region,website:this.props.data.website,promo:this.props.data.promo,condition:this.props.data.condition,delivery_detail:this.props.data.delivery_detail,menu:this.props.data.menu,menu_combined:this.props.data.menu_combined,wechatid:this.props.data.wechatid?this.props.data.wechatid:"",takesg:!!this.props.data.takesg&&this.props.data.takesg,newId:""};return un.a.cloneDeep(e)}},{key:"componentWillMount",value:function(){if(this.getFirestoreData(),this.getTags(),this.initialState=un.a.cloneDeep(this.state),"create"===this.props.toggle)localStorage.getItem("createFormData")?this.setState(JSON.parse(localStorage.getItem("createFormData"))):localStorage.setItem("createFormData",JSON.stringify(this.state));else if("edit"===this.props.toggle){this.setState(this.getInitialState());var e=this.getInitialState();this.initialState=Object(Le.a)({},this.initialState,{},e)}}},{key:"apiHasLoaded",value:function(e,t){e&&t&&this.setState({apiReady:!0,map:e,maps:t})}},{key:"saveStateToLocalStorage",value:function(e,t){if("create"===this.props.toggle){var a=JSON.parse(localStorage.getItem("createFormData"));a[e]=t,localStorage.setItem("createFormData",JSON.stringify(a))}}},{key:"getPostal",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callPostal(t);case 2:void 0!==(a=e.sent)&&(this.setState({street:a.ADDRESS,longitude:a.LONGITUDE,latitude:a.LATITUDE}),this.saveStateToLocalStorage("street",a.ADDRESS),this.saveStateToLocalStorage("longitude",a.LONGITUDE),this.saveStateToLocalStorage("latitude",a.LATITUDE));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClear",value:function(){localStorage.setItem("createFormData",JSON.stringify(this.initialState)),this.setState(un.a.cloneDeep(this.initialState)),window.scrollTo(0,0)}},{key:"getFirestoreData",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveData();case 2:t=e.sent,a=[],n=[],t.forEach((function(e){if(e.exists){var t=e.data();n.push(t)}})),n=n.sort((function(e,t){var a=e.label.toLowerCase(),n=t.label.toLowerCase();return a<n?-1:a>n?1:0})),this.setState({data:a,cuisineOptions:n}),this.initialState.data=un.a.cloneDeep(a),this.initialState.cuisineOptions=un.a.cloneDeep(n);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleMultiChange",value:function(e){var t=this;this.setState((function(a){return t.saveStateToLocalStorage("delivery",e),{delivery:e}}))}},{key:"handleRegionChange",value:function(e){var t=this;this.setState((function(a){var n=e||[];return t.saveStateToLocalStorage("region",n),{region:n}}))}},{key:"handleCuisineChange",value:function(e){var t=this;this.setState((function(a){var n=e||[];return t.saveStateToLocalStorage("cuisineValue",n),{cuisineValue:n}}))}},{key:"handleTagsChange",value:function(e){var t=e||[];this.saveStateToLocalStorage("tagsValue",t),this.setState((function(e){return{tagsValue:t}}))}},{key:"tagsSearch",value:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement($a.a,{isClearable:!0,isMulti:!0,closeMenuOnSelect:!1,name:"name",options:this.state.tags,className:"basic-multi-select",classNamePrefix:"select",value:this.state.tagsValue,onChange:this.handleTagsChange,onCreateOption:this.handleCreate,placeholder:e.data.create.placeholdertags}))}},{key:"cuisineSearch",value:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(da.a,{isMulti:!0,closeMenuOnSelect:!1,name:"name",options:this.state.cuisineOptions,className:"basic-multi-select",classNamePrefix:"select",value:this.state.cuisineValue,onChange:this.handleCuisineChange,placeholder:e.data.create.placeholdercuisine}))}},{key:"regionSearch",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(da.a,{isMulti:!0,name:"name",options:[{label:"Islandwide",value:"islandwide"},{label:"Northeast",value:"northeast"},{label:"North",value:"north"},{label:"South",value:"south"},{label:"East",value:"east"},{label:"West",value:"west"},{label:"Central",value:"central"}],className:"basic-multi-select",classNamePrefix:"select",value:this.state.region,onChange:this.handleRegionChange,placeholder:"e.g. Islandwide, North, South, East, West"}))}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;t.apiReady,t.maps,t.map;return r.a.createElement("div",null,r.a.createElement(Re.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(en.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(rn.a,{id:"alert-dialog-title"},"Listing Successfully Created! "),r.a.createElement(an.a,null,r.a.createElement(nn.a,{id:"alert-dialog-description"},r.a.createElement("h4",{style:{color:"green"}},"Success! "),r.a.createElement("h5",null,"Your listing can be found here:"," ",r.a.createElement("a",{href:"/info?id="+this.state.newId,target:"blank"},"www.foodleh.app/info?id=",this.state.newId))),"website"===this.props.option?r.a.createElement(nn.a,{id:"alert-dialog-description"},r.a.createElement("div",{style:{wordWrap:"break-word"}},r.a.createElement("h5",null,"Website created at"," ",r.a.createElement("a",{href:"https://"+this.state.website_name+".foodleh.app",target:"blank"},"https://",this.state.website_name,".foodleh.app")),r.a.createElement("h5",null,"Edit website at:"," ",r.a.createElement("a",{href:"https://"+this.state.website_name+".foodleh.app/dashboard",target:"blank"},"https://",this.state.website_name,".foodleh.app/dashboard")))):null),r.a.createElement(tn.a,null,r.a.createElement(ne.a,{onClick:this.handleClose,color:"primary"},"Close"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"card shadow",style:{width:"100%","margin-top":"10px"}},r.a.createElement("div",{class:"card-body"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h5",{class:"card-title create-title create-title"},e.data.create.uploadimages," "),r.a.createElement("h6",{class:"card-subtitle mb-2 text-muted create-title"},e.data.create.uploadimagedescription),r.a.createElement("p",{class:"card-text create-title"},r.a.createElement("b",null,e.data.create.uploadmenu)))})),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-4"},r.a.createElement("form",{class:"create-title",onSubmit:this.handleFireBaseUpload,style:{display:"inline"}},r.a.createElement("div",{class:"custom-file",onChange:function(t){return e.handleImageAsFile(t)},style:{"margin-top":"10px"}},this.state.image1?r.a.createElement("label",{for:"imageFile1"},r.a.createElement("img",{src:this.state.image1,style:{width:"80px",height:"80px","object-fit":"cover"},name:"imageFile1",alt:""})):this.state.imageFile1?r.a.createElement("span",{style:{alignContent:"center",position:"relative",top:"25px",left:"25px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("label",{for:"imageFile1"},gn),r.a.createElement("input",{type:"file",class:"custom-file-input",id:"imageFile1",name:"imageFile1"})))),r.a.createElement("div",{class:"col-4"},r.a.createElement("form",{class:"create-title",onSubmit:this.handleFireBaseUpload,style:{display:"inline"}},r.a.createElement("div",{class:"custom-file",onChange:this.handleImageAsFile,style:{"margin-top":"10px"}},this.state.image2?r.a.createElement("label",{for:"imageFile2"},r.a.createElement("img",{src:this.state.image2,style:{width:"80px",height:"80px","object-fit":"cover"},name:"imageFile2",alt:""})):this.state.imageFile2?r.a.createElement("span",{style:{alignContent:"center",position:"relative",top:"25px",left:"25px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("label",{for:"imageFile2"},gn),r.a.createElement("input",{type:"file",class:"custom-file-input",id:"imageFile2",name:"imageFile2"})))),r.a.createElement("div",{class:"col-4"},r.a.createElement("form",{class:"create-title",onSubmit:this.handleFireBaseUpload,style:{display:"inline"}},r.a.createElement("div",{class:"custom-file",onChange:this.handleImageAsFile,style:{"margin-top":"10px"}},this.state.image3?r.a.createElement("label",{for:"imageFile3"},r.a.createElement("img",{src:this.state.image3,style:{width:"80px",height:"80px","object-fit":"cover"},name:"imageFile3",alt:""})):this.state.imageFile3?r.a.createElement("span",{style:{alignContent:"center",position:"relative",top:"25px",left:"25px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("label",{for:"imageFile3"},gn),r.a.createElement("input",{type:"file",class:"custom-file-input",id:"imageFile3",name:"imageFile3"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-4"},r.a.createElement("form",{class:"create-title",onSubmit:this.handleFireBaseUpload,style:{display:"inline"}},r.a.createElement("div",{class:"custom-file",onChange:this.handleImageAsFile,style:{"margin-top":"10px"}},this.state.image4?r.a.createElement("label",{for:"imageFile4"},r.a.createElement("img",{src:this.state.image4,style:{width:"80px",height:"80px","object-fit":"cover"},name:"imageFile4",alt:""})):this.state.imageFile4?r.a.createElement("span",{style:{alignContent:"center",position:"relative",top:"25px",left:"25px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("label",{for:"imageFile4"},gn),r.a.createElement("input",{type:"file",class:"custom-file-input",id:"imageFile4",name:"imageFile4"})))),r.a.createElement("div",{class:"col-4"},r.a.createElement("form",{class:"create-title",onSubmit:this.handleFireBaseUpload,style:{display:"inline"}},r.a.createElement("div",{class:"custom-file",onChange:this.handleImageAsFile,style:{"margin-top":"10px"}},this.state.image5?r.a.createElement("label",{for:"imageFile5"},r.a.createElement("img",{src:this.state.image5,style:{width:"80px",height:"80px","object-fit":"cover"},name:"imageFile5",alt:""})):this.state.imageFile5?r.a.createElement("span",{style:{alignContent:"center",position:"relative",top:"25px",left:"25px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("label",{for:"imageFile5"},gn),r.a.createElement("input",{type:"file",class:"custom-file-input",id:"imageFile5",name:"imageFile5"})))),r.a.createElement("div",{class:"col-4"},r.a.createElement("form",{class:"create-title",onSubmit:this.handleFireBaseUpload,style:{display:"inline"}},r.a.createElement("div",{class:"custom-file",onChange:this.handleImageAsFile,style:{"margin-top":"10px"}},this.state.image6?r.a.createElement("label",{for:"imageFile6"},r.a.createElement("img",{src:this.state.image6,style:{width:"80px",height:"80px","object-fit":"cover"},name:"imageFile6",alt:""})):this.state.imageFile6?r.a.createElement("span",{style:{alignContent:"center",position:"relative",top:"25px",left:"25px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("label",{for:"imageFile6"},gn),r.a.createElement("input",{type:"file",class:"custom-file-input",id:"imageFile6",name:"imageFile6"}))))))),r.a.createElement("div",{class:"card shadow d-none d-md-block d-sm-block d-lg-block",style:{width:"100%","margin-top":"10px"}},r.a.createElement("div",{class:"card-body"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement("h5",{class:"card-title create-title"}," ",t.data.create.preview),r.a.createElement("p",{class:"card-text create-title"},t.data.create.previewdescription," "),r.a.createElement("p",{class:"d-flex justify-content-center"},r.a.createElement(Te,{promo:e.state.promo,name:e.state.name,pic:e.state.image1,summary:e.state.description})),r.a.createElement("p",{class:"card-text create-title"},t.data.create.notsatisfied," "))}))))),r.a.createElement("div",{class:"col-sm-12 col-xs-4 col-md-6 col-lg-8"},r.a.createElement(F.Consumer,null,(function(t){return r.a.createElement("div",{class:"card shadow",style:{width:"100%","margin-top":"10px"}},r.a.createElement("form",null,r.a.createElement("div",{class:"card-body"},r.a.createElement("hr",{style:{color:"black",backgroundColor:"black",height:3}})," ",r.a.createElement("h5",{class:"card-title create-title"},t.data.create.step1),r.a.createElement("h6",{class:"card-subtitle mb-2 text-muted create-title"},t.data.create.pleaseenter," "),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"name"},t.data.create.stallname),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.name,type:"text",class:"form-control",name:"name",placeholder:t.data.create.placeholderstallname,required:!0}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"street"},t.data.create.cuisinecategory," ",r.a.createElement("b",null,t.data.create.selectmultiple)),e.cuisineSearch(t)),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},t.data.create.contactnumber),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"+65")),r.a.createElement("input",{onChange:e.handleChange,value:e.state.contact,type:"tel",class:"form-control",name:"contact",placeholder:"9xxxxxxx",maxLength:"8",required:!0}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"postalcode"},t.data.create.postalcode),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:e.handleChange.bind(e),value:e.state.postal,type:"text",class:"form-control",name:"postal",placeholder:t.data.create.placeholderpostalcode,maxLength:"6",required:!0}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"street"},t.data.create.streetname,r.a.createElement("b",null," ",t.data.create.autofill)),r.a.createElement("input",{onChange:e.handleChange,value:e.state.street,type:"text",class:"form-control",name:"street",placeholder:t.data.create.placeholderstreetname})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},t.data.create.unit),r.a.createElement("input",{onChange:e.handleChange,value:e.state.unit,type:"text",class:"form-control",name:"unit",placeholder:t.data.create.placeholderunit})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"description"},t.data.create.briefdescription," ",r.a.createElement("b",null,t.data.create.max45chars)),r.a.createElement("input",{onChange:e.handleChange,value:e.state.description,type:"text",class:"form-control",name:"description",placeholder:t.data.create.placeholderbriefdescription})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"description"},t.data.create.selfcollectordelivery," ",r.a.createElement("b",null,t.data.create.important)),r.a.createElement("div",{class:"form-check create-title"},r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:e.handleChange,type:"checkbox",checked:e.state.pickup_option,value:e.state.pickup_option,name:"pickup_option",class:"form-check-input"}),t.data.create.selfcollection),r.a.createElement("br",null),r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:e.handleChange,type:"checkbox",checked:e.state.delivery_option,name:"delivery_option",class:"form-check-input"}),t.data.create.delivery),r.a.createElement("br",null)),!1===e.state.delivery_option?null:r.a.createElement("div",null,r.a.createElement("div",{class:"card shadow"},r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title create-title"}," ",t.data.create.deliveryoptions),r.a.createElement("div",{class:" form-group create-title"},r.a.createElement("label",{for:"description"},t.data.create.whichregion),e.regionSearch()),r.a.createElement("div",{class:"form-group create-title "},r.a.createElement("label",{for:"price"},t.data.create.deliveryfees),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.price,type:"text",class:"form-control",name:"price",placeholder:t.data.create.placeholderfees}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},t.data.create.free_delivery),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"$")),r.a.createElement("input",{onChange:e.handleChange,value:e.state.free_delivery,type:"number",class:"form-control",name:"free_delivery",placeholder:"e.g. 20"}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},t.data.create.minumum_order),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"$")),r.a.createElement("input",{onChange:e.handleChange,value:e.state.minumum_order,type:"number",class:"form-control",name:"minumum_order",placeholder:"e.g. 20"}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"delivery_detail"},t.data.create.deliverydetails," "),r.a.createElement("textarea",{onChange:e.handleChange,value:e.state.delivery_detail,type:"text",class:"form-control",name:"delivery_detail",placeholder:t.data.create.placeholderdeliverydetails,rows:"3"})))),r.a.createElement("br",null)),r.a.createElement("div",{class:"create-title"},r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"blue",borderColor:"blue"},onClick:e.handleMenu,name:"menu"},t.data.create.additem),r.a.createElement("br",null)),e.state.menu?r.a.createElement("div",null,r.a.createElement("p",null,e.handleMenuDisplay(t)," "),r.a.createElement("div",{class:"create-title"},r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"blue",borderColor:"blue"},onClick:e.handleMenu,name:"moreMenuItems"},t.data.create.addmoreitem),r.a.createElement("br",null))):null),r.a.createElement("hr",{style:{color:"black",backgroundColor:"black",height:3}})," ",r.a.createElement("h5",{class:"card-title create-title"},t.data.create.step2),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"description_detail"},t.data.create.additional," "),r.a.createElement("textarea",{onChange:e.handleChange,value:e.state.description_detail,type:"text",class:"form-control",name:"description_detail",placeholder:t.data.create.placeholderadditional,rows:"3"})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"street"},t.data.create.tags," ",r.a.createElement("b",null,t.data.create.entermultiple)),e.tagsSearch(t)),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"website"},t.data.create.generalpromo," "),r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-5"},r.a.createElement("small",null,t.data.create.discount," ",r.a.createElement("b",null,t.data.create.eightchars)),r.a.createElement("input",{onChange:e.handleChange,value:e.state.promo,name:"promo",type:"text",class:"form-control",placeholder:t.data.create.placeholderdiscount,maxlength:"8"})),r.a.createElement("div",{class:"col-7"},r.a.createElement("small",null,t.data.create.condition),r.a.createElement("input",{onChange:e.handleChange,value:e.state.condition,name:"condition",type:"text",class:"form-control",placeholder:t.data.create.placeholdercondition,maxlength:"40"})))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"website"},t.data.create.website),r.a.createElement("input",{onChange:e.handleChange,value:e.state.website,type:"text",class:"form-control",name:"website",placeholder:"www.example.com",rows:"3"})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"description"},t.data.create.hours),r.a.createElement("textarea",{onChange:e.handleChange,value:e.state.opening,type:"text",class:"form-control",name:"opening",placeholder:t.data.create.placeholderhours,rows:"3"})),r.a.createElement("br",null),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},"WeChat ID(\u5fae\u4fe1\u53f7): "),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:e.handleChange,value:e.state.wechatid,type:"text",class:"form-control",name:"wechatid",placeholder:"e.g. abc123"}))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},t.data.create.contact),r.a.createElement("div",{class:"form-check create-title"},r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:e.handleChange,type:"checkbox",checked:e.state.call,value:e.state.call,name:"call",class:"form-check-input"}),t.data.create.call),r.a.createElement("br",null),r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:e.handleChange,type:"checkbox",checked:e.state.whatsapp,value:e.state.whatsapp,name:"whatsapp",class:"form-check-input"}),"WhatsApp"),r.a.createElement("br",null),r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:e.handleChange,type:"checkbox",checked:e.state.sms,value:e.state.sms,name:"sms",class:"form-check-input"}),"SMS"),r.a.createElement("br",null),r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:e.handleChange,type:"checkbox",checked:e.state.inperson,value:e.state.inperson,name:"inperson",class:"form-check-input"}),t.data.create.inperson),r.a.createElement("br",null))),r.a.createElement("hr",{style:{color:"black",backgroundColor:"black",height:3}})," ","website"===e.props.option?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{class:"card-title create-title"},"Step 3: Create website (required)"),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("div",null,r.a.createElement("label",{for:"website"},"What your website can look like:"," ",r.a.createElement("a",{target:"blank",href:"https://shidefu.foodleh.app"},"shidefu.foodleh.app")))),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("div",null,r.a.createElement("label",{for:"website"},"Choose your website link name")),r.a.createElement("div",null,r.a.createElement(ln.a,{label:"Name",name:"website_name",placeholder:"e.g. huathuat",InputProps:{endAdornment:r.a.createElement(on.a,{position:"end"},".foodleh.app")},value:e.state.website_name,onChange:e.handleChange}),r.a.createElement(ne.a,{onClick:e.checkAvailable,variant:"contained",color:"primary",style:{backgroundColor:"#b48300",borderColor:"#b48300",color:"white",margin:"10px"}},"Check Availability"),e.state.invalid?r.a.createElement("div",{style:{color:"red"}},"Must not be empty, contain spaces, or contain punctuation."):null,null!==e.state.available?r.a.createElement("div",null,e.state.available?r.a.createElement("div",{style:{color:"green"}},e.state.website_name,".foodleh.app is ",r.a.createElement("b",null,"Available")):r.a.createElement("div",{style:{color:"red"}},e.state.website_name,".foodleh.app is ",r.a.createElement("b",null,"Not Available"))):null)),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",null,"Create your account to modify your website"),e.state.firebaseUser?r.a.createElement("div",{style:{color:"green"}},r.a.createElement("p",null,r.a.createElement("b",null,"Verified: ",r.a.createElement("br",null),e.state.firebaseUser.displayName,r.a.createElement("br",null),e.state.firebaseUser.email,r.a.createElement("br",null),r.a.createElement(ne.a,{variant:"contained",onClick:function(){Z.a.auth().signOut(),e.setState({firebaseUser:null})},style:{backgroundColor:"grey",borderColor:"grey",color:"white",margin:"10px"}},"Sign-out")))):r.a.createElement("div",null,!e.state.login&&r.a.createElement("div",null,r.a.createElement(ne.a,{color:"primary",variant:"contained",onClick:function(){return e.setState({login:!0})},style:{backgroundColor:"#b48300",borderColor:"#b48300",color:"white",margin:"10px"}},"Create Account/ Login")),e.state.login&&r.a.createElement(cn.a,{uiConfig:J.uiConfigPage,firebaseAuth:Z.a.auth()}),r.a.createElement("br",null)))):null,r.a.createElement("div",{class:"card shadow d-block d-md-none",style:{width:"100%","margin-top":"10px"}},r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title create-title"}," ",t.data.create.preview),r.a.createElement("p",{class:"card-text create-title"},t.data.create.previewdescription," "),r.a.createElement("p",{class:"d-flex justify-content-center"},r.a.createElement(Te,{promo:e.state.promo,name:e.state.name,pic:e.state.image1,summary:e.state.description})),r.a.createElement("p",{class:"card-text create-title"},t.data.create.notsatisfied," "))),r.a.createElement("br",null),r.a.createElement("div",{class:"create-title"},"edit"===e.props.toggle?r.a.createElement("span",null,r.a.createElement("b",null,"To protect our owners, edits will be manually reviewed and implemented within 24 hours."),r.a.createElement("br",null)):null,r.a.createElement("div",null,"By listing via this platform, you agree to our"," ",r.a.createElement("a",{href:"https://foodleh.app/privacy"},"Privacy Policy")),r.a.createElement("br",null),r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"#b48300",borderColor:"#b48300"},type:"Submit",disabled:e.state.isLoading},e.state.isLoading?r.a.createElement(ke.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):t.data.create.submit),r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"#ffffff",borderColor:"#b48300",color:"#b48300",marginLeft:"10px"},onClick:e.handleClear,disabled:e.state.isLoading},"Clear")))))}))))))}}]),a}(r.a.Component),En=Object(v.e)(bn),yn=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.data[this.props.index];return r.a.createElement("div",null,r.a.createElement(Te,{promo:e.promo,id:e.id,name:e.name,street:e.street,pic:e.url,summary:e.description,claps:e.claps}))}}]),a}(n.PureComponent),wn=a(217),An=a.n(wn),xn=a(368),kn=a.n(xn),Cn=a(269),Dn=a.n(Cn),Sn=a(270),On=a.n(Sn),Tn=a(271),Pn=a.n(Tn),Nn=a(369),In=a.n(Nn),jn=a(272),Mn=a.n(jn),_n=a(370),Ln=a.n(_n),Bn=a(798),Rn=a(799),Fn=a(70),Un=a(708),zn=a(796),Wn=a(800),Yn=a(801),Gn=a(837),Qn=new O.a,Vn="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GKEY),Jn=Z.a.analytics(),Zn=r.a.forwardRef((function(e,t){return r.a.createElement(Un.a,Object.assign({direction:"up",ref:t},e))}));function Hn(e){Jn.logEvent(e)}var qn=[{value:6,label:"$6"},{value:8,label:"$8"},{value:10,label:"$10"},{value:12,label:"$12"},{value:14,label:"$14"},{value:16,label:"$16"},{value:18,label:"$18"},{value:20,label:"$20"}],Xn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Kn=["January","February","March","April","May","June","July","August","September","October","November","December"];function $n(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}var er=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,r,l,o,i,c,d,u,m,p,h,g,f,v,b,E,y,w,A,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.postal,n=t.postal_to,r=t.latitude,l=t.longitude,o=t.latitude_to,i=t.longitude_to,c=t.street,d=t.street_to,u=t.cost,m=t.distance,p=t.unit,h=t.unit_to,g=t.contact,f=t.contact_to,v=t.time,b=t.note,E=t.arrival,y=t.duration,w=new Date,A={postal:a,postal_to:n,latitude:r,longitude:l,latitude_to:o,longitude_to:i,street:c,street_to:d,cost:u,distance:m,unit:p,unit_to:h,contact:g,contact_to:f,lastmodified:w,viewed:!1,time:v,note:b,expired:!1,cancelled:!1,arrival:E,duration:y},e.next=5,J.db.collection("deliveries").add(A).then((function(e){return e.id})).catch((function(e){console.error("Error adding document: ",e)}));case 5:return x=e.sent,e.abrupt("return",x);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tr=new Date;tr.setMinutes(tr.getMinutes()+30);var ar=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getMap=Object(c.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loadingMap:!0}),e.next=3,la.postalPlanningRegion(n.state.postal);case 3:if(t=e.sent,!n.state.postal_to){e.next=11;break}return e.next=7,la.postalPlanningRegion(n.state.postal_to);case 7:return a=e.sent,e.next=10,la.getPlanningDetails(t.planningarea,a.planningarea);case 10:r=e.sent;case 11:"WESTERN WATER CATCHMENT"===t.planningarea&&(t.planningarea="JURONG WEST"),"SOUTHERN ISLANDS"===t.planningarea&&(t.planningarea="BUKIT MERAH"),n.setState({cost:r||null,regionFrom:t,loadingMap:!1,retrievedMap:!0});case 14:case"end":return e.stop()}}),e)}))),n.getDirections=Object(c.a)(s.a.mark((function e(){var t,a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loadingDir:!0}),e.next=3,la.postalPlanningRegion(n.state.postal);case 3:return t=e.sent,e.next=6,la.postalPlanningRegion(n.state.postal_to);case 6:return a=e.sent,e.next=9,la.getPlanningDetails(t.planningarea,a.planningarea);case 9:return r=e.sent,l="https://fathomless-falls-12833.herokuapp.com/https://maps.googleapis.com/maps/api/directions/json?mode=driving&region=sg&units=metric&origin="+n.state.street+"&destination="+n.state.street_to+"&departure_time="+parseInt(n.state.datetime.valueOf()/1e3)+"&key="+Vn,e.abrupt("return",fetch(l,{method:"GET",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){if(r){var t=e&&e.routes.length>0?e.routes[0].legs[0].distance.value:0;n.setState({minCost:r||null,cost:r,isCostBelowMin:!1,directions:e,distance:t,loadingDir:!1,retrievedDir:!0})}})).catch((function(e){console.log("Error:"+e.toString())})));case 12:case"end":return e.stop()}}),e)}))),n.callPostal=function(e){return fetch("https://developers.onemap.sg/commonapi/search?searchVal="+e+"&returnGeom=Y&getAddrDetails=Y").then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e.results)return e.results[0]}),(function(e){console.log(e)}))},n.sendData=function(e){try{return Promise.all(["https://asia-east2-hawkercentral.cloudfunctions.net/telegramSend"].map((function(t){return fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e})).then((function(e){return e})).catch((function(e){return console.log(e),e}))}))).then((function(e){return e[0]}))}catch(t){return t}},n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({submitting:!0,status:"sending"}),n.state.datetime<tr&&alert(r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",null,e.data.driver.timelimit)}))),n.state.retrievedDir||alert("Please wait for directions to load"),e.next=6,n.getPostal(n.state.postal_to,"to");case 6:return e.next=8,n.getPostal(n.state.postal,"from");case 8:return Qn.set("postal",n.state.postal,{path:"/"}),Qn.set("street",n.state.street,{path:"/"}),Qn.set("unit",n.state.unit,{path:"/"}),Qn.set("contact",n.state.contact,{path:"/"}),Qn.set("note",n.state.note,{path:"/"}),(a=new Date(n.state.datetime)).setMinutes(a.getMinutes()+15+n.state.directions.routes[0].legs[0].duration.value/60),a=Xn[a.getDay()]+" "+a.getDate()+" "+Kn[a.getMonth()]+" "+$n(a),e.next=18,er({origin:n.state.street,destination:n.state.street_to,distance:n.state.directions.routes[0].legs[0].distance.text,cost:n.state.cost,postal:n.state.postal,postal_to:n.state.postal_to,latitude:n.state.latitude,longitude:n.state.longitude,latitude_to:n.state.latitude_to,longitude_to:n.state.longitude_to,street:n.state.street,street_to:n.state.street_to,unit:n.state.unit,unit_to:n.state.unit_to,contact:n.state.contact,contact_to:n.state.contact_to,time:n.state.datetime,note:n.state.note,arrival:a,duration:n.state.directions.routes[0].legs[0].duration.text}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.sendData({origin:n.state.street,destination:n.state.street_to,distance:n.state.directions.routes[0].legs[0].distance.text,requester_mobile:n.state.contact,cost:"$"+n.state.cost,id:t,url:"www.foodleh.app/delivery?id="+t,time:Xn[n.state.datetime.getDay()]+" "+n.state.datetime.getDate()+" "+Kn[n.state.datetime.getMonth()]+" "+$n(n.state.datetime),duration:n.state.directions.routes[0].legs[0].duration.text,arrival:a}).then((function(e){e&&e.status&&200===e.status?n.setState({submitted:!0,submitting:!1,status:"succeeded"}):n.setState({submitted:!0,submitting:!1,status:"failed"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleVerify=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=document.getElementById("phone-number").value,n=window.recaptchaVerifier,Z.a.auth().signInWithPhoneNumber(a,n).then((function(e){window.confirmationResult=e})).catch((function(e){console.log("error, sms not sent")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTime=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({time:t,datetime:new Date(n.state.date.getMonth()+1+"/"+n.state.date.getDate()+"/"+n.state.date.getFullYear()+" "+t)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDate=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({date:t,datetime:new Date(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+n.state.time)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSlider=function(e,t){n.setState({cost:t}),""!==t&&parseInt(t)<parseInt(n.state.minCost)?n.setState({isCostBelowMin:!0}):n.setState({isCostBelowMin:!1})},n.handleChange=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,r=a.value,l=a.name,n.setState(Object(d.a)({},l,r)),console.log(r),"postal"!==l||6!==r.toString().length){e.next=9;break}return e.next=8,n.getPostal(r,"from");case 8:n.getMap();case 9:if("postal_to"!==l||6!==r.toString().length){e.next=12;break}return e.next=12,n.getPostal(r,"to");case 12:"postal"!==l&&"postal_to"!==l||""===n.state.street||""===n.state.street_to||n.getDirections(),"cost"===l&&""!==r.trim()&&parseInt(r)<parseInt(n.state.minCost)?n.setState({isCostBelowMin:!0}):"cost"===l&&n.setState({isCostBelowMin:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setShow=function(){n.setState({show:!0})},n.setHide=function(){n.setState({show:!1})},n.handleClickOpen=function(e){e.preventDefault(),n.setState({open:!0})},n.handleClose=function(e){e.preventDefault(),n.setState({open:!1})},console.log(xe.a.parse(n.props.location.search).note),n.state={firebaseUser:null,postal:xe.a.parse(n.props.location.search).postal?xe.a.parse(n.props.location.search).postal:Qn.get("postal")?Qn.get("postal"):"",postal_to:xe.a.parse(n.props.location.search).postal_to?xe.a.parse(n.props.location.search).postal_to:"",latitude:"",longitude:"",latitude_to:"",longitude_to:"",street:xe.a.parse(n.props.location.search).street?xe.a.parse(n.props.location.search).street:Qn.get("street")?Qn.get("street"):"",street_to:xe.a.parse(n.props.location.search).street_to?xe.a.parse(n.props.location.search).street_to:"",minCost:"",cost:"",isCostBelowMin:!1,distance:"",unit:xe.a.parse(n.props.location.search).unit?xe.a.parse(n.props.location.search).unit:Qn.get("unit")?Qn.get("unit"):"",unit_to:xe.a.parse(n.props.location.search).unit_to?xe.a.parse(n.props.location.search).unit_to:"",contact:xe.a.parse(n.props.location.search).contact?xe.a.parse(n.props.location.search).contact:Qn.get("contact")?Qn.get("contact"):"",contact_to:xe.a.parse(n.props.location.search).contact_to?xe.a.parse(n.props.location.search).contact_to:"",time:tr.getHours()+":"+tr.getMinutes(),date:tr,datetime:tr,note:xe.a.parse(n.props.location.search).note?xe.a.parse(n.props.location.search).note:Qn.get("note")?Qn.get("note"):"",pickup_option:!1,submitted:!1,show:!1,directions:!1,loadingDir:!1,loadingMap:!1,retrievedDir:!1,retrievedMap:!1,regionFrom:"",planningDetails:"",status:""},n}return Object(m.a)(a,[{key:"getPostal",value:function(){var e=Object(c.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callPostal(t);case 2:void 0!==(n=e.sent)?"to"===a?this.setState({street_to:n.ADDRESS,longitude_to:n.LONGITUDE,latitude_to:n.LATITUDE,invalidPostal_to:!1}):this.setState({street:n.ADDRESS,longitude:n.LONGITUDE,latitude:n.LATITUDE,invalidPostal:!1}):"to"===a?this.setState({invalidPostal_to:!0}):this.setState({invalidPostal:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.state.postal&&(this.getMap(),this.state.postal_to&&this.getDirections()),Hn("find_driver")}},{key:"componentDidMount",value:function(){Z.a.auth().useDeviceLanguage(),window.recaptchaVerifier=new Z.a.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){}}),Z.a.auth().onAuthStateChanged(function(e){e&&(this.setState({firebaseUser:e,contact:e.phoneNumber.slice(3)}),Hn("driverleh",e.phoneNumber.slice(3)))}.bind(this))}},{key:"render",value:function(){var e,t=this;return this.state.retrievedDir&&this.state.directions&&this.state.directions.routes.length>0&&(e=new Date(this.state.datetime)).setMinutes(e.getMinutes()+15+this.state.directions.routes[0].legs[0].duration.value/60),r.a.createElement("div",null,r.a.createElement(Jt.a,{size:"xl",onHide:this.setHide,show:this.state.show,className:"modal",dialogClassName:"modal-dialog modal-100w modal-dialog-centered",style:{marginTop:"30px"}},r.a.createElement(Jt.a.Header,{closeButton:!0},r.a.createElement(Jt.a.Title,{id:"example-custom-modal-styling-title"},"How DriverLeh? Works")),r.a.createElement(Jt.a.Body,null,r.a.createElement("img",{src:In.a,alt:"",style:{width:"100%",height:"100%"}}))),r.a.createElement("div",{class:"jumbotron",style:{"padding-top":"70px","padding-bottom":"240px",height:"100%","background-color":"white"}},r.a.createElement("div",{class:"align-items-center",style:{width:"100%"}}),r.a.createElement(F.Consumer,null,(function(a){return r.a.createElement(Re.a,{onSubmit:t.handleClickOpen.bind(t)},r.a.createElement(en.a,{fullScreen:!0,open:t.state.open,onClose:t.handleClose,TransitionComponent:Zn},r.a.createElement(Bn.a,{style:{position:"relative",backgroundColor:"white"}},r.a.createElement(Rn.a,null,r.a.createElement(Y.a,{edge:"start",onClick:t.handleClose,"aria-label":"close"},r.a.createElement(Q.a,null)),r.a.createElement(Fn.a,{variant:"h6",style:{flex:1,color:"black"}},a.data.driver.confirm)),r.a.createElement(zn.a,{component:"nav","aria-label":"mailbox folders"},r.a.createElement(Wn.a,{divider:!0},r.a.createElement(Yn.a,{style:{color:"black"},primary:a.data.driver.deliveryfrom,secondary:t.state.street+" "+t.state.postal})),r.a.createElement(Wn.a,{divider:!0},r.a.createElement(Yn.a,{style:{color:"black"},primary:a.data.driver.deliveryto,secondary:t.state.street_to+" "+t.state.postal_to})),r.a.createElement(Wn.a,{divider:!0},r.a.createElement(Yn.a,{style:{color:"black"},primary:a.data.driver.mobilenumber,secondary:t.state.contact_to})),r.a.createElement(Wn.a,{divider:!0},r.a.createElement(Yn.a,{style:{color:"black"},primary:a.data.driver.pickuptime,secondary:Xn[t.state.datetime.getDay()]+" "+t.state.datetime.getDate()+" "+Kn[t.state.datetime.getMonth()]+" "+$n(t.state.datetime)})),r.a.createElement(Wn.a,{divider:!0},r.a.createElement(Yn.a,{style:{color:"black"},primary:a.data.driver.drivernote,secondary:t.state.note})),r.a.createElement(Wn.a,{divider:!0},r.a.createElement(Yn.a,{style:{color:"black"},primary:a.data.driver.deliverycost,secondary:"$"+t.state.cost}))),r.a.createElement("div",{class:"row d-flex justify-content-center align-items-center",style:{margin:"10px"}},t.state.submitting?r.a.createElement("div",{style:{color:"black"}},"Loading...",r.a.createElement(ke.a,{animation:"grow"})):"succeeded"===t.state.status?r.a.createElement("div",null,t.state.submitted?r.a.createElement("div",null,r.a.createElement("div",{class:"shadow-lg",style:{backgroundColor:"green",borderColor:"white",fontSize:"25px",color:"white"}},a.data.driver.submitted),r.a.createElement("h5",{style:{color:"black"}},"To arrange a new delivery, please refresh the page.")):r.a.createElement(fa.a,{variant:"contained",color:"primary",type:"Submit",style:{justifyContent:"center"}},a.data.menu.searchlabel)):r.a.createElement("div",null,t.state.submitted?r.a.createElement("div",null,r.a.createElement("div",{class:"shadow-lg",style:{backgroundColor:"red",borderColor:"white",fontSize:"25px",color:"white"}},"ERROR PLEASE SUBMIT AGAIN"),r.a.createElement("h5",null,"To arrange a new delivery, please refresh the page.")):r.a.createElement(fa.a,{variant:"contained",color:"primary",type:"Submit",onClick:t.handleSubmit.bind(t)},a.data.driver.clicktosearch))))),r.a.createElement("div",{class:"container-fluid col-md-10 content col-xs-offset-2"},r.a.createElement("div",{class:"d-flex row justify-content-center"},r.a.createElement("img",{src:An.a,alt:"",style:{width:"100%",height:"100%"}}),r.a.createElement("div",{class:"row",style:{marginTop:"10px"}},r.a.createElement("div",{style:{padding:"10px",width:"100%"}},r.a.createElement("hr",{style:{color:"orange",backgroundColor:"orange",height:5,width:"50%"}}),"A non-profit community delivery initiative ",r.a.createElement("br",null)," Click To Learn How It Works: ",r.a.createElement("br",null),r.a.createElement("img",{onClick:function(){return t.setShow()},style:{cursor:"pointer",height:"40px",width:"34px"},src:kn.a,alt:"question"})),r.a.createElement("div",{style:{fontSize:"12px"}},r.a.createElement("span",{style:{fontWeight:"bold"}},a.data.driver.rules)," ",r.a.createElement("br",null),a.data.driver.rules1,r.a.createElement("br",null),r.a.createElement("br",null),a.data.driver.rules2,r.a.createElement("br",null),r.a.createElement("br",null),a.data.driver.rules3,r.a.createElement("br",null),r.a.createElement("br",null),a.data.driver.thankyou)),r.a.createElement("div",{class:"card row",style:{width:"100%",padding:"",marginTop:"10px"}},r.a.createElement("div",{class:"shadow-lg",style:{backgroundColor:"white",padding:"20px",marginBottom:"20px",alignContent:"center",alignItems:"center"}},r.a.createElement("img",{class:"d-none d-md-inline-block",src:Mn.a,alt:"",style:{width:"30%"}}),r.a.createElement("img",{class:"d-inline-block d-md-none",src:Mn.a,alt:"",style:{width:"50%"}}),r.a.createElement("div",{class:"d-flex flex-row justify-content-center",style:{margin:"10px"}},r.a.createElement("div",{class:"d-flex p-6 justify-content-center align-items-center",style:{padding:"0px 10px"}},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"postalcode"},a.data.driver.deliveryfrom),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:t.handleChange.bind(t),value:t.state.postal,type:"text",class:t.state.postal?"form-control":"form-control is-invalid",name:"postal",placeholder:a.data.driver.placeholderpostalcode,min:"0",required:!0,autocomplete:"postal",maxLength:"6"})),t.state.invalidPostal?r.a.createElement("div",{class:"badge badge-danger",style:{fontSize:"15px"}},"Postal Code is invalid"):r.a.createElement("div",null,r.a.createElement("br",null)))),r.a.createElement("div",{class:"p-6",style:{padding:"0px 10px"}},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"postalcode"},a.data.driver.deliveryto),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:t.handleChange.bind(t),value:t.state.postal_to,type:"text",class:t.state.postal_to?"form-control":"form-control is-invalid",name:"postal_to",placeholder:a.data.driver.placeholderpostalcode,min:"0",required:!0,maxLength:"6",autocomplete:"postal_to",style:{padding:"0px 10px"}})),t.state.invalidPostal_to?r.a.createElement("div",{class:"badge badge-danger",style:{fontSize:"15px"}},"Postal Code is invalid"):r.a.createElement("div",null,r.a.createElement("br",null))))),r.a.createElement("div",{class:"d-flex flex-row justify-content-center align-items-center",style:{padding:"0px 10px"}},t.state.loadingDir?r.a.createElement(ke.a,{class:"",animation:"grow"}):r.a.createElement("div",{style:{fontSize:"14px",textAlign:"left"}},t.state.retrievedDir&&t.state.directions&&t.state.directions.routes.length>0?r.a.createElement("div",{class:"p-6 align-items-center",style:{padding:"15px"}},r.a.createElement("div",null,r.a.createElement("b",null,a.data.driver.estduration,": "),t.state.directions.routes.length>0?t.state.directions.routes[0].legs[0].duration.text:null,r.a.createElement("br",null),r.a.createElement("b",{style:{display:"inline-block"}},a.data.driver.deliverycost,":"),t.state.minCost?r.a.createElement("div",{style:{display:"inline-block",width:"50px"}},r.a.createElement("p",{style:{display:"inline-block"}},"$"),r.a.createElement("input",{style:{display:"inline-block",width:"80%"},type:"number",name:"cost",value:t.state.cost,onChange:t.handleChange,min:"6"})):null,r.a.createElement("br",null),t.state.isCostBelowMin?r.a.createElement("span",{class:"badge badge-danger",style:{fontSize:"12px"}},"Recommended delivery ",r.a.createElement("br",null),"cost is above $",t.state.minCost):null)):null),r.a.createElement("div",{class:"p-6 d-flex flex-row justify-content-center align-items-center"},t.state.loadingMap?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(ke.a,{class:"",animation:"grow"})):r.a.createElement("div",null,t.state.retrievedMap&&t.state.regionFrom.planningarea?r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/maps%2F"+t.state.regionFrom.planningarea.replace(/ /g,"").toLowerCase()+".png?alt=media&token=5942b166-0826-41e2-9a33-268dce1e9aac",alt:"map",style:{width:"100px",height:"auto"}}),r.a.createElement(fa.a,{variant:"contained",color:"secondary",size:"large",startIcon:r.a.createElement(Ln.a,null),style:{fontSize:"10px",width:"auto",margin:"10px"},target:"blank",href:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/maps%2F"+t.state.regionFrom.planningarea.replace(/ /g,"").toLowerCase()+".png?alt=media&token=5942b166-0826-41e2-9a33-268dce1e9aac",download:!0},r.a.createElement("div",null,a.data.driver.viewmap)))):r.a.createElement("div",null,a.data.driver.mapwillload)))),r.a.createElement("div",{style:{paddingTop:"20px"}},r.a.createElement("b",null,a.data.driver.arrangedelivery)),r.a.createElement("div",{style:{display:t.state.firebaseUser?"none":"block"}},r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},r.a.createElement("p",null,r.a.createElement("b",null,"Verify Mobile Number with OTP: "),"To prevent scams, this MUST be your legitimate phone number as an F&B owner. It will be the contact number given to drivers who accept your request. We will not hesitate to track you and make a police report if you submit a fake request to harass others."),r.a.createElement(cn.a,{uiConfig:J.uiConfig,firebaseAuth:Z.a.auth()})),r.a.createElement("div",{id:"recaptcha-container"}),r.a.createElement("br",null)),r.a.createElement("br",null),t.state.firebaseUser?r.a.createElement("div",{style:{color:"green"}},r.a.createElement("p",null,r.a.createElement("b",null,a.data.driver.verified," ",t.state.firebaseUser.phoneNumber))):null),null!==t.state.firebaseUser?r.a.createElement("div",null,r.a.createElement("img",{class:"d-none d-md-inline-block",src:Dn.a,alt:"",style:{width:"40%"}}),r.a.createElement("img",{class:"d-inline-block d-md-none",src:Dn.a,alt:"",style:{width:"80%"}}),r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("div",{class:"row"}," ",r.a.createElement("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4"}," ",r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"postalcode"},a.data.driver.postalcode),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:t.handleChange.bind(t),value:t.state.postal,type:"text",class:t.state.postal?"form-control":"form-control is-invalid",name:"postal",placeholder:a.data.driver.placeholderpostalcode,min:"0",required:!0,maxLength:"6"})))),r.a.createElement("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8"}," ",r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"street"},a.data.create.streetname,r.a.createElement("b",null," ",a.data.create.autofill)),r.a.createElement("input",{onChange:t.handleChange,value:t.state.street,type:"text",class:t.state.street?"form-control":"form-control is-invalid",name:"street",placeholder:a.data.create.placeholderstreetname,required:!0})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},a.data.create.unit),r.a.createElement("input",{onChange:t.handleChange,value:t.state.unit,type:"text",class:"form-control",name:"unit",placeholder:a.data.create.placeholderunit}))),r.a.createElement("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"},a.data.driver.mobilenumber,":",r.a.createElement("br",null),r.a.createElement("div",{style:{color:"green",margin:"10px"}},r.a.createElement("b",null,t.state.firebaseUser.phoneNumber.slice(3)))))),r.a.createElement("img",{class:"d-none d-md-inline-block",src:On.a,alt:"",style:{width:"40%"}}),r.a.createElement("img",{class:"d-inline-block d-md-none",src:On.a,alt:"",style:{width:"80%"}}),r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"postal_to"},a.data.driver.postalcode),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:t.handleChange.bind(t),value:t.state.postal_to,type:"text",class:t.state.postal_to?"form-control":"form-control is-invalid",name:"postal_to",placeholder:a.data.driver.placeholderpostalcode,min:"0",required:!0,maxLength:"6"})))),r.a.createElement("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"street_to"},a.data.create.streetname,r.a.createElement("b",null," ",a.data.create.autofill)),r.a.createElement("input",{onChange:t.handleChange,value:t.state.street_to,type:"text",class:t.state.street_to?"form-control":"form-control is-invalid",name:"street_to",placeholder:a.data.create.placeholderstreetname,required:!0})))),r.a.createElement("div",{class:"row"}," ",r.a.createElement("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4"}," ",r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},a.data.create.unit),r.a.createElement("input",{onChange:t.handleChange,value:t.state.unit_to,type:"text",class:"form-control",name:"unit_to",placeholder:a.data.create.placeholderunit}))),r.a.createElement("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},a.data.driver.mobilenumber,":"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"+65")),r.a.createElement("input",{onChange:t.handleChange,value:t.state.contact_to,type:"tel",name:"contact_to",placeholder:"9xxxxxxx",maxLength:"8",pattern:"[8-9]{1}[0-9]{7}",minlength:"8",class:t.state.contact_to?"form-control":"form-control is-invalid",required:!0}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"time"},a.data.driver.pickupdate),r.a.createElement(gt.a,{class:"form-control is-invalid",dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",onChange:t.handleDate,value:t.state.date,format:"dd/MMM/yyyy",required:!0}))),r.a.createElement("div",{class:"col-xs-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"time"},a.data.driver.pickuptime),r.a.createElement(vt.a,{class:"form-control is-invalid",dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",hourPlaceholder:"hh",minutePlaceholder:"mm",onChange:t.handleTime,value:t.state.time,format:"hh:mma",disableClock:!0,required:!0}),tr>t.state.datetime?r.a.createElement("span",{class:"badge badge-danger"},r.a.createElement(F.Consumer,null,(function(e){return r.a.createElement("div",null,e.data.driver.timelimit)}))):null)),r.a.createElement("div",{class:"col-xs-7 col-sm-7 col-md-7 col-lg-7"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"note"},a.data.driver.drivernote),r.a.createElement("input",{onChange:t.handleChange,value:t.state.note,type:"text",class:"form-control",name:"note",placeholder:a.data.driver.placeholderdrivernote,maxLength:"40"}))))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{class:"shadow-lg",style:{backgroundColor:"white",padding:"20px"}},r.a.createElement("img",{class:"d-none d-md-inline-block",src:Pn.a,alt:"",style:{width:"20%"}}),r.a.createElement("img",{class:"d-inline-block d-md-none",src:Pn.a,alt:"",style:{width:"40%"}}),t.state.loadingDir?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(ke.a,{class:"",animation:"grow"})):r.a.createElement("div",null,t.state.retrievedDir&&t.state.directions&&t.state.directions.routes.length>0?r.a.createElement("span",null,r.a.createElement("p",{style:{textAlign:"center",fontSize:"20px"}},r.a.createElement("b",null,a.data.driver.distance," (Google Maps):"," "),r.a.createElement("br",null),t.state.directions.routes.length>0?t.state.directions.routes[0].legs[0].distance.text:null,r.a.createElement("br",null),r.a.createElement("b",null,a.data.driver.estduration,":"," "),r.a.createElement("br",null),t.state.directions.routes.length>0?t.state.directions.routes[0].legs[0].duration.text:null,r.a.createElement("br",null),r.a.createElement("b",null,a.data.driver.estarrival," ",r.a.createElement("br",null)," ",r.a.createElement("small",{style:{color:"grey"}},"(Pickup Time + Duration + 15 min Buffer):")),r.a.createElement("br",null),t.state.directions.routes.length>0?Xn[e.getDay()]+" "+e.getDate()+" "+Kn[e.getMonth()]+" "+$n(e):null,r.a.createElement("br",null),r.a.createElement("b",null,a.data.driver.deliverycost,":"," "),r.a.createElement("br",null),t.state.cost?"$"+t.state.cost.toString():null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Gn.a,{"aria-labelledby":"discrete-slider",valueLabelDisplay:"on",step:1,marks:qn,min:6,max:20,name:"cost",value:t.state.cost,style:{width:"90%"},onChange:t.handleSlider.bind(t)}),t.state.isCostBelowMin?r.a.createElement("div",{class:"badge badge-danger",style:{fontSize:"12px"}},"Recommended delivery cost is above $",t.state.minCost):null)):r.a.createElement("div",null,a.data.driver.fillindetails)),r.a.createElement("div",{class:"form-check create-title",style:{textAlign:"center"}},r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:t.handleChange,type:"checkbox",checked:t.state.pickup_option,value:t.state.pickup_option,name:"pickup_option",class:"form-check-input",required:!0}),a.data.driver.iagree),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(fa.a,{variant:"contained",color:"primary",type:"Submit"},a.data.driver.review),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("small",null," ","Disclaimer: FoodLeh is only responsible for broadcasting deliveries to potential drivers and is not responsible for any inaccuracies, misrepresentation, damage, delay, losses or otherwise. Contact us at foodleh@outlook.com if you have any suggestions or notice anything we could improve!")))):null))))}))))}}]),a}(r.a.Component),nr=Object(v.e)(ar),rr=new O.a,lr=J.firebase.analytics();function or(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}var ir=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],sr=["January","February","March","April","May","June","July","August","September","October","November","December"],cr=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.viewed,n=t.driver_contact,r=t.id,l=t.paynow_alternate,o=new Date,i={viewed:a,driver_contact:n||"",timeaccepted:o,paynow_alternate:l||""},e.abrupt("return",J.db.collection("deliveries").doc(r).update(i).then((function(e){return e.id})).catch((function(e){console.error("Error adding document: ",e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).cancelDoc=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loadingCancel:!0}),e.next=3,J.db.collection("deliveries").doc(n.state.cancel).get().then((function(e){console.log(e.data()),!0===e.data().viewed?n.setState({cancel:"denied",loadingCancel:!1}):(e.ref.update({cancelled:!0}),n.setState({loadingCancel:!1}),n.cancelData({data:e.data()}))}));case 3:case"end":return e.stop()}}),e)}))),n.getDoc=function(){return J.db.collection("deliveries").doc(n.state.id).get().then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({data:t.data(),retrieved:!0}),e.abrupt("return",t.data());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},n.cancelData=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=["https://asia-east2-hawkercentral.cloudfunctions.net/telegramCancel"],e.prev=1,Promise.all(a.map((function(e){return fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),e}))}))).then((function(e){})),e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),n.sendData=function(e){try{return Promise.all(["https://asia-east2-hawkercentral.cloudfunctions.net/telegramEdit"].map((function(t){return fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),e}))}))).then((function(e){console.log("Message Requested")}))}catch(t){return t}},n.handleVerify=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=document.getElementById("phone-number").value,n=window.recaptchaVerifier,J.firebase.auth().signInWithPhoneNumber(a,n).then((function(e){window.confirmationResult=e})).catch((function(e){console.log("error, sms not sent")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({driver_contact:n.state.firebaseUser.phoneNumber.slice(3),submitting:!0}),rr.set("driver_contact",n.state.driver_contact,{path:"/"}),rr.set("driver_name",n.state.driver_name,{path:"/"}),rr.set("paynow_alternate",n.state.paynow_alternate,{path:"/"}),rr.set("payment",n.state.payment,{path:"/"}),n.getDoc().then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.viewed||t.cancelled||t.expired){e.next=3;break}return e.next=3,cr({viewed:!0,id:n.state.id,driver_contact:n.state.driver_contact,driver_name:n.state.driver_name,paynow_alternate:n.state.paynow_alternate}).then(function(){var e=Object(c.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.sendData({foodleh_id:t.message_id.foodleh,deliverysg_id:t.message_id.deliverysg,driver_mobile:n.state.driver_contact,driver_name:n.state.driver_name,requester_mobile:t.contact,customer_mobile:t.contact_to,origin:t.street,destination:t.street_to,time:t.time&&"string"!==typeof t.time?ir[t.time.toDate().getDay()]+" "+t.time.toDate().getDate()+" "+sr[t.time.toDate().getMonth()]+" "+or(t.time.toDate()):null,note:t.note,cost:t.cost,arrival:t.arrival,duration:t.duration,paynow_alternate:n.state.paynow_alternate});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){n.setState({submitted:!0,submitting:!1})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;if("payment"===r){var l=t.checked;n.setState(Object(d.a)({},r,l))}else n.setState(Object(d.a)({},r,a))},n.state={postal:"",latitude:"",longitude:"",latitude_to:"",longitude_to:"",street:"",street_to:"",cost:"",distance:"",unit:"",unit_to:"",contact:"",contact_to:"",retrieved:!1,id:xe.a.parse(n.props.location.search).id,cancel:xe.a.parse(n.props.location.search).cancel,pickup_option:!1,submitted:!1,submitting:!1,firebaseUser:null,driver_contact:rr.get("driver_contact")?rr.get("driver_contact"):"",driver_name:rr.get("driver_name")?rr.get("driver_name"):"",payment:rr.get("payment")?rr.get("payment"):"",paynow_alternate:rr.get("paynow_alternate")?rr.get("paynow_alternate"):""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){J.firebase.auth().useDeviceLanguage(),console.log(J.firebase.auth().languageCode),this.state.cancel||(window.recaptchaVerifier=new J.firebase.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){}}),J.firebase.auth().onAuthStateChanged(function(e){e&&this.setState({firebaseUser:e,driver_contact:e.phoneNumber.slice(3)})}.bind(this)))}},{key:"componentWillMount",value:function(){var e;e="find_delivery",lr.logEvent(e),this.state.cancel&&this.cancelDoc()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{"padding-top":"70px","padding-bottom":"240px",height:"100%","background-color":"white"}},r.a.createElement("div",{class:"container-fluid col-md-10 content col-xs-offset-2"},r.a.createElement("div",{class:"d-flex row justify-content-center"},r.a.createElement("img",{src:An.a,alt:"",style:{width:"100%",height:"100%"}}),r.a.createElement("div",{class:"card shadow row",style:{width:"100%",padding:"20px",margin:"20px"}},this.state.cancel?this.state.loadingCancel?r.a.createElement("div",{class:"d-flex row justify-content-center"},r.a.createElement(ke.a,{class:"",animation:"grow"})):"denied"===this.state.cancel?r.a.createElement("h2",null,"A driver has already picked up this order. Please contact him/her to cancel."):r.a.createElement("h2",null,"You have successfully cancelled the request"):r.a.createElement("div",null,this.state.submitted?this.state.retrieved?r.a.createElement("div",null,this.state.data.viewed||this.state.data.expired||this.state.data.cancelled?r.a.createElement("div",null,this.state.data.viewed?r.a.createElement("h3",null,r.a.createElement("br",null),r.a.createElement("br",null),"Sorry, someone has already taken the order",r.a.createElement("br",null)):r.a.createElement("h3",null,r.a.createElement("br",null),r.a.createElement("br",null),"Sorry, this order has expired",r.a.createElement("br",null))):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h3",null,"Congratulations, you got the order!",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("h5",null,"Please take a screenshot of this page as the following information will be deleted after refresh."," "),r.a.createElement("br",null),r.a.createElement("b",null,"Delivery From:")," ",this.state.data.unit," ",r.a.createElement("a",{href:"https://maps.google.com/?q="+this.state.data.street},this.state.data.street),r.a.createElement("br",null),r.a.createElement("b",null,"Delivery To:")," ",this.state.data.unit_to," ",r.a.createElement("a",{href:"https://maps.google.com/?q="+this.state.data.street_to},this.state.data.street_to),r.a.createElement("br",null),r.a.createElement("b",null,"Hawker Contact:")," ",this.state.data.contact,r.a.createElement("br",null),r.a.createElement("b",null,"Customer Contact:")," ",this.state.data.contact_to,r.a.createElement("br",null),this.state.data.time?r.a.createElement("div",null,r.a.createElement("b",null,"Pickup Time:"),ir[this.state.data.time.toDate().getDay()]+" "+this.state.data.time.toDate().getDate()+" "+sr[this.state.data.time.toDate().getMonth()]+" "+or(this.state.data.time.toDate())):null,r.a.createElement("b",null,"Note from Requester:")," ",this.state.data.note,r.a.createElement("br",null),r.a.createElement("b",null,"Distance:")," ",this.state.data.distance,r.a.createElement("br",null),this.state.data.duration?r.a.createElement("div",null,r.a.createElement("b",null,"Est. Duration:")," ",this.state.data.duration,r.a.createElement("br",null)," "):null,this.state.data.arrival?r.a.createElement("div",null,r.a.createElement("b",null,"Est. Arrival Time:")," ",this.state.data.arrival,r.a.createElement("br",null)," "):null,r.a.createElement("b",null,"Estimated Fee:")," $",this.state.data.cost,r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("h4",null,"Contact the hawker directly to arrange delivery. Provide last 4 digits of customer number.")),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("small",null,"For technical problems, please email us at foodleh@outlook.com"))):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Loading"),r.a.createElement(ke.a,{class:"",animation:"grow"})):r.a.createElement(Re.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("br",null),r.a.createElement("div",{style:{display:this.state.firebaseUser?"none":"block"}},r.a.createElement("div",null,r.a.createElement("p",null,"Verify Mobile Number"),r.a.createElement(cn.a,{uiConfig:J.uiConfig,firebaseAuth:J.firebase.auth()})),r.a.createElement("div",{id:"recaptcha-container"}),r.a.createElement("br",null)),r.a.createElement("br",null),this.state.firebaseUser?r.a.createElement("div",null,r.a.createElement("p",null,"Already verified phone number:"," ",this.state.firebaseUser.phoneNumber)):null,r.a.createElement("label",{for:"unit"},"Your Name:"),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.driver_name,type:"text",class:"form-control",name:"driver_name",placeholder:"e.g. Tan Xiao Ming",required:!0})),r.a.createElement("br",null),r.a.createElement("div",{class:"form-check create-title"},r.a.createElement("label",{class:"checkbox-inline"},r.a.createElement("input",{onChange:this.handleChange,type:"checkbox",checked:this.state.payment,name:"payment",class:"form-check-input"}),"Prefer a different PayNow number/UEN?"),r.a.createElement("br",null)),this.state.payment?r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.paynow_alternate,type:"number",class:"form-control",name:"paynow_alternate",placeholder:"UEN/PayNow Number"})):null,r.a.createElement("br",null),this.state.submitting?r.a.createElement(ke.a,{class:"",animation:"grow"}):r.a.createElement(ne.a,{class:"shadow-lg",disabled:null===this.state.firebaseUser,style:{backgroundColor:null!==this.state.firebaseUser?"green":"grey",borderColor:null!==this.state.firebaseUser?"green":"grey",fontSize:"25px",cursor:null!==this.state.firebaseUser?"pointer":"not-allowed"},type:"Submit"},"Accept Order"))))))))}}]),a}(r.a.Component),ur=Object(v.e)(dr),mr="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BITLY_KEY),pr=new Ot.BitlyClient(mr,{}),hr=new O.a,gr=J.firebase.analytics();var fr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],vr=["January","February","March","April","May","June","July","August","September","October","November","December"];var br=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getDoc=function(){return J.db.collection("deliveries").where("contact","==",n.state.firebaseUser.phoneNumber.slice(3).toString()).get().then(function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.forEach((function(e){if(console.log(typeof e.data().time),"string"!==typeof e.data().time&&e.data().time){var t=e.data();t.id=e.id,a.push(t)}})),n.setState({deliveryData:a}),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},n.handleVerify=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=document.getElementById("phone-number").value,n=window.recaptchaVerifier,J.firebase.auth().signInWithPhoneNumber(a,n).then((function(e){window.confirmationResult=e})).catch((function(e){console.log("error, sms not sent")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleResubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n=t.target.value,pr.shorten(n).then((function(e){return e.link}));case 3:a=e.sent,window.location=a;case 5:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({submitted:!0}),hr.set("hawker_contact",n.state.hawker_contact,{path:"/"}),e.next=5,n.getDoc().then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(d.a)({},r,a))},n.state={id:xe.a.parse(n.props.location.search).id,submitted:!1,firebaseUser:null,hawker_contact:hr.get("hawker_contact")?hr.get("hawker_contact"):"",deliveryData:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){J.firebase.auth().useDeviceLanguage(),window.recaptchaVerifier=new J.firebase.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){}}),J.firebase.auth().onAuthStateChanged(function(e){var t,a;e&&(this.setState({firebaseUser:e,hawker_contact:e.phoneNumber.slice(3)}),t="hawker_dashboard",a=e.phoneNumber.slice(3),gr.logEvent(t,{name:a}))}.bind(this))}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=[];return null!==this.state.deliveryData&&(t=this.state.deliveryData.sort((function(e,t){return t.time-e.time})).map((function(t){var a=t.time.toDate(),n=fr[a.getDay()]+"  "+a.getDate()+" "+vr[a.getMonth()]+" "+function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}(a),l=new URLSearchParams;l.append("postal",t.postal),l.append("street",t.street),l.append("unit",t.unit),l.append("contact",t.contact),l.append("postal_to",t.postal_to),l.append("street_to",t.street_to),l.append("unit_to",t.unit_to),l.append("contact_to",t.contact_to),l.append("note",t.note);var o="https://foodleh.app/driver?"+l.toString();return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("div",null,!0===t.viewed?r.a.createElement("div",{style:{color:"green"}},r.a.createElement("b",null,"Driver Accepted!"),r.a.createElement("br",null)):r.a.createElement("div",{style:{color:"red"}},r.a.createElement("b",null,"No Driver Yet"),r.a.createElement("br",null)),!0===t.cancelled?r.a.createElement("div",{style:{color:"red"}},r.a.createElement("b",null,"You Cancelled")," ",!0===t.viewed?r.a.createElement("b",null,"(Please Inform Driver)"):null,r.a.createElement("br",null)):null,!0===t.expired?r.a.createElement("div",{style:{color:"red"}},r.a.createElement("b",null,"Request Expired"),r.a.createElement("br",null)):null),!0!==t.cancelled&&!0!==t.expired&&!1===t.viewed?r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.foodleh.app/delivery?cancel="+t.id},"Cancel this Delivery Request",r.a.createElement("br",null))):null,!0===t.cancelled||!0===t.expired?r.a.createElement("div",null,r.a.createElement("button",{onClick:e.handleResubmit.bind(e),value:o},"Resubmit this Delivery Request?"),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement("br",null),!0===t.viewed?r.a.createElement("div",null,r.a.createElement("b",null,"Driver contact: "),t.driver_contact,r.a.createElement("br",null)):null,r.a.createElement("b",null,"Customer address: "),t.street_to,r.a.createElement("br",null),r.a.createElement("b",null,"Note: "),t.note,r.a.createElement("br",null),r.a.createElement("b",null,"Delivery fee: "),"$",t.cost,r.a.createElement("br",null),""!==t.paynow_alternate?r.a.createElement("div",null,r.a.createElement("b",null,"Alternate PayNow number/UEN: "),t.paynow_alternate,r.a.createElement("br",null)):null,r.a.createElement("b",null,"Pickup Time: "),n,r.a.createElement("hr",{style:{color:"#b48300",backgroundColor:"#b48300",height:"1px",borderColor:"#b48300",width:"100%",alignItems:"center"}}))}))),r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{"padding-top":"70px","padding-bottom":"240px",height:"100%","background-color":"white"}},r.a.createElement("div",{class:"container-fluid col-md-10 content col-xs-offset-2"},r.a.createElement("div",{class:"d-flex row justify-content-center"},"Hawker Dashboard - Manage All Delivery Requests",r.a.createElement("div",{class:"card shadow row",style:{width:"100%",padding:"20px",margin:"20px"}},r.a.createElement("div",{style:{display:this.state.firebaseUser?"none":"block"}},r.a.createElement("div",null,r.a.createElement("p",null,"Verify Mobile Number"),r.a.createElement(cn.a,{uiConfig:J.uiConfig,firebaseAuth:J.firebase.auth()})),r.a.createElement("div",{id:"recaptcha-container"}),r.a.createElement("br",null)),r.a.createElement("br",null),this.state.firebaseUser?r.a.createElement("div",null,r.a.createElement("p",null,"Verified your phone number:"," ",this.state.firebaseUser.phoneNumber)):null,r.a.createElement(ne.a,{onClick:this.handleSubmit.bind(this),class:"shadow-lg",disabled:null===this.state.firebaseUser,style:{backgroundColor:null!==this.state.firebaseUser?"green":"grey",borderColor:null!==this.state.firebaseUser?"green":"grey",fontSize:"25px",cursor:null!==this.state.firebaseUser?"pointer":"not-allowed"}},"Click to See Your Delivery Requests"),r.a.createElement("br",null),r.a.createElement("div",null,t))))))}}]),a}(r.a.Component),Er=Object(v.e)(br),yr=new O.a,wr=J.firebase.analytics();var Ar=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xr=["January","February","March","April","May","June","July","August","September","October","November","December"];var kr=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getDoc=function(){return J.db.collection("deliveries").where("driver_contact","==",n.state.firebaseUser.phoneNumber.slice(3).toString()).get().then(function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.forEach((function(e){console.log(typeof e.data().time),"string"!==typeof e.data().time&&e.data().time&&a.push(e.data())})),n.setState({deliveryData:a}),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},n.handleVerify=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=document.getElementById("phone-number").value,n=window.recaptchaVerifier,J.firebase.auth().signInWithPhoneNumber(a,n).then((function(e){window.confirmationResult=e})).catch((function(e){console.log("error, sms not sent")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({submitted:!0}),yr.set("hawker_contact",n.state.hawker_contact,{path:"/"}),e.next=5,n.getDoc().then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(d.a)({},r,a))},n.state={id:xe.a.parse(n.props.location.search).id,submitted:!1,firebaseUser:null,hawker_contact:yr.get("hawker_contact")?yr.get("hawker_contact"):"",deliveryData:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){J.firebase.auth().useDeviceLanguage(),window.recaptchaVerifier=new J.firebase.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){}}),J.firebase.auth().onAuthStateChanged(function(e){var t,a;e&&(this.setState({firebaseUser:e,hawker_contact:e.phoneNumber.slice(3)}),t="hawker_dashboard",a=e.phoneNumber.slice(3),wr.logEvent(t,{name:a}))}.bind(this))}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=[];return null!==this.state.deliveryData&&(e=this.state.deliveryData.sort((function(e,t){return t.time-e.time})).map((function(e){var t=e.time.toDate(),a=Ar[t.getDay()]+"  "+t.getDate()+" "+xr[t.getMonth()]+" "+function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}(t);return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("br",null),r.a.createElement("b",null,"Delivery from: "),e.street,r.a.createElement("br",null),r.a.createElement("b",null,"Delivery to: "),e.street_to,r.a.createElement("br",null),r.a.createElement("b",null,"Hawker contact (Pickup): "),e.contact,r.a.createElement("br",null),r.a.createElement("b",null,"Customer contact (Dropoff): "),e.contact_to,r.a.createElement("br",null),r.a.createElement("b",null,"Pickup Time: "),a,r.a.createElement("br",null),r.a.createElement("b",null,"Note: "),e.note,r.a.createElement("br",null),r.a.createElement("b",null,"Distance: "),e.distance,r.a.createElement("br",null),r.a.createElement("b",null,"Est. Duration: "),e.duration,r.a.createElement("br",null),r.a.createElement("b",null,"Est. Arrival Time: "),e.arrival,r.a.createElement("br",null),r.a.createElement("b",null,"Delivery fee: "),"$",e.cost,r.a.createElement("hr",{style:{color:"#b48300",backgroundColor:"#b48300",height:"1px",borderColor:"#b48300",width:"100%",alignItems:"center"}}))}))),r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{"padding-top":"70px","padding-bottom":"240px",height:"100%","background-color":"white"}},r.a.createElement("div",{class:"container-fluid col-md-10 content col-xs-offset-2"},r.a.createElement("div",{class:"d-flex row justify-content-center"},"Driver Dashboard - Manage All Delivery Jobs",r.a.createElement("div",{class:"card shadow row",style:{width:"100%",padding:"20px",margin:"20px"}},r.a.createElement("div",{style:{display:this.state.firebaseUser?"none":"block"}},r.a.createElement("div",null,r.a.createElement("p",null,"Verify Mobile Number"),r.a.createElement(cn.a,{uiConfig:J.uiConfig,firebaseAuth:J.firebase.auth()})),r.a.createElement("div",{id:"recaptcha-container"}),r.a.createElement("br",null)),r.a.createElement("br",null),this.state.firebaseUser?r.a.createElement("div",null,r.a.createElement("p",null,"Verified your phone number:"," ",this.state.firebaseUser.phoneNumber)):null,r.a.createElement(ne.a,{onClick:this.handleSubmit.bind(this),class:"shadow-lg",disabled:null===this.state.firebaseUser,style:{backgroundColor:null!==this.state.firebaseUser?"green":"grey",borderColor:null!==this.state.firebaseUser?"green":"grey",fontSize:"25px",cursor:null!==this.state.firebaseUser?"pointer":"not-allowed"}},"Click to See Your Delivery Jobs"),r.a.createElement("div",null,e))))))}}]),a}(r.a.Component),Cr=Object(v.e)(kr),Dr=new O.a,Sr=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(d.a)({},r,a))},n.callPostal=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://developers.onemap.sg/commonapi/search?searchVal="+n.state.postal+"&returnGeom=Y&getAddrDetails=Y");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent.results[0]);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Dr.set("postal_search",n.state.postal,{path:"/"}),""!==n.props.option){e.next=5;break}return alert("Please choose either da bao or delivery thank you :)"),e.abrupt("return");case 5:return e.next=7,n.getPostal();case 7:if((a=e.sent)&&""!==a.ADDRESS){e.next=11;break}return alert("Please enter a valid postal code thank you :)"),e.abrupt("return");case 11:(r=new URLSearchParams).append("postal",n.state.postal),r.append("street",a.ADDRESS),r.append("lng",a.LONGITUDE),r.append("lat",a.LATITUDE),r.append("option",n.props.option),"dynamic"!==n.state.iv2||"short"!==n.state.iv3&&"long"!==n.state.iv3?"dynamic"===n.state.iv2&&"none"===n.state.iv3?n.props.history.push({pathname:"/searchall_iv2",search:r.toString()}):"static"!==n.state.iv2||"short"!==n.state.iv3&&"long"!==n.state.iv3?n.props.history.push({pathname:"/searchall",search:r.toString()}):(r.append("iv3",n.state.iv3),n.props.history.push({pathname:"/searchall_iv3",search:r.toString()})):(r.append("iv3",n.state.iv3),n.props.history.push({pathname:"/searchall_modified",search:r.toString()}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=new URLSearchParams(e.location.search);return n.state={postal:Dr.get("postal_search"),loading:!1,iv2:r.get("iv2"),iv3:r.get("iv3")},n}return Object(m.a)(a,[{key:"getPostal",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.callPostal();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,this.setState({loading:!1}),e.finish(5);case 8:case"end":return e.stop()}}),e,this,[[1,,5,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("div",{class:"col-xs-6 col-sm-8 col-md-8"},r.a.createElement("div",{class:"shadow-lg",style:{width:"100%"}},r.a.createElement("input",{onChange:this.handleChange,value:this.state.postal,type:"text",pattern:"[0-9]{6}",maxLength:6,minLength:6,class:"form-control",name:"postal",placeholder:"Enter Your Postal Code",autoComplete:"postal-code",autoFocus:!0,required:!0})))),r.a.createElement("div",{class:"row mt-4"},r.a.createElement("div",{class:"col"},r.a.createElement(fa.a,{type:"submit",variant:"contained",style:{backgroundColor:"#b48300",borderColor:"#b48300",width:"100px"},disabled:this.state.loading,color:"secondary"},r.a.createElement("span",{style:{color:"white"}},this.state.loading?"Searching...":"Search")))))}}]),a}(r.a.Component),Or=Object(v.e)(Sr),Tr=a(838),Pr=a(803),Nr=a(804),Ir=a(273),jr=a.n(Ir),Mr=a(802),_r=a(34),Lr="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BITLY_KEY),Br=new Ot.BitlyClient(Lr,{}),Rr=Z.a.analytics();function Fr(e,t){Rr.logEvent(e,{name:t})}var Ur=function(e){var t=e.data&&e.data.css&&e.data.css.menu_color?e.data.css.menu_color:"#b48300",a=e.data&&e.data.css?e.data.css.menu_font_color:"#ffffff";return r.a.createElement(X.a,{variant:"dark",style:{position:"fixed",width:"100vw",zIndex:"100",backgroundColor:t}},r.a.createElement(X.a.Brand,{as:f.b,to:"/",style:{color:a}},r.a.createElement("img",{alt:"",src:e.data.logo?e.data.logo:ee.a,width:"auto",height:"30",className:"d-inline-block align-top"})," ",r.a.createElement("div",{class:"d-none d-md-inline-block"},e.data.pageData.name)),r.a.createElement(X.a.Toggle,null),e.data.pageData.whatsapp?r.a.createElement(X.a.Brand,{style:{color:a}},r.a.createElement(Oo.PageCart,{toggleDialog:e.toggleDialog})):null)},zr=function(e){var t=Object(_r.a)(),a=Object(Mr.a)(t.breakpoints.down("sm")),n=r.a.useContext(U);return r.a.createElement("div",null,r.a.createElement(en.a,{fullScreen:a,open:n.channelDialog,onClose:n.toggleDialog,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(rn.a,{id:"responsive-dialog-title"},"Which dining method would you like?"),r.a.createElement(an.a,null,r.a.createElement(nn.a,null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"d-flex col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center"},r.a.createElement("img",{alt:"",src:w.a,style:{flexShrink:"0",minWidth:"5vw",maxWidth:"15vw",marginBottom:"20px"}})),r.a.createElement("div",{class:"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-end align-items-center"},r.a.createElement("img",{alt:"",class:"collect"===n.channel?"home-option-clicked":"home-option",onClick:function(){return n.changeChannel("collect")},src:I.a,style:{flexShrink:"0",minWidth:"100%"}})),r.a.createElement("div",{class:"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-start align-items-center"},r.a.createElement("img",{alt:"",onClick:function(){return n.changeChannel("delivery")},class:"delivery"===n.channel?"home-option-clicked":"home-option",src:P.a,style:{flexShrink:"0",minWidth:"100%"}}))),n.channel?r.a.createElement(Oo.PageConfirm,{toggle:"channel"}):null)),r.a.createElement(tn.a,null,r.a.createElement(fa.a,{onClick:n.toggleDialog,color:"primary",variant:"contained"},"Save"),r.a.createElement(fa.a,{onClick:n.toggleDialog,color:"primary"},"Cancel"))))};function Wr(e){var t=e.children,a=e.window,n=Object(kt.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(xt.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelectorAll("#back-to-top-anchor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",style:{position:"fixed",bottom:"50px",right:"30px"}},t))}var Yr=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getDoc=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection("pages").doc(n.props.pageName).get().then((function(e){return e.exists&&(n.setState(e.data()),console.log(n.state)),!0})).catch((function(e){window.location.reload(!0),console.log(e)}));case 2:return e.next=4,J.db.collection("hawkers").doc(n.state.docid).get().then((function(e){return e.exists&&n.setState({data:e.data(),retrieved:!0,orderData:new Array(e.data().menu_combined.length).fill(0)}),Fr("info_load",e.data().name),console.log("Fetched successfully!"),!0})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.updateCustomerDetails=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,"name"!==(r=t.target.name)){e.next=6;break}n.setState({name:a}),e.next=35;break;case 6:if("address"!==r){e.next=10;break}n.setState({address:a}),e.next=35;break;case 10:if("notes"!==r){e.next=14;break}n.setState({notes:a}),e.next=35;break;case 14:if("customerNumber"!==r){e.next=18;break}n.setState({customerNumber:a}),e.next=35;break;case 18:if("deliveryTime"!==r){e.next=22;break}n.setState({deliveryTime:a}),e.next=35;break;case 22:if("unit"!==r){e.next=26;break}n.setState({unit:a}),e.next=35;break;case 26:if("street"!==r){e.next=30;break}n.setState({street:a}),e.next=35;break;case 30:if("postal"!==r){e.next=35;break}if(n.setState({postal:a}),6!==a.length){e.next=35;break}return e.next=35,n.getPostal(a);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCustomerDetails=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateCustomerDetails(t).then((function(){n.updateSavedData(n.state.shouldRememberDetails)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getSocialSharing=function(){return r.a.createElement("div",null,"Share this with friends!",r.a.createElement("br",null),r.a.createElement(bt.a,{url:"www.foodleh.app/info?id="+n.state.id,quote:"Hungry? Try out "+n.context.pageData.name+" now!",hashtag:"#saveourFnB"},r.a.createElement(Et.a,{size:32,round:!0}))," ",r.a.createElement("span",{class:"",style:{marginRight:"5px"}},r.a.createElement("a",{href:"whatsapp://send?text="+encodeURIComponent("Hungry? Try out "+n.context.pageData.name+" now! Order form / more information at www.foodleh.app/info?id="+n.state.id)},r.a.createElement("img",{alt:"",src:nt.a,style:{width:"32px",cursor:"pointer"}}))),r.a.createElement(yt.a,{url:"www.foodleh.app/info?id="+n.state.id,title:"Hungry? Try out "+n.context.pageData.name+" now!"},r.a.createElement(z.a,{size:32,round:!0}))," ",r.a.createElement(wt.a,{url:"www.foodleh.app/info?id="+n.state.id,title:"Hungry? Try out "+n.context.pageData.name+" now!"},r.a.createElement(At.a,{size:32,round:!0}))," ")},n.callPostal=function(e){return fetch("https://developers.onemap.sg/commonapi/search?searchVal="+e+"&returnGeom=Y&getAddrDetails=Y").then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e.results)return e.results[0]}),(function(e){console.log(e)}))},n.setOrderText=Object(c.a)(s.a.mark((function e(){var t,a,r,l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=(t="")+"New order from "+n.state.name+"\n",a=0;a<n.context.pageData.menu_combined.length;a+=1)void 0!==n.context.pageData.menu_combined&&""!==n.context.pageData.menu_combined[a].name&&0!==n.state.orderData[a]&&(r=parseInt(n.state.orderData[a]),l=parseFloat(n.context.pageData.menu_combined[a].price?n.context.pageData.menu_combined[a].price:0),t=t+"*"+r+"x* _"+n.context.pageData.menu_combined[a].name+"_: $"+(r*l).toFixed(2)+"\n");return t=(t=(t=t+"\n\nTotal Price (not including delivery): *$"+n.state.totalPrice.toFixed(2)+"*")+"\nDelivery address: *"+n.state.street+" #"+n.state.unit+" "+n.state.postal+"*")+"\nDelivery Date/Time: *"+n.state.deliveryTime+"*",""!==n.state.notes&&(t=t+"\nAdditional notes: _"+n.state.notes+"_"),t=(t=t+"\nCustomer phone number: *"+n.state.customerNumber+"*")+"\nOrdering from: www.foodleh.app/info?id="+n.state.id,(o=new URLSearchParams).append("postal",n.context.pageData.postal),o.append("street",n.context.pageData.street),o.append("unit",n.context.pageData.unit),o.append("contact",n.context.pageData.contact),o.append("postal_to",n.state.postal),o.append("street_to",n.state.street),o.append("unit_to",n.state.unit),o.append("contact_to",n.state.customerNumber),e.next=20,s="https://foodleh.app/driver?"+o.toString(),Br.shorten(s).then((function(e){return e.link}));case 20:return i=e.sent,t=t+"\n For F&B Owner, request for a driver here: "+i,e.abrupt("return",encodeURIComponent(t));case 23:case"end":return e.stop()}var s}),e)}))),n.addItem=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("addItem"),a=t.target.name,n.setState({totalPrice:parseFloat(n.state.totalPrice)+parseFloat(n.context.pageData.menu_combined[a].price?n.context.pageData.menu_combined[a].price:0),orderData:tt()(n.state.orderData,Object(d.a)({},a,{$set:parseInt(n.state.orderData[a])+1}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.minusItem=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("minusItem"),a=t.target.name,n.setState({totalPrice:0===n.state.orderData[a]?n.state.totalPrice:parseFloat(n.state.totalPrice)-parseFloat(n.context.pageData.menu_combined[a].price?n.context.pageData.menu_combined[a].price:0),orderData:tt()(n.state.orderData,Object(d.a)({},a,{$set:0===n.state.orderData[a]?0:parseInt(n.state.orderData[a])-1}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getMenu=function(){if(n.context.pageData.menu_combined){var e=[];return n.context.pageData.menu_combined.forEach((function(t,a){!!t.name&&e.push(r.a.createElement(Oo.PageItem,{quantity:t.quantity,name:t.name,price:t.price,pic:t.pic,summary:t.description,css:n.context.css,index:a,addon:t.addon}))})),e}},n.renderFullscreenButton=function(e,t){return t?t?r.a.createElement("div",{style:{width:"15%",height:"15%",top:"10%",right:"10%",position:"absolute",opacity:"0.8"},onClick:e,value:"click"},r.a.createElement("svg",{class:"bi bi-x-circle-fill",width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"#b48300",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 110 8a8 8 0 0116 0zm-4.146-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708-.708L8.707 8l3.147-3.146z","clip-rule":"evenodd"}))):void 0:r.a.createElement("button",{type:"button",style:{width:"100%",height:"100%",backgroundColor:"black",position:"absolute",opacity:"0"},value:"click",className:"image-gallery-fullscreen-button".concat(t?" active":""),onClick:e})},n.showReviewEditMessage=function(){n.setState({hasReviewEditMessage:!0,hasReviewDeleteMessage:!1}),setTimeout((function(){n.setState({hasReviewEditMessage:!1})}),1e4)},n.showReviewDeleteMessage=function(){n.setState({hasReviewDeleteMessage:!0,hasReviewEditMessage:!1}),setTimeout((function(){n.setState({hasReviewDeleteMessage:!1})}),1e4)},n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("submit"),e.next=4,n.setOrderText();case 4:a=e.sent,r="https://wa.me/65"+n.context.pageData.contact+"?text="+a,window.location=r;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:{},orderData:[],totalPrice:0,wantToOrder:!1,name:"",unit:"",street:"",postal:"",notes:"",customerNumber:"",deliveryTime:"",id:"",galleryOpened:!1,retrieved:!0,activePhoto:1,hasReviewEditMessage:!1,hasReviewDeleteMessage:!1,shouldRememberDetails:!1,channelDialog:!1,css:{menu_color:"",menu_font_color:""}},n.enterDetails=n.enterDetails.bind(Object(p.a)(n)),n.handleCustomerDetails=n.handleCustomerDetails.bind(Object(p.a)(n)),n.updateCustomerDetails=n.updateCustomerDetails.bind(Object(p.a)(n)),n.setOrderText=n.setOrderText.bind(Object(p.a)(n)),n.formatSummary=n.formatSummary.bind(Object(p.a)(n)),n.toggleShouldRememberDetails=n.toggleShouldRememberDetails.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){if(console.log("run"),this.setState({data:this.context.data}),localStorage.getItem("userDetails")){var e=JSON.parse(localStorage.getItem("userDetails"));this.setState(e),this.setState({shouldRememberDetails:!0})}}},{key:"updateSavedData",value:function(e){if(e){var t={name:this.state.name,customerNumber:this.state.customerNumber,postal:this.state.postal,unit:this.state.unit,street:this.state.street};localStorage.setItem("userDetails",JSON.stringify(t))}else localStorage.clear()}},{key:"toggleShouldRememberDetails",value:function(e){var t=e.target.checked;this.setState({shouldRememberDetails:t}),this.updateSavedData(t)}},{key:"getPostal",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callPostal(t);case 2:void 0!==(a=e.sent)&&this.setState({street:a.ADDRESS});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formatSummary",value:function(){var e="";e=e+"New order from "+this.state.name+"\n";for(var t=0;t<this.context.pageData.menu_combined.length;t+=1)if(void 0!==this.context.pageData.menu_combined&&""!==this.context.pageData.menu_combined[t].name&&0!==this.state.orderData[t]){var a=parseInt(this.state.orderData[t]),n=parseFloat(this.context.pageData.menu_combined[t].price?this.context.pageData.menu_combined[t].price:0);e=e+"*"+a+"x* _"+this.context.pageData.menu_combined[t].name+"_: $"+(a*n).toFixed(2)+"\n"}return e}},{key:"enterDetails",value:function(){console.log("enterDetails"),Fr("view_menu",this.context.pageData.name),this.state.wantToOrder?this.setState({wantToOrder:!1}):this.setState({wantToOrder:!0})}},{key:"render",value:function(){var e=[],t=[],a=[];return this.state.retrieved&&(this.context.pageData.categories&&this.context.pageData.categories.forEach((function(t){e.push(r.a.createElement("span",{class:"badge badge-info"},t))})),this.context.pageData.tagsValue&&this.context.pageData.tagsValue.forEach((function(t){e.push(r.a.createElement("span",{class:"badge badge-secondary"},t))})),this.context.pageData.regions&&this.context.pageData.regions.forEach((function(e){t.push(r.a.createElement("span",{class:"badge badge-warning"},e))})),this.context.pageData.url&&a.push({original:this.context.pageData.url,thumbnail:this.context.pageData.url}),this.context.pageData.image1&&a.push({original:this.context.pageData.url,thumbnail:this.context.pageData.url}),this.context.pageData.image2&&a.push({original:this.context.pageData.image2,thumbnail:this.context.pageData.image2}),this.context.pageData.image3&&a.push({original:this.context.pageData.image3,thumbnail:this.context.pageData.image3}),this.context.pageData.image4&&a.push({original:this.context.pageData.image4,thumbnail:this.context.pageData.image4}),this.context.pageData.image5&&a.push({original:this.context.pageData.image5,thumbnail:this.context.pageData.image5}),0===a.length&&a.push({original:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a",thumbnail:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a"})),r.a.createElement("div",null,r.a.createElement(Ur,{data:this.context,toggleDialog:this.context.toggleDialog}),r.a.createElement("div",{class:"container-fluid",style:{paddingTop:"56px",width:"100%",paddingLeft:"0px",paddingRight:"0px",margin:"0px 0px",marginBottom:"50px"}},r.a.createElement("div",null,this.context.cover?r.a.createElement("div",{class:"container-fluid row align-items-center justify-content-center no-gutters",style:{background:"linear-gradient(rgba(0,0,0,0.5), rgba(255,255,255,0.3)), url("+this.context.cover+") no-repeat center center",backgroundSize:"cover",minHeight:"300px",width:"100vw",alignItems:"center",textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("div",{style:{color:"white",fontSize:"50px",fontWeight:"bold"},class:"d-none d-md-inline-block",id:"back-to-top-anchor"},this.context.pageData.name),r.a.createElement("div",{style:{color:"white",fontSize:"30px",fontWeight:"bold"},class:"d-inline-block d-md-none",id:"back-to-top-anchor"},this.context.pageData.name),r.a.createElement("div",{style:{color:"white",fontSize:"15px"},id:"back-to-top-anchor"},this.context.pageData.description),r.a.createElement("br",null),t.length>0?r.a.createElement("span",{style:{margin:"5px"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-truck"},r.a.createElement("rect",{x:"1",y:"3",width:"15",height:"13"}),r.a.createElement("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),r.a.createElement("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),r.a.createElement("circle",{cx:"18.5",cy:"18.5",r:"2.5"}))," ",t):null,e.length>0?r.a.createElement("span",{style:{margin:"5px"}},r.a.createElement("svg",{class:"bi bi-tag-fill",width:"0.88em",height:"1em",viewBox:"0 0 16 16",fill:"none",stroke:"white",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M2 1a1 1 0 00-1 1v4.586a1 1 0 00.293.707l7 7a1 1 0 001.414 0l4.586-4.586a1 1 0 000-1.414l-7-7A1 1 0 006.586 1H2zm4 3.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z","clip-rule":"evenodd"}))," ",e):null,this.context.pageData.pickup_option||this.context.pageData.delivery_option?r.a.createElement("span",{style:{margin:"5px"}},r.a.createElement("svg",{class:"bi bi-bag",width:"14",height:"14",viewBox:"0 0 16 16",fill:"currentColor",stroke:"white",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M14 5H2v9a1 1 0 001 1h10a1 1 0 001-1V5zM1 4v10a2 2 0 002 2h10a2 2 0 002-2V4H1z","clip-rule":"evenodd"}),r.a.createElement("path",{d:"M8 1.5A2.5 2.5 0 005.5 4h-1a3.5 3.5 0 117 0h-1A2.5 2.5 0 008 1.5z"}))," ",this.context.pageData.pickup_option?r.a.createElement("span",{class:"badge badge-success"},"Da Bao"):null,this.context.pageData.delivery_option?r.a.createElement("span",{class:"badge badge-success"},"Delivery"):null," ",r.a.createElement("br",null)):null)):r.a.createElement("div",{style:{height:"300px"}}),r.a.createElement("div",{className:"justify-content-center",style:{margin:"0px 5%"}},r.a.createElement(zr,{channelDialog:this.state.channelDialog,closeChannelDialog:this.closeChannelDialog}),r.a.createElement("div",{className:"row justify-content-center align-items-center mt-4"},r.a.createElement(Tr.a,{style:{width:"100%"}},r.a.createElement(Pr.a,{expandIcon:r.a.createElement(jr.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{backgroundColor:"#FFFAFA"}},r.a.createElement(Fn.a,{style:{flexBasis:"33.33%",flexShrink:0,color:"black"}},"About"),r.a.createElement(Fn.a,{style:{flexBasis:"66.66%",flexShrink:0,color:"grey",textAlign:"right"}},"See More")),r.a.createElement(Nr.a,null,r.a.createElement(Fn.a,null,this.context.pageData.description_detail))),r.a.createElement(Tr.a,{style:{width:"100%"}},r.a.createElement(Pr.a,{expandIcon:r.a.createElement(jr.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{backgroundColor:"#FFFAFA"}},r.a.createElement(Fn.a,{style:{flexBasis:"33.33%",flexShrink:0,color:"black"}},"Delivery"),r.a.createElement(Fn.a,{style:{flexBasis:"66.66%",flexShrink:0,color:"grey",textAlign:"right"}},"See More")),r.a.createElement(Nr.a,null,r.a.createElement(Fn.a,null,this.context.pageData.delivery_detail)))),r.a.createElement("div",{className:"row justify-content-center align-items-center mt-4"},this.getMenu()))),r.a.createElement(Wr,null,r.a.createElement(Ct.a,{color:"primary",size:"small","aria-label":"scroll back to top"},r.a.createElement(St.a,null)))))}}]),a}(r.a.Component);Yr.contextType=U;var Gr=Object(v.e)(Yr),Qr=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getDoc=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection("pages").doc(n.props.pageName).get().then((function(e){return e.exists&&(n.setState(Object(Le.a)({},e.data(),{retrieved:!0})),console.log(n.state)),!0})).catch((function(e){window.location.reload(!0),console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.state={data:[],orderData:[],totalPrice:0,wantToOrder:!1,name:"",unit:"",street:"",postal:"",notes:"",customerNumber:"",deliveryTime:"",id:"",galleryOpened:!1,retrieved:!1,activePhoto:1,hasReviewEditMessage:!1,hasReviewDeleteMessage:!1,shouldRememberDetails:!1,css:{menu_color:"",menu_font_color:""}},n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){this.getDoc()}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.retrieved?r.a.createElement("div",null,function(e){var t=e&&e.css?e.css.menu_color:null,a=e&&e.css?e.css.menu_font_color:null;return r.a.createElement(X.a,{variant:"dark",style:{position:"fixed",width:"100%",zIndex:"9999",backgroundColor:t}},r.a.createElement(X.a.Brand,{as:f.b,to:"/",style:{color:"white"}},r.a.createElement("img",{alt:"",src:ee.a,width:"20",height:"30",className:"d-inline-block align-top"})," ",r.a.createElement("div",{class:"d-none d-md-inline-block"},e.name)),r.a.createElement(X.a.Toggle,null),r.a.createElement(X.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(F.Consumer,null,(function(e){var t=e.data,a=(e.language,e.toggleLanguage);return r.a.createElement(ne.a,{class:"shadow-sm",style:{backgroundColor:"#B48300",borderColor:"#B48300",fontSize:"10px",width:"50px"},onClick:a,name:"Language"},t.menu.language_button)})),r.a.createElement("div",{class:"d-none d-md-inline-block"},r.a.createElement(K.a.Link,{href:"#",as:f.b,to:"/",id:"menu-link",style:{color:a}},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.homelabel})))),r.a.createElement(K.a.Link,{href:"#searchall",as:f.b,to:"/searchall",id:"menu-link",style:{color:a}},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.searchlabel}))),r.a.createElement(K.a.Link,{href:"#create",as:f.b,to:"/create",id:"menu-link",style:{color:a}},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.createlabel}))),r.a.createElement(K.a.Link,{href:"#about",as:f.b,to:"/about",id:"menu-link",style:{color:a}},r.a.createElement(F.Consumer,null,(function(e){return e.data.menu.aboutlabel})))))}(this.state),r.a.createElement(Ut,{className:"",hero:!0,id:this.state.docid})):r.a.createElement("div",{class:"row h-100 page-container"},r.a.createElement("div",{class:"col-sm-12 my-auto"},r.a.createElement("h3",null,"Loading"),r.a.createElement(ke.a,{class:"",animation:"grow"}))))}}]),a}(r.a.Component),Vr=Object(v.e)(Qr),Jr=a(125),Zr=a(832),Hr=a(806),qr=function(e){var t=Object(_r.a)(),a=Object(Mr.a)(t.breakpoints.down("sm")),n=r.a.useContext(U),l=function(e){var t=e.currentTarget.name.substring(e.currentTarget.name.indexOf("-")+1);console.log(t,o[t].checked),o[t].checked=!o[t].checked},o=[],i=[];return e.addon&&e.addon.forEach((function(t,a){o.push({index:a}),i.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Hr.a,{control:r.a.createElement(Zr.a,{checked:o[a].checked,onChange:l,name:"addon-"+a,color:e.menu_color}),color:e.menu_font_color,label:t.name+" ($"+t.price+")"}))))})),r.a.createElement("div",null,r.a.createElement(en.a,{fullScreen:a,open:e.dialog,onClose:e.toggleDialog,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(rn.a,{id:"responsive-dialog-title"},"Would you like the following add ons?"),r.a.createElement(an.a,null,r.a.createElement(nn.a,null,i)),r.a.createElement(tn.a,null,r.a.createElement(fa.a,{onClick:function(){n.addProduct(e.menuIndex,o),e.toggleDialog()},variant:"contained",style:{backgroundColor:e.menu_color,color:e.menu_font_color}},"Add To Cart"),r.a.createElement(fa.a,{onClick:e.toggleDialog,color:"primary"},"Cancel"))))},Xr=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.context.pageData.menu_combined[n.props.index].addon&&n.context.pageData.menu_combined[n.props.index].addon.length>0?n.toggleDialog():(n.props.enqueueSnackbar("Added "+t.target.getAttribute("name")+" to Cart!",{variant:"success"}),n.context.addProduct(n.props.index));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toggleDialog=function(){n.setState({dialog:!n.state.dialog})},n.thumbnail=function(){return"https://images.weserv.nl/?w=400&url=".concat(encodeURIComponent(n.props.pic))},n.state={dialog:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props&&this.props.css&&this.props.css.menu_color?this.props.css.menu_color:"#b48300",t=this.props&&this.props.css?this.props.css.menu_font_color:"#ffffff";return r.a.createElement(r.a.Fragment,null,r.a.createElement(qr,{dialog:this.state.dialog,toggleDialog:this.toggleDialog,addon:this.props.addon,menu_color:e,menu_font_color:t,menuIndex:this.props.index}),r.a.createElement("div",{class:"page-card"},r.a.createElement("div",{class:"card shadow",style:{paddingLeft:"0px !important",paddingRight:"0px !important"}},r.a.createElement("div",{class:"row no-gutters justify-content-center",style:{paddingLeft:"0px !important",paddingRight:"0px !important",marginLeft:"0px !important",marginRight:"0px !important"}},this.props.pic?r.a.createElement("div",{class:"col-4 col-xs-3 col-sm-3 col-md-3 col-lg-4 fill"},r.a.createElement(Ce.LazyLoadImage,{src:this.props.pic?this.thumbnail():null,placeholderSrc:null,class:"card-img-left",alt:""})):null,r.a.createElement("div",{class:"col-8 col-xs-9 col-sm-9 col-md-9 col-lg-8 card-text",style:{padding:"10px",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{class:"card-block"},r.a.createElement("h4",{class:"card-page-title align-items-center",style:{alignItems:"center",justifyContent:"center"}},r.a.createElement("span",null,r.a.createElement("span",{style:{color:e}},this.props.quantity?this.props.quantity+" x ":null),this.props.name)),this.props.summary?r.a.createElement("h6",{class:"card-page-subtitle mb-2 text-muted small d-flex justify-content-center",style:{marginBottom:"0px"}},this.props.summary):null,r.a.createElement("p",{class:"card-text item-title d-flex align-items-center justify-content-center",style:{marginBottom:"5px",fontSize:"20px"}},"$",this.props.price),this.context.pageData.whatsapp?r.a.createElement("div",{class:"btn btn-primary",style:{backgroundColor:e,borderColor:e,color:t,fontSize:"12px"},name:this.props.name,onClick:this.handleClick},"Add To Cart"):null))))))}}]),a}(r.a.Component);Xr.contextType=U;var Kr=Object(Jr.c)(Xr),$r=function(e){return r.a.createElement("div",{className:e.classes},r.a.createElement("img",{src:e.src?e.src:Se.a,alt:e.alt,title:e.title}))},el=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleMouseOver=function(){n.setState({isMouseOver:!0})},n.handleMouseOut=function(){n.setState({isMouseOver:!1})},n.handleOnIncrease=function(e){n.context.addProduct(e)},n.handleOnDecrease=function(e,t){n.context.removeProduct(e,t)},n.state={isMouseOver:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=["shelf-item"],a=this.context.pageData.menu_combined;this.state.isMouseOver&&t.push("shelf-item--mouseover");var n=[],l=0;return this.props.product.addons&&this.props.product.addons.forEach((function(t,o){l+=Number(a[e.props.product.index].addon[t].price),n.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"desc"},a[e.props.product.index].addon[t].name," (+$",a[e.props.product.index].addon[t].price,")")))})),r.a.createElement("div",{className:t.join(" ")},r.a.createElement($r,{classes:"shelf-item__thumb",src:this.props.img,alt:this.props.product.title}),r.a.createElement("div",{className:"shelf-item__details"},r.a.createElement("p",{className:"title"},a[this.props.product.index].name),n,r.a.createElement("p",{className:"desc"},"Quantity: ",this.props.product.quantity)),r.a.createElement("div",{className:"shelf-item__price"},"$",((Number(a[this.props.product.index].price)+l)*Number(this.props.product.quantity)).toFixed(2),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.handleOnDecrease(e.props.product.index,e.props.cartIndex)},className:"change-product-button"},"-"),r.a.createElement("button",{onClick:function(){return e.handleOnIncrease(e.props.product.index)},className:"change-product-button"},"+"))))}}]),a}(n.Component);el.contextType=U;var tl=el,al=(a(312),r.a.forwardRef((function(e,t){return r.a.createElement(Un.a,Object.assign({direction:"up",ref:t},e))}))),nl=function(e){var t=Object(_r.a)(),a=Object(Mr.a)(t.breakpoints.down("sm")),n=r.a.useContext(U);return r.a.createElement("div",null,r.a.createElement(en.a,{fullScreen:a,open:e.promoDialog,onClose:e.closeFloatPromo,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(rn.a,{id:"responsive-dialog-title"},"Enter Your Promo Code"),r.a.createElement(an.a,null,r.a.createElement(nn.a,null,r.a.createElement(ln.a,{label:"Enter Promo Code",type:"text",value:n.promo_code_input,style:{width:"100%"},onChange:n.changePromocode})),n.promo_code_valid?r.a.createElement("p",{style:{color:"green"}},"Promo Code Successfully Applied"):r.a.createElement("p",{style:{color:"red"}},"Please Enter A Valid Code")),r.a.createElement(tn.a,null,r.a.createElement(fa.a,{onClick:e.closeFloatPromo,color:"primary",variant:"contained"},"Done"))))},rl=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,promoDialog:!1},e.openFloatCart=function(){e.context.channel||e.context.toggleDialog(),e.setState({isOpen:!0})},e.closeFloatCart=function(){e.setState({isOpen:!1})},e.openFloatPromo=function(){e.setState({promoDialog:!0})},e.closeFloatPromo=function(){e.setState({promoDialog:!1})},e.changeProductQuantity=function(t){var a=e.props,n=a.cartProducts,r=a.updateCart,l=n.find((function(e){return e.id===t.id}));l.quantity=t.quantity,l.quantity<=0&&e.removeProduct(l),r(n)},e.handleClickOpen=function(){e.context.channel?e.setState({open:!0}):e.context.toggleDialog()},e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.cartTotal,n=t.cartProducts,l=t.pageData,o=this.context&&this.context.css&&this.context.css.menu_color?this.context.css.menu_color:"#b48300",i=n.map((function(e,t){return e.quantity>0?r.a.createElement(tl,{cartIndex:t,product:e,img:l.menu_combined[e.index].pic}):r.a.createElement("div",null)})),s=["float-cart"];this.state.isOpen&&s.push("float-cart--open");var c=(a.totalPrice<=this.context.pageData.free_delivery||"0"===this.context.pageData.free_delivery)&&this.context.delivery_fee?Number(this.context.delivery_fee):0,d=0;return this.context.promo_code?this.context.promo_code_valid&&(d=this.context.all_promo?Number(this.context.all_promo)/100*Number(a.totalPrice):0):d=this.context.all_promo?Number(this.context.all_promo)/100*Number(a.totalPrice):0,"collect"===this.context.channel&&(d+=Number(this.context.selfcollect_promo)/100*Number(a.totalPrice)),d=d.toFixed(2),r.a.createElement("span",{className:s.join(" ")},this.state.isOpen&&r.a.createElement("div",{onClick:function(){return e.closeFloatCart()},className:"float-cart__close-btn"},"X"),!this.state.isOpen&&r.a.createElement("span",{onClick:function(){return e.openFloatCart()},className:"bag bag--float-cart-closed"},r.a.createElement("span",{className:"bag__quantity"},this.context.cartTotal.productQuantity)),!this.state.isOpen&&r.a.createElement("div",{class:"d-flex align-items-center justify-content-center",style:{position:"fixed",bottom:"0px",width:"100%",backgroundColor:o,right:"0px",height:"45px",cursor:"pointer"},onClick:function(){return e.openFloatCart()}},r.a.createElement("span",{style:{width:"40px",height:"40px",position:"relative",display:"inline-block",verticalAlign:"middle",marginRight:"15px"}},"View Cart",r.a.createElement("span",{className:"bag__quantity",style:{right:"-80px",bottom:"15px"}},this.context.cartTotal.productQuantity))),r.a.createElement("div",{className:"float-cart__content"},r.a.createElement("div",{className:"float-cart__header"},r.a.createElement("span",{className:"bag"},r.a.createElement("span",{className:"bag__quantity"},this.context.cartTotal.productQuantity)),r.a.createElement("span",{className:"header-title"},"Cart")),r.a.createElement("div",{className:"float-cart__shelf-container"},r.a.createElement(Oo.PageCartChannel,null),i,!i.length&&r.a.createElement("p",{className:"shelf-empty"},"Add some products in the cart ",r.a.createElement("br",null),":)")),r.a.createElement("div",{className:"float-cart__footer"},r.a.createElement(Je,{context:this.context,deliveryFee:c,discount:d}),this.context.promo_code?r.a.createElement(fa.a,{onClick:this.openFloatPromo,color:"inherit",variant:"contained",style:{color:"black"}},"Enter Promo Code"):null,r.a.createElement("div",null,r.a.createElement("div",{onClick:this.handleClickOpen,className:"buy-btn"},this.context.channel?r.a.createElement("span",null,"Order via WhatsApp"):r.a.createElement("span",null,"Choose Delivery/Pick-up"))),r.a.createElement(en.a,{fullScreen:!0,open:this.state.open,onClose:this.handleClose,TransitionComponent:al},r.a.createElement(Oo.PageConfirm,{handleClose:this.handleClose,toggle:"cart"})),r.a.createElement(nl,{promoDialog:this.state.promoDialog,openFloatPromo:this.openFloatPromo,closeFloatPromo:this.closeFloatPromo}))))}}]),a}(r.a.Component);rl.contextType=U;var ll=rl,ol=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],il=["January","February","March","April","May","June","July","August","September","October","November","December"];var sl=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleMouseOver=function(){n.setState({isMouseOver:!0})},n.handleMouseOut=function(){n.setState({isMouseOver:!1})},n.handleOnIncrease=function(e){n.context.addProduct(e)},n.handleOnDecrease=function(e){n.context.removeProduct(e)},n.state={isMouseOver:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:["shelf-channel"].join(" ")},r.a.createElement("div",{className:"shelf-item__details"},"delivery"===this.context.channel&&r.a.createElement("span",null,r.a.createElement("img",{src:pa.a,style:{flexShrink:"0",maxWidth:"10%",marginRight:"10px"},alt:"delivery"}),r.a.createElement("b",null,"Delivery")),"collect"===this.context.channel&&r.a.createElement("span",null,r.a.createElement("img",{src:ga.a,style:{flexShrink:"0",maxWidth:"10%",marginRight:"10px"},alt:"delivery"}),r.a.createElement("b",null,"Self-Collect")),this.context.customerDetails.datetime?r.a.createElement("div",null,r.a.createElement("small",null,ol[this.context.customerDetails.datetime.getDay()]+" "+this.context.customerDetails.datetime.getDate()+" "+il[this.context.customerDetails.datetime.getMonth()]+" "+function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}(this.context.customerDetails.datetime))):null,r.a.createElement(fa.a,{size:"small",variant:"contained",onClick:function(){return e.context.toggleDialog()}},"Change Option")))}}]),a}(n.Component);sl.contextType=U;var cl=sl,dl=a(276),ul=a(818),ml=a(817),pl=a(819),hl=a(833),gl=a(373),fl=a.n(gl),vl=a(805),bl=a(227),El=a.n(bl),yl=a(374),wl=a.n(yl),Al=a(226),xl=a.n(Al),kl=a(371),Cl=a.n(kl),Dl=a(807),Sl=a(810),Ol=a(809),Tl=a(808),Pl=a(274),Nl=a.n(Pl),Il=a(831),jl=a(839),Ml=a(794),_l=a(795),Ll=a(814),Bl=a(816),Rl=a(812),Fl=a(813),Ul=a(815),zl=a(811),Wl=a(173),Yl=Z.a.analytics();var Gl=Object(vl.a)((function(e){return{root:{display:"flex",backgroundColor:"rgba(0, 0, 0, 0.04)"},drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),saveButton:{marginLeft:"auto",backgroundColor:"green"},toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},cardMedia:{height:100,objectFit:"scale-down"}}})),Ql=function(e){var t,a=[];return e.addon&&e.addon.forEach((function(t,n){a.push(r.a.createElement(r.a.Fragment,null,r.a.createElement(ln.a,{label:"Addon #"+(n+1)+" Name",id:"addonname+"+n+"-"+e.index,type:"text",value:t.name,style:{width:"170px"},onChange:e.changeField}),r.a.createElement(ln.a,{label:"Addon #"+(n+1)+" Price",id:"addonprice+"+n+"-"+e.index,InputProps:{startAdornment:r.a.createElement(on.a,{position:"start"},"$")},type:"number",value:t.price,style:{width:"170px"},onChange:e.changeField})))})),r.a.createElement("div",{class:"page-card"},r.a.createElement("div",{class:"card shadow",style:{paddingLeft:"0px !important",paddingRight:"0px !important"}},r.a.createElement("div",{class:"row no-gutters justify-content-center align-items-center",style:{paddingLeft:"0px !important",paddingRight:"0px !important",marginLeft:"0px !important",marginRight:"0px !important"}},e.pic?r.a.createElement(r.a.Fragment,null,"loading"===e.pic?r.a.createElement("div",{class:"col-4 col-xs-3 col-sm-3 col-md-3 col-lg-4 fill"},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("div",{class:"col-4 col-xs-3 col-sm-3 col-md-3 col-lg-4 fill",style:{height:"180px"}},r.a.createElement(Ce.LazyLoadImage,{src:(t=e.pic,"https://images.weserv.nl/?w=400&url=".concat(encodeURIComponent(t))),placeholderSrc:null,class:"card-img-left",alt:""}))):null,r.a.createElement("div",{class:"col-8 col-xs-9 col-sm-9 col-md-9 col-lg-8 card-text",style:{padding:"10px",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{class:"card-block"},r.a.createElement("p",{class:"card-page-title align-items-center",style:{marginBottom:"0px"}},r.a.createElement("span",null,r.a.createElement(ln.a,{required:!0,label:"Name",id:"name-"+e.index,value:e.name,type:"text",style:{width:"170px"},onChange:e.changeField}))),r.a.createElement("p",{class:"card-page-title align-items-center",style:{marginBottom:"0px"}},r.a.createElement(ln.a,{id:"description-"+e.index,label:"Subtitle",value:e.description,type:"text",style:{width:"170px"},onChange:e.changeField})),r.a.createElement("p",{class:"card-page-title align-items-center",style:{marginBottom:"0px"}},r.a.createElement(ln.a,{label:"Price",id:"price-"+e.index,InputProps:{startAdornment:r.a.createElement(on.a,{position:"start"},"$")},type:"number",value:e.price,style:{width:"170px"},onChange:e.changeField})),r.a.createElement("p",null,r.a.createElement(Dl.a,{style:{width:"100%",backgroundColor:"#f5f5f5",alignContent:"center"}},r.a.createElement(Tl.a,null,r.a.createElement("div",null,"Add Ons (e.g. extra chilli):"),a,r.a.createElement(fa.a,{variant:"contained",component:"label",color:"default",startIcon:r.a.createElement(xl.a,null),style:{marginBottom:"5px",width:"170px"},id:"addon-"+e.index,onClick:e.addAddon},"Add One More"),r.a.createElement(fa.a,{variant:"contained",component:"label",color:"default",startIcon:r.a.createElement(xl.a,null),style:{backgroundColor:"red",color:"white",marginBottom:"5px",width:"170px"},id:"addon-"+e.index,onClick:e.deleteAddon},"Delete One"))))),r.a.createElement(fa.a,{variant:"contained",component:"label",color:"default",startIcon:r.a.createElement(El.a,null),style:{marginBottom:"5px",width:"170px"}},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"image-"+e.index,style:{display:"none"},onChange:e.changeField}),e.pic?r.a.createElement("span",null,"Replace Image"):r.a.createElement("span",null,"Upload Image")),r.a.createElement(fa.a,{variant:"contained",component:"label",startIcon:r.a.createElement(Cl.a,null),style:{backgroundColor:"red",color:"white",width:"170px"},id:"delete-"+e.index,onClick:e.changeField},"Delete Item")))))},Vl=r.a.memo(Ql,(function(e,t){return e.name===t.name&&e.description===t.description&&e.price===t.price&&e.pic===t.pic&&e.addon===t.addon})),Jl=function(e){var t=Gl(),a=Object(n.useRef)(null),l=Object(Jr.b)().enqueueSnackbar,o=r.a.useCallback((function(t){e.changeField(t),"delete"===t.currentTarget.id.substring(0,t.currentTarget.id.indexOf("-"))&&l("Deleted menu item!",{variant:"warning"})}),[l,e]),i=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addMenuItem();case 2:l("Added new menu item!",{variant:"success"}),a.current.scrollIntoView({behavior:"smooth"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row justify-content-center align-items-center mt-4"},r.a.createElement(Ge.a,{container:!0,direction:"column"},r.a.createElement(Ge.a,{sm:12},r.a.createElement(fa.a,{variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(xl.a,null),onClick:function(){return i(e)}},"Add New Menu Item")),r.a.createElement(Ge.a,{container:!0,sm:12},e.data.menu_combined?e.data.menu_combined.map((function(t,a){return r.a.createElement(Vl,{name:t.name,price:t.price,pic:t.pic,addon:t.addon,description:t.description,addAddon:e.addAddon,deleteAddon:e.deleteAddon,key:a,index:a,changeField:o})})):null),r.a.createElement(Ge.a,{container:!0,sm:12},r.a.createElement("div",{ref:a}))))},Zl=function(e){var t=Gl();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{container:!0,direction:"row",alignContent:"center",justify:"start",spacing:2},r.a.createElement(Ge.a,{item:!0,xs:12,sm:12},"loading"===e.cover?r.a.createElement("div",{class:"container-fluid row align-items-center justify-content-center no-gutters",style:{height:"200px"}},r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement("div",{class:"container-fluid row align-items-center justify-content-start no-gutters",style:{background:"linear-gradient(rgba(0,0,0,0.5), rgba(255,255,255,0.3)), url("+e.cover+") no-repeat center center",backgroundSize:"cover",minHeight:"200px",width:"100%",alignItems:"center",textAlign:"center"}},r.a.createElement(fa.a,{variant:"contained",component:"label",color:"default",startIcon:r.a.createElement(El.a,null),style:{marginBottom:"5px",width:"200px"}},r.a.createElement("input",{type:"file",id:"cover",style:{display:"none"},onChange:e.changeInfo}),e.cover?r.a.createElement("span",null,"Replace Cover Image"):r.a.createElement("span",null,"Upload Cover Image")))),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(Dl.a,{style:{width:"100%",height:"250px",alignContent:"center"}},r.a.createElement(Ol.a,{title:"Logo"}),e.logo?r.a.createElement(r.a.Fragment,null,"loading"===e.logo?r.a.createElement("div",{class:"spinner-border",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading...")):r.a.createElement(Sl.a,{component:"img",className:t.cardMedia,image:e.logo,title:"logo"})):null,r.a.createElement(Tl.a,null,r.a.createElement(fa.a,{variant:"contained",component:"label",color:"default",startIcon:r.a.createElement(El.a,null),style:{marginBottom:"5px",width:"170px"}},r.a.createElement("input",{type:"file",id:"logo",style:{display:"none"},onChange:e.changeInfo}),e.logo?r.a.createElement("span",null,"Replace Logo"):r.a.createElement("span",null,"Upload Logo"))))),r.a.createElement(Ge.a,{item:!0,xs:12,sm:3},r.a.createElement(Nl.a,{id:"menu_color",label:"Theme Color",TextFieldProps:{value:e.css.menu_color},value:e.css.menu_color,defaultValue:e.css.menu_color,onChange:function(t){return e.changeColor(t,"menu_color")}})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:3},r.a.createElement(Nl.a,{id:"menu_font_color",label:"Font Color",TextFieldProps:{value:e.css.menu_font_color},value:e.css.menu_font_color,defaultValue:e.css.menu_font_color,onChange:function(t){return e.changeColor(t,"menu_font_color")}})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"name",label:"Name",multiline:!0,style:{width:"100%"},value:e.data.name,onChange:e.changeInfo})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"description",label:"Brief Description",multiline:!0,rows:4,style:{width:"100%"},value:e.data.description,onChange:e.changeInfo})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"description_detail",label:"Detailed Description",multiline:!0,rows:4,style:{width:"100%"},value:e.data.description_detail,onChange:e.changeInfo})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"delivery_detail",label:"Delivery Detail",multiline:!0,rows:4,style:{width:"100%"},value:e.data.delivery_detail,onChange:e.changeInfo})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"additional_text",label:"Additional Text added to End Of WhatsApp Message",multiline:!0,rows:4,style:{width:"100%"},value:e.data.additional_text,onChange:e.changeInfo}))))},Hl=function(e){var t=Gl(),a=[];return["5km","10km","15km","20km","25km","30km"].forEach((function(t){a.push(r.a.createElement(zl.a,{key:"Less Than 5km"},r.a.createElement(Rl.a,{component:"th",scope:"row"},"Less than ",t),r.a.createElement(Rl.a,{align:"right"},r.a.createElement(ln.a,{label:t+"price",id:"distance-"+t,value:e.tiered_delivery[t],type:"text",onChange:e.changeDistance}))))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{container:!0,direction:"row",alignContent:"center",justify:"start",spacing:2,style:{marginTop:"20px"}},r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"minimum_order",label:"Minumum Order Amount e.g. minimum $15",style:{width:"100%"},value:e.data.minimum_order,onChange:e.changeInfo,type:"number"})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"free_delivery",label:"Free Delivery Amount e.g. minimum $30 free delivery",style:{width:"100%"},value:e.data.free_delivery,onChange:e.changeInfo,type:"number"})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:12},r.a.createElement(Dl.a,{style:{width:"100%",height:"auto",alignContent:"center"}},r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center",alignContent:"center"},r.a.createElement(Ge.a,{item:!0,xs:6,sm:6,alignContent:"center",alignItems:"center",style:{padding:"20px"}},r.a.createElement(Ml.a,{component:"fieldset"},r.a.createElement(_l.a,{component:"legend"},"Delivery Price Calculation"),r.a.createElement(jl.a,{id:"delivery_option",value:e.delivery_option,onChange:e.changeDelivery,name:"delivery_option"},r.a.createElement(Hr.a,{value:"none",id:"delivery_option",control:r.a.createElement(Il.a,{color:"default"}),label:"Don't Include"}),r.a.createElement(Hr.a,{value:"fixed",id:"delivery_option",control:r.a.createElement(Il.a,{color:"default"}),label:"Fixed Delivery Price"}),r.a.createElement(Hr.a,{value:"distance",id:"delivery_option",control:r.a.createElement(Il.a,{color:"default"}),label:"Calculate by Driving Distance"})))),r.a.createElement(Ge.a,{item:!0,container:!0,xs:6,sm:6,justify:"flex-start",style:{padding:"10px"}},"fixed"===e.delivery_option&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Fixed Delivery Price"),r.a.createElement(Ge.a,{item:!0,xs:12,sm:12},r.a.createElement(ln.a,{id:"fixed_delivery",label:"Fixed Delivery Fee",style:{width:"100%"},value:e.fixed_delivery,onChange:e.changePage,type:"number",InputProps:{startAdornment:r.a.createElement(on.a,{position:"start"},"$")}}))),"distance"===e.delivery_option&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Delivery Price By Distance (Google Maps Driving Route)"),r.a.createElement(Fl.a,{component:Wl.a},r.a.createElement(Ll.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(Ul.a,null,r.a.createElement(zl.a,null,r.a.createElement(Rl.a,null,"Distance"),r.a.createElement(Rl.a,{align:"right"},"Delivery Price"))),r.a.createElement(Bl.a,null,a))))))))))};function ql(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}var Xl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Kl=["January","February","March","April","May","June","July","August","September","October","November","December"],$l=function(e){var t=[],a=e.orders.length;return e.orders.forEach((function(e,n){var l=[];e.orderItems.forEach((function(e,t){l.push(r.a.createElement("div",null,e.quantity," x ",e.name," - ",e.price))}));var o=e.customerDetails.date.toDate(),i=Xl[o.getDay()]+" "+o.getDate()+" "+Kl[o.getMonth()]+" "+ql(o),s=Xl[o.getDay()]+" "+o.getDate()+" "+Kl[o.getMonth()]+" "+ql(o);t.push(r.a.createElement(Dl.a,{style:{width:"100%",backgroundColor:"#f5f5f5",alignContent:"center",margin:"5px"}},r.a.createElement(Tl.a,null,r.a.createElement("h5",null,"Order # ",a-n),r.a.createElement("br",null),r.a.createElement("h5",null,"Ordered At ",s),r.a.createElement("br",null),r.a.createElement("b",null,"Channel: ")," ",e.channel,r.a.createElement("br",null),r.a.createElement("b",null,"Cart Total: ")," $",e.cartTotal.totalPrice,"(",e.cartTotal.productQuantity," items)",r.a.createElement("br",null),r.a.createElement("b",null,"Name: ")," ",e.customerDetails.name," ",r.a.createElement("br",null),r.a.createElement("b",null,"Address: ")," ",e.customerDetails.address," #"," ",e.customerDetails.unit," ",r.a.createElement("br",null),r.a.createElement("b",null,"Contact No.: ")," ",e.customerDetails.customerNumber," ",r.a.createElement("br",null),r.a.createElement("b",null,"Delivery Time/ Pickup Time: ")," ",i,r.a.createElement("br",null),r.a.createElement("b",null,"Delivery Fee: ")," $",e.delivery_fee,r.a.createElement("br",null),r.a.createElement("b",null,"Discount: ")," $",e.discount,r.a.createElement("br",null),r.a.createElement("b",null,"Notes: "),e.customerDetails.notes," ",r.a.createElement("br",null),r.a.createElement("b",null,"Order Items: ")," ",l," ",r.a.createElement("br",null))))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{container:!0,direction:"row",alignContent:"center",justify:"start",spacing:2,style:{paddingTop:"20px"}},"Orders Sorted by Order Time",t))},eo=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{container:!0,direction:"row",alignContent:"center",justify:"start",spacing:2},r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"all_promo",label:"All Items Promo e.g. 20",style:{width:"100%"},value:e.all_promo,onChange:e.changePage,type:"number",InputProps:{endAdornment:r.a.createElement(on.a,{position:"start"},"%")}})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"promo_code",label:"Promo Code (Applies the All Items Promo)",style:{width:"100%"},value:e.promo_code,onChange:e.changePage,type:"text"})),r.a.createElement(Ge.a,{item:!0,xs:12,sm:6},r.a.createElement(ln.a,{id:"selfcollect_promo",label:"Self-Collect Promo e.g. 20",style:{width:"100%"},value:e.selfcollect_promo,onChange:e.changePage,type:"number",InputProps:{endAdornment:r.a.createElement(on.a,{position:"start"},"%")}}))))},to=function(e){var t=e.window,a=Gl(),n=Object(_r.a)(),l=r.a.useState(!1),o=Object(dl.a)(l,2),i=o[0],d=o[1],u=r.a.useState("Menu"),m=Object(dl.a)(u,2),p=m[0],h=m[1],g=function(){d(!i)},f=Object(Jr.b)().enqueueSnackbar,v=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(ml.a,null),r.a.createElement(zn.a,null,["Menu","Info","Delivery","Promo","Order"].map((function(e,t){return r.a.createElement(Wn.a,{button:!0,key:e,onClick:function(){return h(e)}},r.a.createElement(Yn.a,{primary:e}))})))),b=void 0!==t?function(){return t().document.body}:void 0,E=function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveToFirestore().then((function(){f("Successfully saved changes!",{variant:"success"})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement(ul.a,null),r.a.createElement(Bn.a,{position:"fixed",className:a.appBar,style:{backgroundColor:e.css.menu_color}},r.a.createElement(Rn.a,null,r.a.createElement(Y.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:g,className:a.menuButton},r.a.createElement(fl.a,null)),r.a.createElement(Fn.a,{variant:"h6",noWrap:!0,style:{color:e.css.menu_font_color}},"Menu"===p&&r.a.createElement("span",null,"Menu Settings"),"Info"===p&&r.a.createElement("span",null,"Info Settings"),"Delivery"===p&&r.a.createElement("span",null,"Delivery Settings"),"Promo"===p&&r.a.createElement("span",null,"Promo Settings"),"Order"===p&&r.a.createElement("span",null,"Order Settings")),e.updating?r.a.createElement("div",{class:"spinner-border",role:"status",style:{marginLeft:"auto"}},r.a.createElement("span",{class:"sr-only"},"Loading...")):r.a.createElement(fa.a,{variant:"contained",color:"primary",size:"large",className:a.saveButton,startIcon:r.a.createElement(wl.a,null),onClick:E,disabled:e.updated},e.updated?"Saved":"Save"))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(hl.a,{smUp:!0,implementation:"css"},r.a.createElement(pl.a,{container:b,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:i,onClose:g,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},v)),r.a.createElement(hl.a,{xsDown:!0,implementation:"css"},r.a.createElement(pl.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},v))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement(Ge.a,{container:!0,alignContent:"center",justify:"center"},r.a.createElement(Ge.a,{item:!0,direction:"column",alignContent:"center",justify:"center",sm:12},r.a.createElement(Fn.a,{variant:"h6"},"Welcome ",e.user.displayName,"!"),r.a.createElement(fa.a,{variant:"contained",onClick:function(){e.userSignOut()}},"Sign-out")),r.a.createElement(Ge.a,{item:!0,sm:12},"Menu"===p?r.a.createElement(Jl,{pageName:e.pageName,data:e.data,changeField:e.changeField,saveToFirestore:e.saveToFirestore,updating:e.updating,updated:e.updated,addMenuItem:e.addMenuItem,addAddon:e.addAddon,deleteAddon:e.deleteAddon}):"Info"===p?r.a.createElement(Zl,{pageName:e.pageName,data:e.data,changeInfo:e.changeInfo,saveToFirestore:e.saveToFirestore,updating:e.updating,updated:e.updated,changeColor:e.changeColor,logo:e.logo,cover:e.cover,css:e.css}):"Delivery"===p?r.a.createElement(Hl,{pageName:e.pageName,data:e.data,changeInfo:e.changeInfo,updating:e.updating,updated:e.updated,changePage:e.changePage,fixed_delivery:e.fixed_delivery,delivery_option:e.delivery_option,changeDelivery:e.changeDelivery,tiered_delivery:e.tiered_delivery,changeDistance:e.changeDistance}):"Promo"===p?r.a.createElement(eo,{pageName:e.pageName,data:e.data,changeInfo:e.changeInfo,saveToFirestore:e.saveToFirestore,updating:e.updating,updated:e.updated,changeColor:e.changeColor,logo:e.logo,cover:e.cover,css:e.css,changePage:e.changePage,all_promo:e.all_promo,selfcollect_promo:e.selfcollect_promo,promo_code:e.promo_code}):"Order"===p?r.a.createElement($l,{orders:e.orders}):null))))},ao=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).userSignOut=function(){Z.a.auth().signOut(),n.setState({firebaseUser:null})},n.state={firebaseUser:null,users:[]},n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this;Z.a.auth().useDeviceLanguage();var t=[];J.db.collection("pages").doc(this.props.pageName).collection("users").get().then((function(a){a.forEach((function(e){t.push(e.id)})),e.setState({users:t})})),Z.a.auth().onAuthStateChanged(function(e){var t,a;e&&(this.setState({firebaseUser:e,displayName:e.displayName,email:e.email?e.email:null,contact:e.phoneNumber?e.phoneNumber.slice(3):null}),t="custom_domain",a=e.uid,Yl.logEvent(t,{name:a}))}.bind(this));var a=[];J.db.collection("pages").doc(this.props.pageName).collection("orders").get().then((function(t){t.forEach((function(e){a.push(e.data())})),a.sort((function(e,t){return t.orderTime-e.orderTime})),e.setState({orders:a})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.firebaseUser?r.a.createElement(r.a.Fragment,null,this.state.users.includes(this.state.firebaseUser.uid)?r.a.createElement(to,{pageName:this.props.pageName,data:this.props.data,css:this.props.css,changeField:this.props.changeField,saveToFirestore:this.props.saveToFirestore,updating:this.props.updating,updated:this.props.updated,addMenuItem:this.props.addMenuItem,logo:this.props.logo,cover:this.props.cover,changeInfo:this.props.changeInfo,changeColor:this.props.changeColor,user:this.state.firebaseUser,userSignOut:this.userSignOut,changePage:this.props.changePage,fixed_delivery:this.props.fixed_delivery,delivery_option:this.props.delivery_option,changeDelivery:this.props.changeDelivery,tiered_delivery:this.props.tiered_delivery,changeDistance:this.props.changeDistance,all_promo:this.props.all_promo,selfcollect_promo:this.props.selfcollect_promo,promo_code:this.props.promo_code,addAddon:this.props.addAddon,deleteAddon:this.props.deleteAddon,orders:this.state.orders}):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You are not authorized to view this page"),r.a.createElement(cn.a,{uiConfig:J.uiConfigPage,firebaseAuth:Z.a.auth()}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},r.a.createElement(Ge.a,null,r.a.createElement(Fn.a,null,"Log In to View Dashboard"),r.a.createElement(cn.a,{uiConfig:J.uiConfigPage,firebaseAuth:Z.a.auth()})))))}}]),a}(r.a.Component);Ql.contextType=U;var no=ao,ro="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GKEY),lo=new Date;lo.setMinutes(lo.getMinutes());var oo="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BITLY_KEY),io=new Ot.BitlyClient(oo,{}),so=Z.a.analytics();var co=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],uo=["January","February","March","April","May","June","July","August","September","October","November","December"];function mo(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}var po=r.a.createElement(Be.a,null,r.a.createElement(Be.a.Content,null,"Your details will only be stored in your browser!")),ho=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateCustomerDetails=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,"postal"===(r=t.target.name)&&(n.setState({postal:a}),6===a.length&&"delivery"===n.context.channel&&n.getPostal(a)),n.context.addCustomerDetails(r,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getDirections=function(){var e=Object(c.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://fathomless-falls-12833.herokuapp.com/https://maps.googleapis.com/maps/api/directions/json?mode=driving&region=sg&units=metric&origin="+t+"&destination="+a+"&departure_time="+parseInt(lo.valueOf()/1e3)+"&key="+ro,e.abrupt("return",fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){return e&&e.routes.length>0?e.routes[0].legs[0].distance.value:0})).catch((function(e){console.log("Error:"+e.toString())})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.callPostal=function(e){return fetch("https://developers.onemap.sg/commonapi/search?searchVal="+e+"&returnGeom=Y&getAddrDetails=Y").then((function(e){return e.json()})).then((function(e){if(void 0!==e&&void 0!==e.results)return e.results[0]}),(function(e){console.log(e)}))},n.handleCustomerDetails=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateCustomerDetails(t).then((function(){n.updateSavedData(n.state.shouldRememberDetails)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTime=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.context.addCustomerDetails("time",t),n.context.addCustomerDetails("datetime",new Date(n.context.customerDetails.date.getMonth()+1+"/"+n.context.customerDetails.date.getDate()+"/"+n.context.customerDetails.date.getFullYear()+" "+t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDate=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.context.addCustomerDetails("date",t),n.context.addCustomerDetails("datetime",new Date(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+n.context.customerDetails.time));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setOrderText=Object(c.a)(s.a.mark((function e(){var t,a,r,l,o,i,c,d,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.context.cartTotal,a="",a="delivery"===n.context.channel?a+"New Delivery Order from "+n.context.customerDetails.name+"\n":a+"New Pick-Up Order from "+n.context.customerDetails.name+"\n",r=function(e){if(void 0!==n.context.cartProducts&&0!==n.context.cartProducts.length&&0!==n.context.cartProducts[e].quantity){var t="",r=0;n.context.cartProducts[e].addons.forEach((function(a){t=t+n.context.pageData.menu_combined[n.context.cartProducts[e].index].addon[a].name+"(+$"+n.context.pageData.menu_combined[n.context.cartProducts[e].index].addon[a].price+") ",r+=Number(n.context.pageData.menu_combined[n.context.cartProducts[e].index].addon[a].price)*Number(n.context.cartProducts[e].quantity)})),a=a+"*"+n.context.cartProducts[e].quantity+"x* _"+n.context.pageData.menu_combined[n.context.cartProducts[e].index].name+(t?" - "+t:"")+"_: $"+(Number(n.context.cartProducts[e].quantity*n.context.pageData.menu_combined[n.context.cartProducts[e].index].price)+r).toFixed(2)+"\n"}},l=0;l<n.context.cartProducts.length;l+=1)r(l);return o=(t.totalPrice<=n.context.pageData.free_delivery||"0"===n.context.pageData.free_delivery)&&n.context.delivery_fee?Number(n.context.delivery_fee):0,i=0,n.context.promo_code?n.context.promo_code_valid&&(i=n.context.all_promo?Number(n.context.all_promo)/100*Number(t.totalPrice):0):i=n.context.all_promo?Number(n.context.all_promo)/100*Number(t.totalPrice):0,"collect"===n.context.channel&&(i+=Number(n.context.selfcollect_promo)/100*Number(t.totalPrice)),i=i.toFixed(2),c=(c=Number(n.context.cartTotal.totalPrice)+Number(o)-Number(i)).toFixed(2),"0.00"!==i&&(a=a+"\nPromotion: *-$"+i+"*",n.context.promo_code&&(a=a+"\nPromo Code: "+n.context.promo_code)),0!==o&&(a=a+"\nDelivery: *$"+o+"*"),a=a+"\nTotal Price: *$"+c+"*","delivery"===n.context.channel&&(a=a+"\nDelivery address: *"+n.context.customerDetails.street+" #"+n.context.customerDetails.unit+" "+n.context.customerDetails.postal+"*"),d=co[n.context.customerDetails.datetime.getDay()]+" "+n.context.customerDetails.datetime.getDate()+" "+uo[n.context.customerDetails.datetime.getMonth()]+" "+mo(n.context.customerDetails.datetime),a=a+"\nDate/Time: *"+d+"*",""!==n.context.customerDetails.notes&&(a=a+"\nAdditional notes: _"+n.context.customerDetails.notes+"_"),a=(a=a+"\nCustomer phone number: *"+n.context.customerDetails.customerNumber+"*")+"\nOrdering from:"+n.context.pageName+".foodleh.app",(u=new URLSearchParams).append("postal",n.context.pageData.postal),u.append("street",n.context.pageData.street),u.append("unit",n.context.pageData.unit),u.append("contact",n.context.pageData.contact),u.append("postal_to",n.context.customerDetails.postal),u.append("street_to",n.context.customerDetails.street),u.append("unit_to",n.context.customerDetails.unit),u.append("contact_to",n.context.customerDetails.customerNumber),e.next=32,s="https://foodleh.app/driver?"+u.toString(),io.shorten(s).then((function(e){return e.link}));case 32:return m=e.sent,a=a+"\n For F&B Owner, request for a driver here: "+m,n.context.pageData.additional_text&&(a=a+"\n"+n.context.pageData.additional_text),e.abrupt("return",encodeURIComponent(a));case 36:case"end":return e.stop()}var s}),e)}))),n.handleSubmit=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("submit"),n.setState({loading:!0}),e.next=5,n.addOrder();case 5:return e.next=7,n.setOrderText();case 7:a=e.sent,r="https://wa.me/65"+n.context.pageData.contact+"?text="+a,window.location=r;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addOrder=function(){for(var e=[],t=0;t<n.context.cartProducts.length;t+=1)void 0!==n.context.cartProducts&&0!==n.context.cartProducts.length&&0!==n.context.cartProducts[t].quantity&&e.push({name:n.context.pageData.menu_combined[n.context.cartProducts[t].index].name,quantity:n.context.cartProducts[t].quantity,price:(n.context.cartProducts[t].quantity*n.context.pageData.menu_combined[n.context.cartProducts[t].index].price).toFixed(2)});var a=(n.context.cartTotal.totalPrice<=n.context.pageData.free_delivery||"0"===n.context.pageData.free_delivery)&&n.context.delivery_fee?Number(n.context.delivery_fee):0,r=0;return n.context.promo_code?n.context.promo_code_valid&&(r=n.context.all_promo?Number(n.context.all_promo)/100*Number(n.context.cartTotal.totalPrice):0):r=n.context.all_promo?Number(n.context.all_promo)/100*Number(n.context.cartTotal.totalPrice):0,"collect"===n.context.channel&&(r+=Number(n.context.selfcollect_promo)/100*Number(n.context.cartTotal.totalPrice)),r=r.toFixed(2),J.db.collection("pages").doc(n.context.pageName).collection("orders").add({orderItems:e,customerDetails:n.context.customerDetails,orderTime:new Date,channel:n.context.channel,cartTotal:n.context.cartTotal,delivery_fee:a,discount:r}).catch((function(e){console.log(e)}))},n.state={open:!1,orderData:n.context&&n.context.pageData?new Array(n.context.pageData.menu_combined.length).fill(0):[],data:[],totalPrice:0,wantToOrder:!1,name:"",unit:"",street:"",postal:"",notes:"",customerNumber:"",deliveryTime:"",galleryOpened:!1,retrieved:!1,activePhoto:1,hasReviewEditMessage:!1,hasReviewDeleteMessage:!1,shouldRememberDetails:!1,time:lo.getHours()+":"+lo.getMinutes(),date:lo,datetime:lo,loading:!1},n.setOrderText=n.setOrderText.bind(Object(p.a)(n)),n.handleCustomerDetails=n.handleCustomerDetails.bind(Object(p.a)(n)),n.updateCustomerDetails=n.updateCustomerDetails.bind(Object(p.a)(n)),n.toggleShouldRememberDetails=n.toggleShouldRememberDetails.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"getPostal",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.callPostal(t);case 3:if(void 0!==(a=e.sent)&&a.ADDRESS&&this.context.addCustomerDetails("street",a.ADDRESS),"distance"!==this.context.delivery_option||!a.ADDRESS){e.next=11;break}return e.next=8,this.getDirections(this.context.pageData.street,a.ADDRESS);case 8:return n=e.sent,e.next=11,this.context.addDistance(n);case 11:this.setState({loading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){if(console.log("run"),localStorage.getItem("userDetails")){var e=JSON.parse(localStorage.getItem("userDetails"));this.context.addCustomerDetails("name",e.name),this.context.addCustomerDetails("customerNumber",e.customerNumber),this.context.addCustomerDetails("postal",e.postal),this.context.addCustomerDetails("unit",e.unit),this.context.addCustomerDetails("street",e.street),"delivery"===this.context.channel&&this.getPostal(e.postal),this.setState({shouldRememberDetails:!0})}}},{key:"toggleShouldRememberDetails",value:function(e){var t=e.target.checked;this.setState({shouldRememberDetails:t}),this.updateSavedData(t)}},{key:"updateSavedData",value:function(e){if(e){var t={name:this.context.customerDetails.name,customerNumber:this.context.customerDetails.customerNumber,postal:this.context.customerDetails.postal,unit:this.context.customerDetails.unit,street:this.context.customerDetails.street};localStorage.setItem("userDetails",JSON.stringify(t))}else localStorage.clear()}},{key:"render",value:function(){var e=this,t=this.context&&this.context.css&&this.context.css.menu_color?this.context.css.menu_color:"#b48300",a=this.context&&this.context.css&&this.context.css.menu_font_color?this.context.css.menu_font_color:"#ffffff";return r.a.createElement("div",null,"cart"===this.props.toggle?r.a.createElement(Bn.a,{style:{position:"relative",backgroundColor:t}},r.a.createElement(Rn.a,null,r.a.createElement(Y.a,{edge:"start",onClick:this.props.handleClose,"aria-label":"close"},r.a.createElement(Q.a,null)),r.a.createElement(Fn.a,{variant:"h6",style:{flex:1}},"Confirm Details"))):null,r.a.createElement(Re.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{class:"d-flex justify-content-center align-items-center",style:{padding:"20px"}},r.a.createElement("div",null,r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"name"},"Name"),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.context.customerDetails.name,type:"text",class:"form-control",name:"name",style:{borderColor:"#b48300"},placeholder:"E.g. Xiao Ming"})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},"Mobile Number: "),r.a.createElement("div",{class:"input-group mb-12"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text",id:"basic-addon1"},"+65")),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.context.customerDetails.customerNumber,type:"tel",class:this.context.customerDetails.customerNumber?"form-control":"form-control is-invalid",name:"customerNumber",placeholder:" 9xxxxxxx",maxLength:"8",minlength:"8",pattern:"[8-9]{1}[0-9]{7}",style:{borderColor:"#b48300","border-radius":"5px"},required:!0}))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"flex",style:{marginLeft:"14px"}},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"time"},"Delivery/Pickup Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement(gt.a,{class:"form-control is-invalid",dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",onChange:this.handleDate,value:this.context.customerDetails.date,format:"dd/MMM/yyyy",required:!0})))),r.a.createElement("div",{class:"flex",style:{marginLeft:"14px"}},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"time"},"Delivery/Pickup Time")," ",r.a.createElement("div",{class:"input-group"},r.a.createElement(vt.a,{class:"form-control is-invalid",dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",hourPlaceholder:"hh",minutePlaceholder:"mm",onChange:this.handleTime,value:this.context.customerDetails.time,format:"hh:mma",disableClock:!0,required:!0}),lo>this.context.customerDetails.datetime?r.a.createElement("span",{class:"badge badge-danger"},"Time cannot be earlier than now"):null)))),"delivery"===this.context.channel?r.a.createElement("div",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"postalcode"},"Postal Code"),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.context.customerDetails.postal,type:"text",class:this.context.customerDetails.postal?"form-control":"form-control is-invalid",name:"postal",placeholder:"Enter Postal Code",maxLength:"6",required:!0})))),r.a.createElement("div",{class:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"unit"},"Unit #"),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.context.customerDetails.unit,type:"text",class:"form-control",name:"unit",placeholder:"E.g. 01-01"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"street"},"Street Name",r.a.createElement("b",null," (Auto-Filled)")),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.context.customerDetails.street,type:"text",class:this.context.customerDetails.street?"form-control":"form-control is-invalid",name:"street",placeholder:"Enter Street Name"})))),"distance"===this.context.delivery_option?r.a.createElement(r.a.Fragment,null,this.context.delivery_fee?r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("b",null,"Distance:")," ",this.context.distance/1e3,"km"," ",r.a.createElement("br",null),r.a.createElement("b",null,"Delivery Cost:")," $",this.context.delivery_fee," ",r.a.createElement("br",null))):r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(ke.a,{class:"",animation:"grow"}):r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("b",null,"Please key in postal code to get delivery price."," "))))):null):null,r.a.createElement("br",null),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement("label",{for:"address"},"Comments"),r.a.createElement("input",{onChange:this.handleCustomerDetails,value:this.context.customerDetails.notes,type:"text",class:"form-control",name:"notes",style:{borderColor:"#b48300"},placeholder:"No chilli etc, leave blank if nil"})),r.a.createElement("div",{class:"form-group create-title"},r.a.createElement(Fe.a,{trigger:["hover","focus"],placement:"top",overlay:po},r.a.createElement("label",{for:"remember"},"Remember me?")),r.a.createElement("input",{name:"shouldRememberDetails",type:"checkbox",checked:this.state.shouldRememberDetails,onChange:this.toggleShouldRememberDetails,style:{marginLeft:"10px"}})),r.a.createElement("div",null,"For any problems, please contact"," ",r.a.createElement("a",{href:"https://wa.me/65"+this.context.pageData.contact},this.context.pageData.contact," "),"directly."),r.a.createElement("br",null),"cart"===this.props.toggle?r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{class:"",animation:"grow"})," ",r.a.createElement("span",null,"Loading...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"row d-flex justify-content-center"},r.a.createElement(fa.a,{type:"submit",variant:"contained",style:{backgroundColor:t,borderColor:t,width:"300px",color:a},disabled:this.state.loading,onClick:function(){return t="place_order_custom",a=e.state.name,void so.logEvent(t,{name:a});var t,a}},"Place order via WhatsApp")),r.a.createElement("div",{class:"row d-flex"},"By placing order via this platform, you agree to our"," ",r.a.createElement("a",{href:"https://foodleh.app/privacy"}," ","Privacy Policy")))):null))))}}]),a}(n.Component);ho.contextType=U;var go=ho,fo=a(840),vo=a(821),bo=a(834),Eo=a(822),yo=a(828),wo=a(820),Ao=a(375),xo=a.n(Ao),ko=Z.a.analytics(),Co="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ADMIN);var Do=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).increaseStep=function(){n.setState({step:n.state.step+1})},n.decreaseStep=function(){n.setState({step:n.state.step-1})},n.getSteps=function(){return["Step 1: Create Account","Step 2: Select Your Listing","Step 3: Create Your Unique Link!","Step 4: Create Your Website"]},n.setOpen=function(){n.retrieveData(),n.setState({open:!0})},n.setClose=function(){n.setState({open:!1})},n.retrieveData=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,J.db.collection("hawkers").get().then((function(e){var t=[];return e.forEach((function(e){e.data().custom||t.push({name:e.data().name,id:e.id,cover:e.data().url?e.data().url:null})})),n.setState({options:t}),t})).catch((function(e){console.log(e)}));case 3:n.setState({data:t,retrieved:!0});case 4:case"end":return e.stop()}}),e)}))),n.createDomain=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({creating:!0}),e.next=3,J.db.collection("pages").doc(n.state.name).set({css:{menu_color:"",menu_font_color:""},docid:n.state.id,logo:"",cover:n.state.cover,delivery_option:"none"}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.db.collection("pages").doc(n.state.name).collection("users").doc(n.state.firebaseUser.uid).set({role:"admin"});case 2:return e.next=4,J.db.collection("pages").doc(n.state.name).collection("users").doc(Co).set({role:"admin"});case 4:return e.next=6,J.db.collection("hawkers").doc(n.state.id).update({custom:!0,takesg:!1});case 6:n.setState({creating:!1,created:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),n.checkAvailable=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n.state.name||null===n.state.name||!0===/[^\w]|_|\s/g.test(n.state.name)){e.next=6;break}return n.setState({invalid:!1}),e.next=4,J.db.collection("pages").doc(n.state.name).get().then((function(e){e.exists?n.setState({available:!1}):n.setState({available:!0})})).catch((function(e){console.log(e)}));case 4:e.next=7;break;case 6:n.setState({invalid:!0});case 7:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.setState({name:e.target.value.toLowerCase(),available:null})},n.getStepContent=function(e){switch(e){case 0:return r.a.createElement(r.a.Fragment,null,n.state.firebaseUser?r.a.createElement("div",{style:{color:"green"}},r.a.createElement("p",null,r.a.createElement("b",null,"Verified: ",r.a.createElement("br",null),n.state.firebaseUser.phoneNumber,r.a.createElement("br",null),n.state.firebaseUser.displayName,r.a.createElement("br",null),n.state.firebaseUser.email,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(fa.a,{variant:"contained",onClick:function(){Z.a.auth().signOut(),n.setState({firebaseUser:null})}},"Sign-out")))):r.a.createElement("div",null,!n.state.login&&r.a.createElement("div",null,r.a.createElement(fa.a,{color:"primary",variant:"contained",onClick:function(){return n.setState({login:!0})}},"Create Account/ Login")),n.state.login&&r.a.createElement(cn.a,{uiConfig:J.uiConfigPage,firebaseAuth:Z.a.auth()}),r.a.createElement("br",null)));case 1:return r.a.createElement("div",null,r.a.createElement("div",null,"If you have not created a listing, please go to",r.a.createElement("span",null," "),r.a.createElement("a",{href:"/create",target:"blank"}," ","www.foodleh.app/create"," ")," ","first!",r.a.createElement("br",null)),r.a.createElement("div",{class:"d-flex row justify-content-center",style:{margin:"15px"}},r.a.createElement(yo.a,{id:"asynchronous-demo",style:{width:"250px"},open:n.state.open,onOpen:function(){n.setOpen()},onClose:function(){n.setClose()},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:n.state.options,loading:n.state.open&&0===n.state.options.length,onChange:function(e,t){t?n.setState({id:t.id,fullname:t.name,cover:t.cover}):n.setState({id:null,fullname:null,cover:null})},renderInput:function(e){return r.a.createElement(ln.a,Object.assign({},e,{label:"Choose Your Listing",variant:"outlined",InputProps:Object(Le.a)({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,n.state.open&&0===n.state.options.length?r.a.createElement(wo.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})),r.a.createElement("br",null),n.state.id?r.a.createElement("div",{style:{wordWrap:"break-word"}},"You selected"," ",r.a.createElement("a",{target:"blank",href:"/info?id="+n.state.id},"this")," ","listing",r.a.createElement("br",null),r.a.createElement("br",null)):null);case 2:return r.a.createElement("div",null,r.a.createElement(ln.a,{label:"Name",name:"name",placeholder:"e.g. huathuat",InputProps:{endAdornment:r.a.createElement(on.a,{position:"end"},".foodleh.app")},value:n.state.name,onChange:n.handleChange}),r.a.createElement("br",null),n.state.invalid?r.a.createElement("div",{style:{color:"red"}},"Must not be empty, contain spaces, or contain punctuation."):null,r.a.createElement("br",null),r.a.createElement(fa.a,{onClick:n.checkAvailable,variant:"contained",color:"secondary"},"Check Availability"),r.a.createElement("br",null),r.a.createElement("br",null),null!==n.state.available?r.a.createElement("div",null,n.state.available?r.a.createElement("div",{style:{color:"green"}},n.state.name,".foodleh.app is ",r.a.createElement("b",null,"Available"),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement("div",{style:{color:"red"}},n.state.name,".foodleh.app is ",r.a.createElement("b",null,"Not Available"),r.a.createElement("br",null),r.a.createElement("br",null))):null);case 3:return r.a.createElement("div",null,"You're ready to create your subdomain!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(fa.a,{onClick:function(){return n.createDomain()},variant:"contained",color:"secondary",disabled:n.state.created||n.state.creating,style:{margin:"10px"}},"Create Custom Website"),r.a.createElement("br",null),r.a.createElement("br",null),n.state.created?r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"green"}},"Success! "),r.a.createElement("h5",null,"Website created at"," ",r.a.createElement("a",{href:"https://"+n.state.name+".foodleh.app",target:"blank"},"https://",n.state.name,".foodleh.app")),r.a.createElement("h5",null,"Edit website at:"," ",r.a.createElement("a",{href:"https://"+n.state.name+".foodleh.app/dashboard",target:"blank"},"https://",n.state.name,".foodleh.app/dashboard"))):null);default:return"Unknown step"}},n.state={step:0,open:!1,options:[],id:"",available:null,name:null,fullname:null,creating:!1,created:!1,invalid:!1,firebaseUser:null,login:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){Z.a.auth().useDeviceLanguage(),Z.a.auth().onAuthStateChanged(function(e){var t,a;e&&(console.log(e),this.setState({firebaseUser:e,displayName:e.displayName,email:e.email?e.email:null,contact:e.phoneNumber?e.phoneNumber.slice(3):null}),t="custom_domain",a=e.uid,ko.logEvent(t,{name:a}))}.bind(this))}},{key:"render",value:function(){var e=this,t=this.getSteps();return r.a.createElement("div",{class:"container",style:{paddingTop:"56px",width:"100%"}},r.a.createElement("div",{class:"d-flex justify-content-center"},r.a.createElement("div",{class:"col-md-8 col-xs-12"},r.a.createElement("img",{src:xo.a,style:{width:"100%"},alt:"header"}))),r.a.createElement(fo.a,{activeStep:this.state.step,orientation:"vertical"},t.map((function(t,a){return r.a.createElement(vo.a,{key:t},r.a.createElement(bo.a,null,r.a.createElement("h4",null,t)),r.a.createElement(Eo.a,null,r.a.createElement("div",{class:"d-flex justify-content-center"},e.getStepContent(a)),r.a.createElement("div",null,r.a.createElement("div",null,3!==e.state.step?r.a.createElement("div",null,r.a.createElement(fa.a,{disabled:0===e.state.step||3===e.state.step,onClick:e.decreaseStep},"Back"),r.a.createElement(fa.a,{variant:"contained",color:"primary",onClick:e.increaseStep,disabled:0===e.state.step?!e.state.firebaseUser:1===e.state.step&&!e.state.id||2===e.state.step&&!e.state.available},"Next")):null))))}))))}}]),a}(r.a.Component),So=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{paddingTop:"70px"}},"PERSONAL DATA PROTECTION POLICY ",r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("b",null,"Purpose"),' This Personal Data Protection Policy ("Policy") sets out the ways in which the FoodLeh collects, uses, discloses and retains personal information in order to carry out our activities and operations; and the measures we take to protect your personal information. The Policy is designed to meet the requirements of Singapore\u2019s personal data protection laws. ',r.a.createElement("b",null,"Application of Policy")," ","When you become a member of FoodLeh, you agree to the terms of this Policy as updated from time to time. This Policy applies to all FoodLeh members, non-members, users and content providers. From time to time, FoodLeh will update this Policy to ensure that this Policy is consistent with any changes in legal requirements. You are encouraged to periodically review this Policy to be informed of how FoodLeh is protecting your information."," ",r.a.createElement("b",null,"Types of Personal Information collected")," Our Policy applies to personal information that FoodLeh collects, uses and discloses in order to carry out FoodLeh\u2019s activities and operations; and to enable you to access our website and dashboards. Personal information is any information that can identify an individual or information about an identifiable individual, such as an individual\u2019s home address, telephone number, or a member\u2019s transaction activity in relation to FoodLeh activities. When a member makes an order on FoodLeh, we may collect identifying information, such as (but not limited to) the member\u2019s name, address, and telephone number. This Policy does not apply to aggregated information which summarises statistical information about groups of members, and which does not include name, contact information, or any other information that would allow any particular individual to be identified. ",r.a.createElement("b",null,"How we collect your Personal Information"),"Much of the personal information we collect comes from you, such as when you apply for membership or make orders through FoodLeh. We collect personal information, unless such is prohibited by legislation, when you contact us, register with us or when you require our services. Use of your Personal Information FoodLeh collects and uses your personal information to operate FoodLeh\u2019s website, deliver the goods and/or services you have requested, and to administer FoodLeh\u2019s activities. FoodLeh also uses your personally identifiable information to inform merchants of their transaction history. FoodLeh may also contact you via surveys to conduct research about your opinion of current services or of potential new services that may be offered. FoodLeh does not sell, rent or lease its member/customer lists to third parties. FoodLeh may share data with trusted partners in order to administer your membership, to help us perform statistical analysis, send you email or postal mail, provide customer support, or arrange for deliveries. All such third parties are prohibited from using your personal information except to provide these services to FoodLeh, and they are required to maintain the confidentiality of your information. FoodLeh keeps track of the websites and pages our members and customers visit within FoodLeh, in order to determine what FoodLeh services are the most popular. If you are only browsing the website of the FoodLeh, FoodLeh does not capture data that allows it to identify you individually. Where permitted under the Personal Data Protection Act, your Personal Data may be disclosed to FoodLeh\u2019s Preferred Partners in connection with services offered by these Preferred Partners. Preferred Partners are organisations which share a business relationship with FoodLeh in areas such as marketing collaborations and co-branding. However, please be assured that we do not disclose your Personal Data to our Preferred Partners for the purposes of the above unless your consent is expressly obtained."," ",r.a.createElement("b",null,"Security of your Personal Information")," FoodLeh secures your personal information from unauthorised access, use or disclosure. FoodLeh secures the personally identifiable information you provide on computer servers in a controlled, secure environment, protected from unauthorised access, use or disclosure. FoodLeh will not share your personal information with third parties without your permission, except if required by law or a court order to do so. Withdrawing consent The collection and handling of certain personal information is necessary to maintain your membership and/or for processing transactions. You may, however, opt out of the collection and/or handling of your personal information for other purposes \u2014 including opting out of receiving marketing and promotional material from the FoodLeh group*. Contact Information If you have any questions or feedback relating to your Personal Data or our Data Protection Policy, please contact us at: foodleh@outlook.com")}}]),a}(r.a.Component),Oo={Home:q,Menu:ce,Create:we,Listing:je,Item:Te,Results:_e,Info:Ut,About:Vt,Popup:ca,SearchAll:xa,SearchAll_modified:ja,SearchAll_iv2:Fa,SearchAll_iv3:Ja,ListForm:En,ItemRendered:yn,Driver:nr,Delivery:ur,Orders:Er,Deliveries:Cr,Search:Or,Page:Gr,PageAbout:Vr,PageItem:Kr,PageCart:ll,PageCartChannel:cl,PageConfirm:go,Custom:Do,PageDashboard:no,PrivacyPolicy:So,db:J.db,storage:J.storage},To=a(275),Po=a(823),No=a(379),Io=new Date;Io.setMinutes(Io.getMinutes());var jo=Object(No.a)({palette:{primary:{light:"#F0AE00",main:"#b48300",dark:"#b48300",contrastText:"#fff"},secondary:{light:"#ffffff",main:"#ffffff",dark:"#ffffff",contrastText:"#000"}},typography:{fontFamily:'"Open Sans", "Roboto", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),Mo=new O.a;null!==Mo.get("language")&&void 0!==Mo.get("language")||Mo.set("language","en",{path:"/"});var _o=r.a.createRef(),Lo=function(e){return function(){_o.current.closeSnackbar(e)}};function Bo(){var e="Save our local F&B! FoodLeh? is a nonprofit crowdsourced hawker directory relying on Singaporeans to share information about our local F&B places.",t="https://www.foodleh.app/",a="https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/homepage.png?alt=media&token=93f830c3-b6fa-4311-bf43-8168de5d580a";return r.a.createElement(To.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"FoodLeh?"),r.a.createElement("link",{rel:"canonical",href:t}),r.a.createElement("link",{rel:"icon",type:"image/png",href:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/foodleh.png?alt=media&token=3fce2813-7eba-4e5a-8cbe-47119c1512f9",sizes:"16x16"}),r.a.createElement("meta",{name:"description",content:e}),r.a.createElement("meta",{name:"og:description",content:e}),r.a.createElement("meta",{name:"og:url",content:t}),r.a.createElement("meta",{name:"og:image",content:a}),r.a.createElement("meta",{name:"keywords",content:"hawker food delivery and dabao Singapore circuit breaker"}),r.a.createElement("meta",{property:"og:description",content:e}),r.a.createElement("meta",{property:"og:url",content:t}),r.a.createElement("meta",{property:"og:image",content:a}),r.a.createElement("meta",{property:"fb:pages",content:"108930167461424"}),r.a.createElement("meta",{property:"ia:markup_url",content:t}))}function Ro(e){var t="Save our local F&B! FoodLeh? is a nonprofit crowdsourced hawker directory relying on Singaporeans to share information about our local F&B places.",a="https://www.foodleh.app/",n=e.logo?e.logo:"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/foodleh.png?alt=media&token=3fce2813-7eba-4e5a-8cbe-47119c1512f9",l="https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/homepage.png?alt=media&token=93f830c3-b6fa-4311-bf43-8168de5d580a";return r.a.createElement(To.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,e.name),r.a.createElement("link",{rel:"canonical",href:a}),r.a.createElement("link",{rel:"icon",type:"image/png",href:n,sizes:"16x16"}),r.a.createElement("meta",{name:"description",content:t}),r.a.createElement("meta",{name:"og:description",content:t}),r.a.createElement("meta",{name:"og:url",content:a}),r.a.createElement("meta",{name:"og:image",content:l}),r.a.createElement("meta",{name:"keywords",content:"hawker food delivery and dabao Singapore circuit breaker"}),r.a.createElement("meta",{property:"og:description",content:t}),r.a.createElement("meta",{property:"og:url",content:a}),r.a.createElement("meta",{property:"og:image",content:l}),r.a.createElement("meta",{property:"fb:pages",content:"108930167461424"}),r.a.createElement("meta",{property:"ia:markup_url",content:a}))}var Fo=function(){var e,t,a=window.location.host,n=a.includes("localhost"),r=a.split(".");return(n&&2===r.length||!n&&3===r.length)&&(e=r[0],t=r[r.length-1]),{pageName:e,hostName:t}},Uo=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addCustomerDetails=function(e,t){var a=n.state.customerDetails;a[e]=t,n.setState({customerDetails:a})},n.changePromocode=function(e){var t=e.target.value;n.setState({promo_code_input:t}),n.state.promo_code&&t===n.state.promo_code?n.setState({promo_code_valid:!0}):n.setState({promo_code_valid:!1})},n.changeChannel=function(e){var t;"delivery"===e?"fixed"===n.state.delivery_option&&(t=n.state.fixed_delivery):t=0,n.setState({channel:e,delivery_fee:t})},n.toggleDialog=function(){n.setState({channelDialog:!n.state.channelDialog})},n.handleImageAsFile=function(e,t,a){if(void 0!==t){var r=(new Date).getTime()+"_"+t.name,l=new FileReader;l.readAsArrayBuffer(t),l.onload=function(t){"logo"===a||"cover"===a?n.setState(Object(d.a)({},a,"loading")):n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},e,{pic:{$set:"loading"}})})});var l=new Blob([t.target.result]);window.URL=window.URL||window.webkitURL;var o=window.URL.createObjectURL(l),i=new Image;i.src=o,n.handleFireBaseUpload(i,r,e,a)}}},n.handleFireBaseUpload=function(e,t,a,r){e.onload=function(){Ka.a.read(e.src).then((function(e){e.quality(50),e.resize(Ka.a.AUTO,750),console.log(e),e.getBase64(Ka.a.AUTO,(function(e,l){J.storage.ref("/images/".concat(t)).putString(l,"data_url").on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){J.storage.ref("images").child(t).getDownloadURL().then((function(e){"logo"===r||"cover"===r?n.setState(Object(d.a)({},r,e)):n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},a,{pic:{$set:e}})})})}))}))}))}))}},n.saveToFirestore=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({updating:!0}),e.abrupt("return",J.db.collection("hawkers").doc(n.state.docid).update(n.state.pageData).then((function(){J.db.collection("pages").doc(n.state.pageName).update({delivery_option:n.state.delivery_option,fixed_delivery:n.state.fixed_delivery,cover:n.state.cover,css:n.state.css,logo:n.state.logo,tiered_delivery:n.state.tiered_delivery,all_promo:n.state.all_promo,selfcollect_promo:n.state.selfcollect_promo,promo_code:n.state.promo_code}).then((function(){n.setState({updating:!1}),n.setState({updated:!0})})).catch((function(e){n.setState({updating:!1}),n.setState({updated:!0}),console.log(e)}))})));case 2:case"end":return e.stop()}}),e)}))),n.getDoc=Object(c.a)(s.a.mark((function e(){var t,a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fo(),a=t.pageName,r=t.hostName,n.setState({pageName:a,hostName:r}),e.next=6,J.db.collection("pages").doc(a).get().then((function(e){if(e.exists){if(!e.data().redirect)return n.setState(e.data()),e.data().docid;window.location.href="/info?id="+e.data().docid}return!1})).catch((function(e){console.log(e)}));case 6:if(!(l=e.sent)){e.next=10;break}return e.next=10,J.db.collection("hawkers").doc(l).get().then((function(e){return e.exists&&n.setState({pageData:e.data(),retrieved:!0}),console.log("Fetched successfully!"),!0})).catch((function(e){console.log(e)}));case 10:console.log(n.state);case 11:case"end":return e.stop()}}),e)}))),n.toggleLanguage=function(){console.log("toggleLanguage"),console.log(n.state.language),"en"===n.state.language?(Mo.set("language","zh",{path:"/"}),n.setState({data:le,language:"zh",toggleLanguage:n.toggleLanguage})):(Mo.set("language","en",{path:"/"}),n.setState({data:re,language:"en",toggleLanguage:n.toggleLanguage}))},n.changeField=function(e){e.preventDefault();var t=e.currentTarget.id,a=t.substring(0,t.indexOf("-")),r=t.substring(t.indexOf("-")+1),l=e.target.value;if(n.setState({updated:!1}),"image"===a){var o=e.target.files[0];n.handleImageAsFile(r,o,a)}else if("delete"===a)n.deleteMenuItem(r);else if(a.includes("addonname")){var i=a.substring(t.indexOf("+")+1);console.log(i,r,l),n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},r,{addon:Object(d.a)({},i,{name:{$set:l}})})})})}else if(a.includes("addonprice")){var s=a.substring(t.indexOf("+")+1);n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},r,{addon:Object(d.a)({},s,{price:{$set:l}})})})})}else n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},r,Object(d.a)({},a,{$set:l}))})})},n.changeColor=function(e,t){n.setState({updated:!1,css:tt()(n.state.css,Object(d.a)({},t,{$set:e}))})},n.changePage=function(e){e.preventDefault();var t=e.currentTarget.id,a=e.target.value;n.setState(Object(d.a)({updated:!1},t,a))},n.changeDelivery=function(e){e.preventDefault();var t=e.currentTarget.name,a=e.target.value;n.setState(Object(d.a)({updated:!1},t,a))},n.changeDistance=function(e){e.preventDefault();var t=e.currentTarget.id,a=t.substring(t.indexOf("-")+1),r=e.target.value;n.setState({updated:!1}),n.setState({tiered_delivery:tt()(n.state.tiered_delivery,Object(d.a)({},a,{$set:r}))})},n.changeInfo=function(e){e.preventDefault();var t=e.currentTarget.id,a=e.target.value;if(n.setState({updated:!1}),"logo"===t||"cover"===t){var r=e.target.files[0];n.handleImageAsFile(null,r,t)}else n.setState({pageData:tt()(n.state.pageData,Object(d.a)({},t,{$set:a}))})},n.addMenuItem=function(){return n.setState({updated:!1}),n.setState({pageData:tt()(n.state.pageData,{menu_combined:{$push:[{name:"",price:0,pic:""}]}})})},n.addAddon=function(e){n.setState({updated:!1});var t=e.currentTarget.id,a=t.substring(t.indexOf("-")+1);n.state.pageData.menu_combined[a].addon?n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},a,{addon:{$push:[{name:"",price:0}]}})})}):n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},a,{addon:{$set:[{name:"",price:0}]}})})})},n.deleteAddon=function(e){n.setState({updated:!1});var t=e.currentTarget.id,a=t.substring(t.indexOf("-")+1);return console.log(t,a),n.setState({pageData:tt()(n.state.pageData,{menu_combined:Object(d.a)({},a,{addon:{$splice:[[n.state.pageData.menu_combined[a].addon.length-1]]}})})})},n.deleteMenuItem=function(e){n.setState({updated:!1}),n.setState({pageData:tt()(n.state.pageData,{menu_combined:{$splice:[[e,1]]}})})},n.addProduct=function(e,t){var a;console.log(t);var r=[];if(t&&t.forEach((function(e){e.checked&&r.push(e.index)})),n.state.cartProducts.forEach((function(n,r){n.index===e&&function(e,t){if(!e&&!t)return!0;if(e&&!t)return!1;if(!e&&t)return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}(t,n.addon)&&(a={element:n,index:r})})),a){var l=a.element;l.quantity+=1,r.length>0&&(l.addons=[].concat(r)),n.state.cartProducts[a.index]=l}else n.state.cartProducts.push({index:e,quantity:1,addons:r});var o=n.state.pageData;o.menu_combined[e].quantity=o.menu_combined[e].quantity?o.menu_combined[e].quantity+=1:o.menu_combined[e].quantity=1,n.setState({pageData:o}),n.updateCart(),console.log(n.state)},n.removeProduct=function(e,t){var a=n.state.cartProducts[t];if(a.quantity-=1,n.setState({cartProducts:tt()(n.state.cartProducts,Object(d.a)({},t,{$set:a}))}),0===a.quantity){var r=n.state.cartProducts.slice();r.splice(t,1),n.setState({cartProducts:tt()(n.state.cartProducts,{$set:r})})}var l=n.state.pageData;l.menu_combined[e].quantity=l.menu_combined[e].quantity?l.menu_combined[e].quantity-=1:l.menu_combined[e].quantity=0,n.setState({pageData:l}),n.updateCart()},n.updateCart=function(){var e=0,t=0;n.state.cartProducts.forEach((function(a){var r=0;a.addons&&a.addons.forEach((function(e,t){r+=Number(n.state.pageData.menu_combined[a.index].addon[e].price)})),console.log(r),0!==a.quantity&&(e+=a.quantity,t+=Number(Number(n.state.pageData.menu_combined[a.index].price)+r)*a.quantity)})),n.setState({cartTotal:{productQuantity:e,totalPrice:t}})},n.setScrollPosition=function(e){console.log("setScrollPosition"),n.setState({scrollPosition:e})},n.addDistance=function(e){var t,a=n.state.tiered_delivery;t=e<5e3?a["5km"]:e<1e4?a["10km"]:e<15e3?a["15km"]:e<2e4?a["20km"]:e<25e3?a["25km"]:a["30km"],n.setState({delivery_fee:t,distance:e}),console.log(e)},n.state={language:Mo.get("language"),changePromocode:n.changePromocode,toggleLanguage:n.toggleLanguage,addProduct:n.addProduct,removeProduct:n.removeProduct,changeField:n.changeField,addCustomerDetails:n.addCustomerDetails,changeChannel:n.changeChannel,toggleDialog:n.toggleDialog,addDistance:n.addDistance,data:"en"===Mo.get("language")?re:le,scrollPosition:0,setScrollPosition:n.setScrollPosition,pageName:"",hostName:"",pageData:{},css:{},retrieved:!1,cartProducts:[],cartTotal:{productQuantity:0,totalPrice:0},updating:!1,updated:!0,channel:"",channelDialog:!1,customerDetails:{name:"",address:"",notes:"",customerNumber:"",deliveryTime:"",unit:"",street:"",postal:"",time:Io.getHours()+":"+Io.getMinutes(),date:Io,datetime:Io},delivery_fee:"0",fixed_delivery:0,all_promo:0,selfcollect_promo:0,delivery_option:"none",tiered_delivery:{"5km":0,"10km":0,"15km":0,"20km":0,"25km":0,"30km":0},promo_code:""},n.handleFireBaseUpload=n.handleFireBaseUpload.bind(Object(p.a)(n)),n.handleImageAsFile=n.handleImageAsFile.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=Fo().pageName,t=Fo().hostName;e&&"www"!==e&&"foodleh"!==e&&"sh"!==t&&"now"!==t&&"now.sh"!==t&&this.getDoc()}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<10;a++)t.push(r.a.createElement("div",{style:{width:"500px",margin:"10px"}},r.a.createElement("div",{class:"card shadow",style:{paddingLeft:"0px !important",paddingRight:"0px !important"}},r.a.createElement(va.a,{width:"100%"},r.a.createElement("div",{style:{height:"100px"},class:"card-img-top",alt:""})),r.a.createElement(va.a,{width:"80%"},r.a.createElement("h3",null,".")),r.a.createElement(va.a,{width:"50%"},r.a.createElement("h3",null,".")))));return r.a.createElement(Po.a,{theme:jo},r.a.createElement(f.a,null,r.a.createElement(F.Provider,{value:this.state},r.a.createElement("div",{className:"App"},this.state.pageName&&"www"!==this.state.pageName&&"foodleh"!==this.state.pageName&&"sh"!==this.state.hostName&&"now"!==this.state.hostName&&"now.sh"!==this.state.hostName?r.a.createElement(U.Provider,{value:this.state},this.state.retrieved?r.a.createElement("div",null,r.a.createElement(Ro,{name:this.state.pageData.name,logo:this.state.logo}),r.a.createElement(Jr.a,{ref:_o,maxSnack:2,anchorOrigin:{vertical:"top",horizontal:"center"},action:function(e){return r.a.createElement(fa.a,{onClick:Lo(e)},"Dismiss")}},r.a.createElement(v.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Oo.Page,{pageName:e.state.pageName})}}),r.a.createElement(v.a,{exact:!0,path:"/about",render:function(){return r.a.createElement(Oo.PageAbout,{pageName:e.state.pageName})}}),r.a.createElement(v.a,{exact:!0,path:"/dashboard",render:function(){return r.a.createElement(Oo.PageDashboard,{pageName:e.state.pageName,data:e.state.pageData,css:e.state.css,changeField:e.changeField,saveToFirestore:e.saveToFirestore,updating:e.state.updating,updated:e.state.updated,addMenuItem:e.addMenuItem,logo:e.state.logo,cover:e.state.cover,changeInfo:e.changeInfo,changeColor:e.changeColor,user:e.state.user,changePage:e.changePage,changeDelivery:e.changeDelivery,fixed_delivery:e.state.fixed_delivery,delivery_option:e.state.delivery_option,tiered_delivery:e.state.tiered_delivery,changeDistance:e.changeDistance,all_promo:e.state.all_promo,promo_code:e.state.promo_code,selfcollect_promo:e.state.selfcollect_promo,addAddon:e.addAddon,deleteAddon:e.deleteAddon})}}))):r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(va.a,{width:"100%"},r.a.createElement("div",{class:"jumbotron",style:{height:"300px"}})),t))):r.a.createElement("div",null,r.a.createElement(Oo.Menu,null),r.a.createElement(Bo,null),r.a.createElement(v.a,{exact:!0,path:"/",component:Oo.Home}),r.a.createElement(v.a,{exact:!0,path:"/create",component:Oo.Create}),r.a.createElement(v.a,{exact:!0,path:"/info",component:Oo.Info}),r.a.createElement(v.a,{exact:!0,path:"/searchall",component:Oo.SearchAll}),r.a.createElement(v.a,{exact:!0,path:"/searchall_modified",component:Oo.SearchAll_modified}),r.a.createElement(v.a,{exact:!0,path:"/searchall_iv2",component:Oo.SearchAll_iv2}),r.a.createElement(v.a,{exact:!0,path:"/searchall_iv3",component:Oo.SearchAll_iv3}),r.a.createElement(v.a,{exact:!0,path:"/about",component:Oo.About}),r.a.createElement(v.a,{exact:!0,path:"/driver",component:Oo.Driver}),r.a.createElement(v.a,{exact:!0,path:"/delivery",component:Oo.Delivery}),r.a.createElement(v.a,{exact:!0,path:"/orders",component:Oo.Orders}),r.a.createElement(v.a,{exact:!0,path:"/deliveries",component:Oo.Deliveries}),r.a.createElement(v.a,{exact:!0,path:"/custom",component:Oo.Custom}),r.a.createElement(v.a,{exact:!0,path:"/privacy",component:Oo.PrivacyPolicy})),r.a.createElement("script",{src:"/__/firebase/7.14.1/firebase-app.js"}),r.a.createElement("script",{src:"/__/firebase/7.14.1/firebase-analytics.js"}),r.a.createElement("script",{src:"/__/firebase/init.js"})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"//fonts.googleapis.com/css?family=Open+Sans"}),r.a.createElement(Uo,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports=a.p+"static/media/motor-delivery.8c84f96a.png"},85:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAAB3CAYAAADo8hm/AAAACXBIWXMAAC4jAAAuIwF4pT92AAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTA5VDE1OjM1OjU2KzEwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTA5VDE1OjM1OjU2KzEwOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0wOVQxNTozNTo1NisxMDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjNTU5OTE2Mi03ZGJmLTJjNGEtYmI0OS03ZTdlOWNkNGIzNWYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3ZGQxNzkzNi1hNGIzLTRkNGYtYmQyMy04NWM3YTVlYjA1YWMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNDBjZGJlMS05N2QyLTFlNDEtOTAzYS0yYjI3NjNiZTc0ZmUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI0MGNkYmUxLTk3ZDItMWU0MS05MDNhLTJiMjc2M2JlNzRmZSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0wOVQxNTozNTo1NisxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjNTU5OTE2Mi03ZGJmLTJjNGEtYmI0OS03ZTdlOWNkNGIzNWYiIHN0RXZ0OndoZW49IjIwMjAtMDUtMDlUMTU6MzU6NTYrMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Fxj9TAAAPaklEQVR4nO2dW5Ac1XnHf6cvszN7kfailXa1AoQkJGQkBRshIQuBDCociTgqBwrs4lZOOS9x4kqqYioPefFDUpVUUnnIzTy4cqFcEEs2lElsjICgXIiElXUZJHBghS5G0mrRJdrdWe3MdPfJw9e9MysLNLt7ereHPb/aU9PT03P67Jx/f993Tp8+B+YvHvBNYAiIgMvTTBo4DvweoGax/JaMcCPwGiIiPcMUAv8CtMzmP5AlnLkuwByyE1iNGSviAOuB+w3k1ZB4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"}},[[403,1,2]]]);
//# sourceMappingURL=main.f001d48e.chunk.js.map