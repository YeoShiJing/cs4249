{"version":3,"sources":["i_want.jpeg","foodleh.png","assets/gradient.png","delivery_2.png","dabao_2.png","placeholder.png","chinese-iwant.png","assets/whatsapp_icon.png","driver.png","fb.png","insta.png","email.png","chinese_delivery_2.png","chinese_dabao_2.png","store_address.png","delivery_address.png","summary.png","check-delivry-rates.png","home-bs.png","logo-header-nologo.png","assets/list_en.png","assets/website_en.png","assets/list_cn.png","assets/website_cn.png","assets/info_menu.png","assets/orderleh_title.png","assets/info_delivery.png","assets/info_review_order.png","logo-black.png","hashtag.jpeg","mrt_logo.png","question.png","infographic.jpg","assets/custom.png","Components/Firestore.js","Components/themeContext.js","Components/Home.js","Components/Menu.js","Components/Create.js","Components/Item.js","Components/Listing.js","Components/Results.js","Components/CartProgress.js","Components/Clap.js","Components/Info.js","Components/About.js","Helpers/helpers.js","Components/DeleteModal.js","Components/Popup.js","Helpers/categories.js","Components/SearchAll.js","Components/SearchAll_modified.js","Components/SearchAll_iv2.js","Components/SearchAll_iv3.js","Components/ListForm.js","Components/ItemRendered.js","Components/Driver.js","Components/Delivery.js","Components/Orders.js","Components/Deliveries.js","Components/Search.js","Components/Page.js","Components/PageAbout.js","Components/PageItem.js","Components/Thumb.js","Components/PageCartProduct.js","Components/PageCart.js","Components/PageCartChannel.js","Components/PageDashboard.js","Components/PageConfirm.js","Components/Custom.js","Components/PrivacyPolicy.js","Components/index.js","App.js","serviceWorker.js","index.js","assets/motor-delivery.png","assets/styrofoam-dabao.png"],"names":["module","exports","firebase","require","window","geofirex","initializeApp","apiKey","process","REACT_APP_FIRESTORE_KEY","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","uiConfig","signInFlow","signInOptions","provider","auth","PhoneAuthProvider","PROVIDER_ID","defaultCountry","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","uiConfigPage","credentialHelper","EmailAuthProvider","analytics","db","firestore","storage","geo","init","geoToPromise","get","__esModule","default","LanguageContext","React","createContext","language","toggleLanguage","CartContext","cartProducts","cartTotal","productQuantity","totalPrice","addProduct","cookies","Cookies","Home","state","data","option","retrieved","count","open","retrieveData","a","collection","then","snapshot","setState","docs","length","catch","error","console","log","handleCollect","handleDelivery","handleClose","event","preventDefault","this","val","languageContext","context","delivery_option","selfcollect","class","className","userAgent","navigator","vendor","opera","test","MSStream","getMobileOperatingSystem","Snackbar","anchorOrigin","vertical","horizontal","message","style","fontSize","action","Fragment","IconButton","size","aria-label","color","onClick","alt","src","home","width","href","target","margin","fb","insta","email","TelegramIcon","round","i_want","chinese_i_want","self_collect","chinese_self_collect","delivery","chinese_delivery","backgroundColor","Consumer","choose","dabao","or","delivery_word","now_enter","postalcode","Search","renderPostalCodeForm","wehave","listings","goto","createlink","nowtoadd","percent","strokeWidth","strokeColor","PureComponent","button","logEvent","Menu","props","en","zh","Navbar","bg","variant","position","zIndex","Brand","as","Link","to","logo","height","name","Toggle","Collapse","id","Button","borderColor","menu","language_button","Nav","homelabel","searchlabel","createlabel","aboutlabel","Component","Create","create","changeCreate","change","scrollToMyRef","scrollTo","myRef","offsetTop","createRef","marginTop","createfree","flexShrink","minWidth","maxWidth","marginBottom","list_en","list_cn","website_en","website_cn","existing","ref","createlisting","createwebsite","ListForm","toggle","contextType","withRouter","Item","handleClick","setScrollPosition","pageYOffset","history","push","pathname","search","thumbnail","encodeURIComponent","pic","undefined","distance","top","right","slice","placeholder","placeholderSrc","promo","claps","borderRadius","left","opacity","xmlns","viewBox","d","paddingLeft","fontWeight","textAlign","summary","lineHeight","responsive","superLargeDesktop","breakpoint","max","min","items","partialVisibilityGutter","desktop","tablet","mobile","Listing","limit","forEach","doc","exists","temp","query","queryString","parse","location","postal","longitude","lng","latitude","lat","result","islandwide","local","filtered","filter","map","padding","street","cuisine","includes","paddingTop","ssr","infinite","partialVisible","swipeable","draggable","minimumTouchDrag","transitionDuration","slidesToSlide","Spinner","animation","Results","listing","loading","headline","LinearProgressWithLabel","Box","display","alignItems","flexDirection","mr","LinearProgress","ProgressIndicator","targetValue","Grid","container","direction","toFixed","toLowerCase","value","deliveryFee","discount","channel","pageData","minimum_order","free_delivery","delivery_fee","all_promo","selfcollect_promo","Number","Clap","updateClap","update","countTotal","isClicked","_handleClick","bind","triangleBurst","mojs","Burst","parent","radius","50","angle","children","shape","6","scale","stroke","delay","speed","easing","bezier","duration","circleBurst","fill","3","countAnimation","Html","el","isShowStart","isShowEnd","y","0","1","tlDuration","countTotalAnimation","scaleButton","1.3","out","document","getElementById","transform","_animationTimeline","Timeline","add","Math","floor","random","replay","prevState","nextState","getAppContent","REACT_APP_BITLY_KEY","bitly","BitlyClient","time_now","Date","onLoad","item","setMinutes","getMinutes","ScrollTop","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","in","anchor","ownerDocument","querySelectorAll","scrollIntoView","behavior","block","role","bottom","popover","Popover","Content","dayName","monthNames","formatAMPM","date","hours","getHours","minutes","ampm","Info","getDoc","orderData","Array","menu_combined","reload","updateCustomerDetails","inputField","inputValue","getPostal","handleCustomerDetails","updateSavedData","shouldRememberDetails","callPostal","fetch","response","json","jsonResponse","setOrderText","text","i","numItems","parseInt","thisPrice","parseFloat","price","calculateDeliveryFee","includesDelivery","isNaN","unit","time_text","datetime","getDay","getDate","getMonth","notes","customerNumber","storeData","URLSearchParams","append","contact","url","toString","shorten","link","shortenedURL","additional_text","addItem","idx","$set","minusItem","getMenu","without_first_item","element","minHeight","alignContent","description","whatsapp","JSON","stringify","renderFullscreenButton","isFullscreen","fillRule","clipRule","type","showReviewEditMessage","hasReviewEditMessage","hasReviewDeleteMessage","setTimeout","showReviewDeleteMessage","handleSubmit","alert","handleTime","time","getFullYear","handleDate","defineDelivery","feeString","replace","fee","NaN","baseFee","wantToOrder","galleryOpened","hero","activePhoto","enterDetails","formatSummary","toggleShouldRememberDetails","localStorage","getItem","userDetails","isChecked","setItem","clear","checked","regions","photos","whatsAppLink","categories","key","tagsValue","original","image1","image2","image3","image4","image5","background","backgroundSize","useBrowserFullscreen","showPlayButton","useTranslate3D","slideDuration","slideInterval","slideOnThumbnailOver","thumbnailPosition","textTransform","website","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","sms","call","wechatid","pickup_option","marginLeft","x","points","delivery_detail","whiteSpace","opening","condition","orderleh_title","menu_title","gradient","Form","onSubmit","revieworder","CartProgress","delivery_title","for","onChange","maxLength","minlength","pattern","required","dayPlaceholder","monthPlaceholder","yearPlaceholder","format","hourPlaceholder","minutePlaceholder","disableClock","OverlayTrigger","placement","overlay","disabled","paddingRight","cursor","description_detail","FacebookShareButton","quote","hashtag","FacebookIcon","marginRight","whatsapp_icon","TelegramShareButton","title","TwitterShareButton","TwitterIcon","Popup","onSubmitEdit","onSubmitDelete","Fab","About","about","aboutus","para_one","para_two","para_three","para_four","howtouse","forappusers","appusers","forfnb","fnb","disclaimer","docId","originalName","actionWord","listformFields","EMAIL_API_KEY","REACT_APP_EMAIL_API_KEY","email_params","listing_id","listing_name","action_word","emailjs","send","getLatLng","getPlanningArea","postal_lat","postal_lon","getOneMapToken","pln_area_n","requestNewOneMapToken","urls","Promise","all","method","mode","headers","from","sentosa","String","now","expiry","newQuery","newToken","access_token","newExpiry","expiry_timestamp","compareString","str1","str2","capitalizeFirstLetter","sentence","words","split","j","charAt","toUpperCase","substr","join","mapSnapshotToDocs","sendEmailToUpdateListing","postalPlanningRegion","postal_addressdetails","planningarea","districtpostal","eastlist","westlist","northlist","northeastlist","region","getPlanningDetails","sendDeleteEmail","docid","Helpers","DeleteModal","setHideDeleteModal","hideDeleteModal","handleSubmitDelete","isDeleting","showDeleteModal","prevProps","Modal","onHide","show","dialogClassName","aria-labelledby","Header","closeButton","Title","Body","float","aria-hidden","setShowEditModal","showEditModal","setHideEditModal","handleSubmitEdit","hasEdit","setShowDeleteModal","border","alignText","lastmodified","postition","toDate","toDateString","values","searchTimer","searchInitialState","pickup","searchPostal","cuisineValue","isCuisineMenuOpen","SearchAll","c","label","where","tags","v","trim","menu_list","scrollPosition","findDataByPostal","centre","point","within","placesById","userRegion","Object","handleCuisineChange","handleCuisineMenuOpen","handleCuisineMenuClose","handleChange","clearTimeout","latlng","LATITUDE","LONGITUDE","handleToggle","currentTarget","queryParams","cuisine_format","cuisines","select","isMulti","closeMenuOnSelect","isDisabled","options","classNamePrefix","onMenuOpen","onMenuClose","filterby","nearby","skeletons","index","Skeleton","sort","b","lat1","lon1","lat2","lon2","radlat1","PI","radlat2","theta","radtheta","dist","sin","cos","acos","distance_calc","alllistings","prompt","cuisineSearch","minLength","autoComplete","autoFocus","bag","motor","distSplit","itemPerLine","body","scrollWidth","documentElement","offsetWidth","clientWidth","wantToView","ev","distCounter","dataset","tag","toShow","showList","groupCounter","groupSizes","keys","difference","division","endDiv","itemDiv","overlayid","hider","data-tag","fixedHider","divider","paddingBottom","admin","REACT_APP_ADMIN","icon","fill-rule","clip-rule","createDomain","cover","uid","set","css","menu_color","menu_font_color","e","custom","handleData","image6","inperson","editedFields","takesg","website_name","field","docRef","editedFieldsAndValues","_","pick","getEditedFields","specialKeys","edited_fields","initialVal","initialState","currentVal","isEqual","prototype","hasOwnProperty","relatedKey","firebaseUser","available","newMenucombined","isLoading","newId","dialogOpen","saveStateToLocalStorage","current","idxToChange","checkAvailable","invalid","handleMenu","handleMenuDisplay","menuitem","maxlength","handleImageAsFile","image","files","newName","getTime","reader","FileReader","readAsArrayBuffer","onload","blob","Blob","URL","webkitURL","blobURL","createObjectURL","Image","handleFireBaseUpload","Jimp","read","quality","resize","AUTO","getBase64","err","res","putString","on","snapShot","child","getDownloadURL","fireBaseUrl","querySnapshot_cuisine","getTags","cloneDeep","handleCreate","newOption","newTagsValue","_renderMenuItemChildren","imageFile1","imageFile2","imageFile3","imageFile4","imageFile5","imageFile6","imageName","handleRegionChange","handleMultiChange","handleTagsChange","handleClear","useDeviceLanguage","onAuthStateChanged","user","displayName","getFirestoreData","getInitialState","maps","apiReady","storedData","fireData","data_mrt","data_cuisine","cuisineOptions","newRegion","newCuisineValue","isClearable","onCreateOption","placeholdertags","placeholdercuisine","Dialog","onClose","aria-describedby","DialogTitle","DialogContent","DialogContentText","wordWrap","DialogActions","uploadimages","uploadimagedescription","uploadmenu","preview","previewdescription","notsatisfied","step1","pleaseenter","stallname","placeholderstallname","cuisinecategory","selectmultiple","contactnumber","placeholderpostalcode","streetname","autofill","placeholderstreetname","placeholderunit","briefdescription","max45chars","placeholderbriefdescription","selfcollectordelivery","important","selfcollection","deliveryoptions","whichregion","regionSearch","deliveryfees","placeholderfees","minumum_order","deliverydetails","placeholderdeliverydetails","rows","additem","addmoreitem","step2","additional","placeholderadditional","entermultiple","tagsSearch","generalpromo","eightchars","placeholderdiscount","placeholdercondition","placeholderhours","TextField","InputProps","endAdornment","InputAdornment","signOut","login","firebaseAuth","submit","ItemRendered","API_KEY","REACT_APP_GKEY","Transition","forwardRef","Slide","marks","addData","postal_to","latitude_to","longitude_to","street_to","cost","unit_to","contact_to","note","arrival","viewed","expired","cancelled","Driver","getMap","loadingMap","regionFrom","regionTo","retrievedMap","getDirections","loadingDir","valueOf","referrerPolicy","contents","routes","legs","minCost","isCostBelowMin","directions","retrievedDir","sendData","submitting","status","driver","timelimit","path","origin","destination","requester_mobile","submitted","handleVerify","phoneNumber","appVerifier","recaptchaVerifier","signInWithPhoneNumber","confirmationResult","handleSlider","setShow","setHide","handleClickOpen","planningDetails","invalidPostal_to","invalidPostal","RecaptchaVerifier","callback","instructions","fullScreen","TransitionComponent","AppBar","Toolbar","edge","Typography","flex","confirm","List","component","ListItem","ListItemText","primary","deliveryfrom","secondary","deliveryto","mobilenumber","pickuptime","drivernote","deliverycost","justifyContent","clicktosearch","question","rules","rules1","rules2","rules3","thankyou","check_rates","autocomplete","estduration","startIcon","download","viewmap","mapwillload","arrangedelivery","verified","store_address","delivery_address","pickupdate","placeholderdrivernote","estarrival","Slider","valueLabelDisplay","step","fillindetails","iagree","review","updateData","driver_contact","paynow_alternate","timeaccepted","Delivery","cancelDoc","loadingCancel","cancel","cancelData","driver_name","payment","foodleh_id","message_id","foodleh","deliverysg_id","deliverysg","driver_mobile","customer_mobile","languageCode","Orders","dataToReturn","deliveryData","handleResubmit","hawker_contact","dataToDisplay","pickupTime","urlData","Deliveries","results","ADDRESS","iv2","iv3","InfoMenu","PageCart","toggleDialog","ResponsiveDialog","theme","useTheme","useMediaQuery","breakpoints","down","useContext","channelDialog","changeChannel","PageConfirm","Page","pageName","address","deliveryTime","getSocialSharing","PageItem","quantity","addon","stroke-width","stroke-linecap","stroke-linejoin","closeChannelDialog","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","flexBasis","ExpansionPanelDetails","PageAbout","targetId","substring","indexOf","addonsList","addons","FormControlLabel","control","Checkbox","dialog","menuIndex","enqueueSnackbar","getAttribute","withSnackbar","Thumb","classes","PageCartProduct","handleMouseOver","isMouseOver","handleMouseOut","handleOnIncrease","handleOnDecrease","cartIndex","removeProduct","addonsTotal","product","img","PromoCodeDialog","promoDialog","closeFloatPromo","promo_code_input","changePromocode","promo_code_valid","isOpen","openFloatCart","closeFloatCart","openFloatPromo","changeProductQuantity","changedProduct","updateCart","find","p","products","promo_code","verticalAlign","PageCartChannel","customerDetails","useStyles","makeStyles","root","drawer","up","appBar","menuButton","spacing","saveButton","toolbar","mixins","drawerPaper","content","flexGrow","cardMedia","objectFit","DashboardItem","changeField","startAdornment","Card","CardContent","addAddon","deleteAddon","WrappedDashboardItem","memo","nextProps","MenuSettings","endRef","useRef","useSnackbar","useCallback","addMenuItem","sm","InfoSettings","justify","xs","changeInfo","CardHeader","CardMedia","TextFieldProps","defaultValue","changeColor","multiline","DeliverySettings","entries","TableRow","TableCell","scope","align","tiered_delivery","changeDistance","FormControl","FormLabel","RadioGroup","changeDelivery","Radio","fixed_delivery","changePage","TableContainer","Paper","Table","table","TableHead","TableBody","OrderSettings","orders","orderItems","formattedDate","order_text","PromoSettings","PageDashboardContainer","useState","mobileOpen","setMobileOpen","tab","setTab","handleDrawerToggle","Divider","updateFields","saveToFirestore","CssBaseline","noWrap","updating","updated","Hidden","smUp","implementation","Drawer","paper","ModalProps","keepMounted","xsDown","userSignOut","PageDashboard","users","orderTime","FullScreenDialog","addCustomerDetails","addonValue","addonIndex","addOrder","addDistance","Custom","increaseStep","decreaseStep","getSteps","setOpen","setClose","creating","created","getStepContent","Autocomplete","onOpen","getOptionSelected","getOptionLabel","newValue","fullname","renderInput","params","CircularProgress","steps","Stepper","activeStep","orientation","Step","StepLabel","StepContent","PrivacyPolicy","SearchAll_modified","SearchAll_iv2","SearchAll_iv3","createMuiTheme","palette","light","main","dark","contrastText","typography","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","notistackRef","onClickDismiss","closeSnackbar","SeoHelmet","home_url","Helmet","charSet","rel","sizes","property","PersonalHelmet","image_url","getPage","hostName","host","isDev","splitHost","App","newDetail","targetField","domain","redirect","deleteMenuItem","addonId","$push","$splice","productIndex","findElement","arr1","arr2","arraysMatch","newElement","newPageData","cartProductsCopy","splice","addonElement","pos","tier","ThemeProvider","Provider","maxSnack","exact","render","Components","Boolean","hostname","match","ReactDOM","StrictMode","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9a984a14.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/i_want.25975eeb.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/foodleh.bca86764.png\";","module.exports = __webpack_public_path__ + \"static/media/gradient.fb6d2f13.png\";","module.exports = __webpack_public_path__ + \"static/media/delivery_2.ff7f517b.png\";","module.exports = __webpack_public_path__ + \"static/media/dabao_2.e693d390.png\";","module.exports = __webpack_public_path__ + \"static/media/placeholder.1f25c33e.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAABYCAYAAAAz+oHmAAAACXBIWXMAAC4jAAAuIwF4pT92AAAHCGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTI4VDE3OjQxOjE4KzEwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTI4VDE3OjQxOjE4KzEwOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0yOFQxNzo0MToxOCsxMDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphOGMzN2FhOS0wOWE4LTkzNGYtOTNhOS0wYTZkMTRkZmJhNzYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozODZkMjcwYS1kNjUzLTNmNDEtOWEwNy01OTM4OTM0Mjc0ZDQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NDYwMzM0ZC1kMDYwLTdjNGQtODMwMy05YTM2NzNlZTJjZDciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjk0NjAzMzRkLWQwNjAtN2M0ZC04MzAzLTlhMzY3M2VlMmNkNyIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0yOFQxNzo0MToxOCsxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphOGMzN2FhOS0wOWE4LTkzNGYtOTNhOS0wYTZkMTRkZmJhNzYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMjhUMTc6NDE6MTgrMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+NDdGMUQ0QjUzMjAxNDcxRDFEM0NFRDNCNjA3QTgyNzc8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6MDI3Mjc4OGUtMTBiZC1kYzQ2LWE3MzUtZWFhZDIyM2I4MWUyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDphOTlmNWZiNi1mNDE2LWJiNDktOGI4Ny1mZGIyNTg0MzU1YzQ8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6GDyzoAAAE1UlEQVR4nO2d227cMAwFvUX//5e3D63b7cIX2SbFQ3IGCJA0jVaWOKIk316LJu+P719htQAohJJI74PfndXz6G9HywAozc/Azx4RFACMmJXtLMQ+qutZ+dmyOgOhLdn63wWPzO4VqO+FTgO4zV3ZyTwAydiTXVVm7+y+HjczCCjHj6+f34uu6N68d74HKEHkbvwoM7LsltzsEUAplGSPEusoizOthzJEyh4t0JWp+uwsP7ttnlzQNKM8MOB7zd6lI+6syVnHQ2qsMvvWIKEsx1rfq3VkHQ9pGZW9aoC/FoSHJmzJ3i2Q7wgPkI7vNXtXug1w0BBk/8eo8AwMkBJk/58zkREd0qJ0UY0Ke2t4JdFn7jFYf5Z1eUr9Ig2ZfZvvACKgID1k9n0QHEpBZgdoArIDNAHZAZqA7ABNuHtDCBzjvbmnfkuqenktIbMDNAHZAZqA7ABNQHaAJiA7QBOQHaAJyA7QhPVGGI9zlTPfrFrtLa4A5pDZAZrALa71UH/YBFdrBkFmB2gCsgM0AdkBmoDsAE1A9mPeCxtKUARk3+e98z1ASjj1ts2W3Ou/qV+gY12/vYFuZjsw2BqA7NfJIr0FR5J9/s67LTq0tTsZZfd+ZfJoFol8dbNS8CvVBQ7IsmZ/L/9vln0LeRZwTAOvM9JmiJ4I1cweJefo51YPckQviIrsCpkX0X+D6EWJlF1B8KtUD3JEL0yWNbs3GQeeCBA9MZaZPaswKtP3DO2XoY5ntB2w7speodOv0DZAoA4jsquIHfHoLIAyvBbtgL8q+JVn0alM31eU+6ESbWdpKqfeVtTEahsYUA8F2REKYAKRskdJTlaHlkSu2b1ksjie6qIrXDyjUIdW/FhsG/T18ZWVzHUfQUEyhTq04+k0ng7JhYJknHUI4qrs1eWufHwKoo+iUo9SHJ13ftrgke9fu5M9KgeYiugq9WjJ3o0w3Rq88vGqCKZSj7Z8TuO7NnTl41ZZH6vUozUKF9VYcyWwEP38/3ov56w+B06oJDvZ4x+WbbFV1qiYiC5E5CaZ5Wc/Ce5qgRYx6G21IaKLUUH2qCvmIh8lvUe22Y1a+53h8c4A6zJ3y8ssu2Vg35X97t96kkV4tXY7wuOtONZlnpaXUXavYH5677xa8I4Gk8q0XxWPU4bWZQ6Vl+2Bk56B+bRstTe+bt2jsBVAr6+vGSi10xEe9bQuc7i8LJndYgPOesMo8grB2XjLqdhWV4955Bisy7xUnvqpN8td9tHbeUfW4p1EXxb/qf/Ml0S2RVX2p8FkETCKu+0KeGd5xHdCTXbv02hXH9axFXhZ1pvWRBw34huiILtVEI0Gw92n83SUXOmYVU91pkFlgy5i2u4ZyJkD0mN2pXK69CoeVwHO3ij+W55CZn/Ck872ev5eNtFnXJxkObB/Qra/QGRGfDr6K11u+4lq4CnOZDIMth5nXqzLHCovo+zKT6VdlljZZ6+xVQfcZZlzo1X5y2U9pfC8r3oEhVN+3yhtkq2oPVJsD9VZVghZ1uyzOu3J6bXqomfog61y4A/qskd1WPdz6iuRwtAHxkRurGQbeT3WbXc/0xPlfone10lNlOx0xjgdb0I5I3pvJyXq03iwpYoIe1P8KsfnwmzZ6Yw5dGln1vUX6BIUmYnYK4CC/AIJPeLuyl7KIAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/whatsapp_icon.9500e026.png\";","module.exports = __webpack_public_path__ + \"static/media/driver.bccb5d99.png\";","module.exports = __webpack_public_path__ + \"static/media/fb.781ee9eb.png\";","module.exports = __webpack_public_path__ + \"static/media/insta.b2aa37d3.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/chinese_delivery_2.36b2bede.png\";","module.exports = __webpack_public_path__ + \"static/media/chinese_dabao_2.d3ab11dd.png\";","module.exports = __webpack_public_path__ + \"static/media/store_address.d5892e03.png\";","module.exports = __webpack_public_path__ + \"static/media/delivery_address.ac5a10d6.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcYAAABpCAYAAACgX4OmAAAACXBIWXMAAC4jAAAuIwF4pT92AAAIaGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTAxVDE1OjA3OjE5KzEwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTAxVDE1OjA3OjE5KzEwOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0wMVQxNTowNzoxOSsxMDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjNzdhNjU1OC05M2U1LTJhNGEtOWIyZC0xZTA2NjYwODU2MTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmY2MxY2ZmYS00MjI4LWZjNDQtODYwNS02ZDA4NjE0N2MxOWYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5ZTBlZGZjYS1iYjJkLTQ1NDctYTk0OC01YTUzODRjYmNlYTEiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjllMGVkZmNhLWJiMmQtNDU0Ny1hOTQ4LTVhNTM4NGNiY2VhMSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0wMVQxNTowNzoxOSsxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjNzdhNjU1OC05M2U1LTJhNGEtOWIyZC0xZTA2NjYwODU2MTUiIHN0RXZ0OndoZW49IjIwMjAtMDUtMDFUMTU6MDc6MTkrMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJTdW1tYXJ5IiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJTdW1tYXJ5Ii8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+NDdGMUQ0QjUzMjAxNDcxRDFEM0NFRDNCNjA3QTgyNzc8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6OTEyMjc4YzktNGQ1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\"","module.exports = __webpack_public_path__ + \"static/media/check-delivry-rates.8f8f4954.png\";","module.exports = __webpack_public_path__ + \"static/media/home-bs.c8e66f5f.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-header-nologo.621c3aab.png\";","module.exports = __webpack_public_path__ + \"static/media/list_en.225dbeeb.png\";","module.exports = __webpack_public_path__ + \"static/media/website_en.f8b1d32e.png\";","module.exports = __webpack_public_path__ + \"static/media/list_cn.1924a4dc.png\";","module.exports = __webpack_public_path__ + \"static/media/website_cn.e3b1abbd.png\";","module.exports = __webpack_public_path__ + \"static/media/info_menu.0cfc412a.png\";","module.exports = __webpack_public_path__ + \"static/media/orderleh_title.348985c2.png\";","module.exports = __webpack_public_path__ + \"static/media/info_delivery.fe4b3f4d.png\";","module.exports = __webpack_public_path__ + \"static/media/info_review_order.611fed97.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-black.2982e069.png\";","module.exports = __webpack_public_path__ + \"static/media/hashtag.caf700ce.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/mrt_logo.85bd227c.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/infographic.dbbfaf1d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/custom.a126aab4.png\";","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\nconst firebase = require(\"firebase\");\r\nrequire(\"firebase/firestore\");\r\nrequire(\"firebase/auth\");\r\nrequire(\"firebase/storage\");\r\n\r\nif (typeof window !== \"undefined\") {\r\n  require(\"firebase/analytics\");\r\n}\r\n\r\nconst geofirex = require(\"geofirex\");\r\n\r\nfirebase.initializeApp({\r\n  apiKey: `${process.env.REACT_APP_FIRESTORE_KEY}`,\r\n  authDomain: \"hawkercentral.firebaseapp.com\",\r\n  databaseURL: \"https://hawkercentral.firebaseio.com\",\r\n  projectId: \"hawkercentral\",\r\n  storageBucket: \"hawkercentral.appspot.com\",\r\n  messagingSenderId: \"596185831538\",\r\n  appId: \"1:596185831538:web:9cbfb234d1fff146cf8aeb\",\r\n  measurementId: \"G-Z220VNJFT9\",\r\n});\r\n\r\nconst uiConfig = {\r\n  // Popup signin flow rather than redirect flow.\r\n  signInFlow: \"popup\",\r\n  // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\r\n  // We will display Google and Facebook as auth providers.\r\n  signInOptions: [\r\n    {\r\n      provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n      defaultCountry: \"SG\",\r\n    },\r\n  ],\r\n  callbacks: {\r\n    signInSuccessWithAuthResult(authResult, redirectUrl) {\r\n      // Do not automatically redirect.\r\n      return false;\r\n    },\r\n  },\r\n};\r\n\r\nconst uiConfigPage = {\r\n  // Popup signin flow rather than redirect flow.\r\n  signInFlow: \"popup\",\r\n  // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\r\n  // We will display Google and Facebook as auth providers.\r\n  credentialHelper: 'none',\r\n  signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID],\r\n  callbacks: {\r\n    signInSuccessWithAuthResult(authResult, redirectUrl) {\r\n      // Do not automatically redirect.\r\n      return false;\r\n    },\r\n  },\r\n};\r\n\r\nif (typeof window !== \"undefined\") {\r\n  firebase.analytics();\r\n}\r\n\r\nconst db = firebase.firestore();\r\nconst storage = firebase.storage();\r\n\r\nconst geo = geofirex.init(firebase);\r\nconst geoToPromise = geofirex.get;\r\n\r\nmodule.exports = {\r\n  __esModule: true,\r\n  geo,\r\n  geoToPromise,\r\n  db,\r\n  storage,\r\n  firebase,\r\n  uiConfig,\r\n  uiConfigPage,\r\n  default: firebase,\r\n};\r\n","import React from \"react\";\r\n\r\nexport const languages = {\r\n  en: \"en\",\r\n  zh: \"zh\",\r\n};\r\n\r\n// const { Provider, Consumer } = React.createContext();\r\n\r\n// class LanguageContextProvider extends Component {\r\n//   state = {\r\n//     language: languages.en, // default value\r\n//     toggleLanguage: () => {},\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <Provider\r\n//         value={this.state}\r\n//       >\r\n//       </Provider>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// class LanguageContextConsumer extends Component {\r\n//   state = {\r\n//     language: languages.en, // default value\r\n//     toggleLanguage: () => {},\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <Consumer\r\n//         value={this.state}\r\n//       >\r\n//       </Consumer>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export { LanguageContextProvider, LanguageContextConsumer };\r\n\r\nexport const LanguageContext = React.createContext({\r\n  language: languages.en, // default value\r\n  toggleLanguage: () => {},\r\n});\r\n\r\nexport const CartContext = React.createContext({\r\n  cartProducts: [],\r\n  cartTotal: {\r\n    productQuantity: 0,\r\n    totalPrice: 0,\r\n  },\r\n  addProduct: () => {},\r\n});\r\n\r\n// const { Provider, Consumer } = React.createContext();\r\n\r\n// class ThemeContextProvider extends Component {\r\n//   state = {\r\n//     language: \"Day\"\r\n//   };\r\n\r\n//   toggleLanguage = () => {\r\n//     this.setState(prevState => {\r\n//       return {\r\n//         language: prevState.language === \"en\" ? \"zh\" : \"en\"\r\n//       };\r\n//     });\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <Provider\r\n//         value={{ language: this.state.language, toggleLanguage: this.toggleLanguage }}\r\n//       >\r\n//         {this.props.children}\r\n//       </Provider>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export { ThemeContextProvider, Consumer as ThemeContextConsumer };\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport Component from \"../Components\";\r\nimport home from \"../home-bs.png\";\r\nimport i_want from \"../i_want.jpeg\";\r\nimport fb from \"../fb.png\";\r\nimport insta from \"../insta.png\";\r\nimport email from \"../email.png\";\r\nimport Cookies from \"universal-cookie\";\r\nimport delivery from \"../delivery_2.png\";\r\nimport self_collect from \"../dabao_2.png\";\r\nimport chinese_i_want from \"../chinese-iwant.png\";\r\nimport chinese_delivery from \"../chinese_delivery_2.png\";\r\nimport chinese_self_collect from \"../chinese_dabao_2.png\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport { TelegramIcon } from \"react-share\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport \"./Home.css\";\r\nimport { Line } from \"rc-progress\";\r\nimport { db } from \"./Firestore\";\r\n\r\nconst cookies = new Cookies();\r\nconst SELF_COLLECT_OPTION = \"selfcollect\";\r\nconst HOME_DELIVERY_OPTION = \"delivery\";\r\n\r\nfunction getMobileOperatingSystem() {\r\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n  // Windows Phone must come first because its UA also contains \"Android\"\r\n  if (/windows phone/i.test(userAgent)) {\r\n    return \"Windows Phone\";\r\n  }\r\n\r\n  if (/android/i.test(userAgent) && /version/i.test(userAgent)) {\r\n    return \"Android\";\r\n  }\r\n\r\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n    return \"iOS\";\r\n  }\r\n  return \"unknown\";\r\n}\r\n\r\nexport class Home extends React.PureComponent {\r\n  state = {\r\n    data: [],\r\n    option: \"\",\r\n    retrieved: false,\r\n    count: 500,\r\n    open: true,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.retrieveData();\r\n  }\r\n\r\n  getData(val) {\r\n    this.setState({ data: val });\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    let data = [];\r\n    await db\r\n      .collection(\"hawkers\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        this.setState({ count: snapshot.docs.length });\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    this.setState({ data: data, retrieved: true });\r\n  };\r\n\r\n  handleCollect = () => {\r\n    this.setState({ option: SELF_COLLECT_OPTION });\r\n  };\r\n  handleDelivery = () => {\r\n    this.setState({ option: HOME_DELIVERY_OPTION });\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    let languageContext = this.context;\r\n    console.log(\"home is rendering\");\r\n    console.log(languageContext.language);\r\n    let delivery_option =\r\n      this.state.option === \"delivery\" ? \"home-option-clicked\" : \"home-option\";\r\n    let selfcollect =\r\n      this.state.option === \"selfcollect\"\r\n        ? \"home-option-clicked\"\r\n        : \"home-option\";\r\n\r\n    return (\r\n      <div class=\"container-fluid\" className=\"home\">\r\n        <div class=\"jumbotron row\">\r\n          <div class=\"container\">\r\n            {getMobileOperatingSystem() === \"Android\" ? (\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                open={this.state.open}\r\n                // autoHideDuration={10000}\r\n                // onClose={this.handleClose}\r\n                message={\r\n                  <div style={{ fontSize: \"30px\" }}>\r\n                    Android App is no longer working. Please use browser and\r\n                    visit <b>www.foodleh.app</b> instead.\r\n                  </div>\r\n                }\r\n                action={\r\n                  <React.Fragment>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      aria-label=\"close\"\r\n                      color=\"inherit\"\r\n                      onClick={this.handleClose}\r\n                    >\r\n                      <CloseIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            ) : null}\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <img\r\n                  alt=\"Cut the middlemen - Save our local F&amp;B\"\r\n                  class=\"img-fluid\"\r\n                  src={home}\r\n                  style={{ width: \"80%\" }}\r\n                />\r\n                <br />\r\n                <br />\r\n                <div class=\"d-none d-md-inline-block\">\r\n                  <span style={{ fontSize: \"10px\" }}>Connect with us:</span>\r\n                  <br />\r\n                  <a href=\"https://www.facebook.com/foodlehsg/\" target=\"blank\">\r\n                    <img\r\n                      class=\"img-fluid\"\r\n                      style={{ width: \"30px\", margin: \"10px\" }}\r\n                      alt=\"fb\"\r\n                      src={fb}\r\n                    />\r\n                  </a>\r\n                  <a href=\"https://instagram.com/foodleh.sg\" target=\"blank\">\r\n                    <img\r\n                      class=\"img-fluid\"\r\n                      style={{ width: \"30px\", margin: \"10px\" }}\r\n                      alt=\"insta\"\r\n                      src={insta}\r\n                    />\r\n                  </a>\r\n                  <a href=\"mailto:foodleh@outlook.com\" target=\"blank\">\r\n                    <img\r\n                      class=\"img-fluid\"\r\n                      style={{ width: \"30px\", margin: \"10px\" }}\r\n                      alt=\"email\"\r\n                      src={email}\r\n                    />\r\n                  </a>\r\n                  <a href=\"https://t.me/foodleh\" target=\"blank\">\r\n                    <TelegramIcon\r\n                      size={32}\r\n                      round={true}\r\n                      style={{ margin: \"10px\" }}\r\n                    />\r\n                    {/* <img\r\n                      class=\"img-fluid\"\r\n                      style={{ width: \"30px\", margin: \"10px\" }}\r\n                      alt=\"telegram\"\r\n                      src={TelegramIcon}\r\n                    /> */}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6 align-items-center justify-content-center\">\r\n                <br />\r\n                <img\r\n                  alt=\"I want...\"\r\n                  class=\"home-iwant\"\r\n                  src={\r\n                    cookies.get(\"language\") === \"en\" ? i_want : chinese_i_want\r\n                  }\r\n                />\r\n                <br />\r\n                <br />\r\n                <span class=\"row d-none d-md-inline-block\">\r\n                  <span class=\"col\">\r\n                    <img\r\n                      onClick={this.handleCollect}\r\n                      alt=\"\"\r\n                      class={selfcollect}\r\n                      src={\r\n                        cookies.get(\"language\") === \"en\"\r\n                          ? self_collect\r\n                          : chinese_self_collect\r\n                      }\r\n                      style={{ width: \"30%\" }}\r\n                    />\r\n                  </span>\r\n                  <span class=\"col\">\r\n                    <img\r\n                      alt=\"\"\r\n                      onClick={this.handleDelivery}\r\n                      class={delivery_option}\r\n                      src={\r\n                        cookies.get(\"language\") === \"en\"\r\n                          ? delivery\r\n                          : chinese_delivery\r\n                      }\r\n                      style={{ width: \"30%\" }}\r\n                    />\r\n                  </span>\r\n                </span>\r\n                <span class=\"row d-inline-block d-md-none\">\r\n                  <button style={{ backgroundColor: \"white\" }}>\r\n                    <img\r\n                      alt=\"\"\r\n                      onClick={this.handleCollect}\r\n                      class={selfcollect}\r\n                      src={\r\n                        cookies.get(\"language\") === \"en\"\r\n                          ? self_collect\r\n                          : chinese_self_collect\r\n                      }\r\n                    />\r\n                  </button>\r\n                  <button style={{ backgroundColor: \"white\" }}>\r\n                    <img\r\n                      alt=\"\"\r\n                      onClick={this.handleDelivery}\r\n                      class={delivery_option}\r\n                      src={\r\n                        cookies.get(\"language\") === \"en\"\r\n                          ? delivery\r\n                          : chinese_delivery\r\n                      }\r\n                    />\r\n                  </button>\r\n                </span>\r\n                <br />\r\n                <br />\r\n                <div>\r\n                  <LanguageContext.Consumer>\r\n                    {(context) =>\r\n                      renderPostalCodeForm(this.state.option, context)\r\n                    }\r\n                  </LanguageContext.Consumer>\r\n                  <br />\r\n                  <br />\r\n                  <br />\r\n                  <br />\r\n                  <br />\r\n                  {this.state.retrieved ? (\r\n                    <div>\r\n                      <LanguageContext.Consumer>\r\n                        {(context) => (\r\n                          <div style={{ fontSize: \"12px\" }}>\r\n                            {context.data.home.wehave}\r\n                            <b>{this.state.count}</b>\r\n                            {context.data.home.listings}\r\n                            <br />\r\n                            {context.data.home.goto}\r\n                            <a href=\"/create\">{context.data.home.createlink}</a>\r\n                            {context.data.home.nowtoadd}\r\n                          </div>\r\n                        )}\r\n                      </LanguageContext.Consumer>\r\n                      <span style={{ fontSize: \"12px\" }}>0 </span>\r\n                      <Line\r\n                        percent={this.state.count / 8}\r\n                        strokeWidth=\"2\"\r\n                        strokeColor=\"#b48300\"\r\n                        style={{ width: \"50%\" }}\r\n                      />\r\n                      <span style={{ fontSize: \"12px\" }}> 800</span>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <br />\r\n                  <br />\r\n                  <div class=\"d-inline-block d-md-none\">\r\n                    <span style={{ fontSize: \"10px\" }}>Connect with us:</span>\r\n                    <br />\r\n                    <a\r\n                      href=\"https://www.facebook.com/foodlehsg/\"\r\n                      target=\"blank\"\r\n                    >\r\n                      <img\r\n                        class=\"img-fluid\"\r\n                        style={{ width: \"30px\", margin: \"10px\" }}\r\n                        alt=\"fb\"\r\n                        src={fb}\r\n                      />\r\n                    </a>\r\n                    <a href=\"https://instagram.com/foodleh.sg\" target=\"blank\">\r\n                      <img\r\n                        class=\"img-fluid\"\r\n                        style={{ width: \"30px\", margin: \"10px\" }}\r\n                        alt=\"insta\"\r\n                        src={insta}\r\n                      />\r\n                    </a>\r\n                    <a href=\"mailto:foodleh@outlook.com\" target=\"blank\">\r\n                      <img\r\n                        class=\"img-fluid\"\r\n                        style={{ width: \"30px\", margin: \"10px\" }}\r\n                        alt=\"email\"\r\n                        src={email}\r\n                      />\r\n                    </a>\r\n                    <a href=\"https://t.me/foodleh\" target=\"blank\">\r\n                      <TelegramIcon\r\n                        size={32}\r\n                        round={true}\r\n                        style={{ margin: \"10px\" }}\r\n                      />\r\n                      {/* <img\r\n                      class=\"img-fluid\"\r\n                      style={{ width: \"30px\", margin: \"10px\" }}\r\n                      alt=\"telegram\"\r\n                      src={TelegramIcon}\r\n                    /> */}\r\n                    </a>\r\n                    <br />\r\n                    <br />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/*\r\n\r\n              <div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\"> </div>\r\n              <div\r\n                class=\"col-xs-10 col-sm-10 col-md-10 col-lg-10\"\r\n                style={{ textAlign: \"center\" }}\r\n              >\r\n                <div class=\"col-6\">\r\n                  <img alt=\"\" class=\"home-banner\" src={home} />\r\n                </div>\r\n                <br />\r\n                <br />\r\n                <img alt=\"\" class=\"home-iwant\" src={i_want} />\r\n                <br />\r\n                <br />\r\n                <span class=\"row d-none d-md-inline-block\">\r\n                  <span class=\"col-sm-2 col-md-2 col-lg-2\"></span>\r\n                  <span class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                    <img\r\n                      onClick={this.handleCollect}\r\n                      alt=\"\"\r\n                      class={selfcollect}\r\n                      src={self_collect}\r\n                    />\r\n                  </span>\r\n                  <span class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                    <img\r\n                      alt=\"\"\r\n                      onClick={this.handleDelivery}\r\n                      class={delivery_option}\r\n                      src={delivery}\r\n                    />\r\n                  </span>\r\n                  <span class=\"col-sm-2 col-md-2 col-lg-2\"></span>\r\n                </span>\r\n                <span class=\"row d-inline-block d-md-none\">\r\n                  <span>\r\n                    <img\r\n                      alt=\"\"\r\n                      onClick={this.handleCollect}\r\n                      class={selfcollect}\r\n                      src={self_collect}\r\n                    />\r\n                  </span>\r\n                  <span>\r\n                    <img\r\n                      alt=\"\"\r\n                      onClick={this.handleDelivery}\r\n                      class={delivery_option}\r\n                      src={delivery}\r\n                    />\r\n                  </span>\r\n                </span>\r\n                <br />\r\n                <br />\r\n                <div>\r\n                  {this.state.option === \"\" ? (\r\n                    <span class=\" main-caption\">Choose Da Bao Or Delivery</span>\r\n                  ) : this.state.option === \"delivery\" ? (\r\n                    <span class=\" main-caption\">Living the lazy life?</span>\r\n                  ) : (\r\n                    <span class=\"label label-default main-caption\">\r\n                      Living the hardworking life?\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <br />\r\n                <Component.Search option={this.state.option} />\r\n              </div>\r\n              <div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\"></div> */}\r\n          </div>\r\n          <br />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction renderPostalCodeForm(option, context) {\r\n  console.log(\"renderpostalcodeform\", context);\r\n  switch (option) {\r\n    case \"\":\r\n      return (\r\n        <span class=\" main-caption\">\r\n          <div>\r\n            {\" \"}\r\n            {context.data.home.choose} <b>{context.data.home.dabao} </b>{\" \"}\r\n            {context.data.home.or} <b> {context.data.home.delivery_word}</b>\r\n          </div>\r\n          {/*(context.language === 'en') ? <div>choose <b>da bao</b> or <b>delivery</b> </div> : <div>选 <b>打包</b> 或 <b>送餐</b></div>*/}\r\n        </span>\r\n      );\r\n\r\n    case HOME_DELIVERY_OPTION:\r\n    case SELF_COLLECT_OPTION:\r\n      return (\r\n        <span class=\"label label-default main-caption\">\r\n          <span class=\"main-caption\">\r\n            {\r\n              <LanguageContext.Consumer>\r\n                {(context) => (\r\n                  <div>\r\n                    {context.data.home.now_enter}{\" \"}\r\n                    <strong>{context.data.home.postalcode}</strong>\r\n                  </div>\r\n                )}\r\n              </LanguageContext.Consumer>\r\n            }\r\n            <br />\r\n            <Component.Search option={option} />\r\n          </span>\r\n        </span>\r\n      );\r\n    default:\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport logo from \"../foodleh.png\";\r\nimport name from \"../logo-header-nologo.png\";\r\nimport firebase from \"./Firestore\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport en from \"../assets/translations/en.json\";\r\nimport zh from \"../assets/translations/zh.json\";\r\nimport { LanguageContext } from \"./themeContext\";\r\n\r\nconst cookies = new Cookies();\r\nconst analytics = firebase.analytics();\r\n\r\nfunction onClick(button) {\r\n  analytics.logEvent(button);\r\n}\r\n\r\nexport class Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // State also contains the updater function so it will\r\n    // be passed down into the context provider\r\n    this.state = {\r\n      language: cookies.get(\"language\"),\r\n      toggleLanguage: this.toggleLanguage,\r\n      data: cookies.get(\"language\") === \"en\" ? en : zh,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Navbar\r\n        bg=\"light\"\r\n        variant=\"light\"\r\n        style={{ position: \"fixed\", width: \"100%\", zIndex: \"100\" }}\r\n      >\r\n        <Navbar.Brand as={Link} to=\"/\" style={{ color: \"#B48300\" }}>\r\n          <img\r\n            alt=\"\"\r\n            src={logo}\r\n            width=\"20\"\r\n            height=\"30\"\r\n            className=\"d-inline-block align-top\"\r\n          />{\" \"}\r\n          <div className=\"d-none d-md-inline-block\">\r\n            <img\r\n              alt=\"\"\r\n              src={name}\r\n              width=\"140\"\r\n              height=\"30\"\r\n              className=\"d-inline-block align-top\"\r\n            />\r\n          </div>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\r\n          <LanguageContext.Consumer>\r\n            {({ data, language, toggleLanguage }) => (\r\n              <Button\r\n                className=\"shadow-sm\"\r\n                style={{\r\n                  backgroundColor: \"#B48300\",\r\n                  borderColor: \"#B48300\",\r\n                  fontSize: \"10px\",\r\n                  width: \"50px\"\r\n                }}\r\n                onClick={toggleLanguage}\r\n                name=\"Language\"\r\n              >\r\n                {data.menu.language_button}\r\n              </Button>\r\n            )}\r\n          </LanguageContext.Consumer>\r\n          <div className=\"d-none d-md-inline-block\">\r\n            <Nav.Link\r\n              href=\"#\"\r\n              as={Link}\r\n              to=\"/\"\r\n              id=\"menu-link\"\r\n              style={{ color: \"grey\" }}\r\n              onClick={onClick(\"home\")}\r\n            >\r\n              <LanguageContext.Consumer>\r\n                {({ data }) => data.menu.homelabel}\r\n              </LanguageContext.Consumer>\r\n            </Nav.Link>\r\n          </div>\r\n\r\n          {/* <Nav.Link href=\"#listing\" as={Link} to=\"/listing\" id=\"menu-link\" style={{\"color\":\"grey\"}}>\r\n            Listings\r\n          </Nav.Link> */}\r\n          <Nav.Link\r\n            href=\"#searchall\"\r\n            as={Link}\r\n            to=\"/searchall\"\r\n            id=\"menu-link\"\r\n            style={{ color: \"grey\" }}\r\n            onClick={onClick(\"search\")}\r\n          >\r\n            <LanguageContext.Consumer>\r\n              {({ data }) => data.menu.searchlabel}\r\n            </LanguageContext.Consumer>\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            href=\"#create\"\r\n            as={Link}\r\n            to=\"/create\"\r\n            id=\"menu-link\"\r\n            style={{ color: \"grey\" }}\r\n            onClick={onClick(\"create\")}\r\n          >\r\n            <LanguageContext.Consumer>\r\n              {({ data }) => data.menu.createlabel}\r\n            </LanguageContext.Consumer>\r\n          </Nav.Link>\r\n\r\n          <Nav.Link\r\n            href=\"#about\"\r\n            as={Link}\r\n            to=\"/about\"\r\n            id=\"menu-link\"\r\n            style={{ color: \"grey\" }}\r\n            onClick={onClick(\"about\")}\r\n          >\r\n            <LanguageContext.Consumer>\r\n              {({ data }) => data.menu.aboutlabel}\r\n            </LanguageContext.Consumer>\r\n          </Nav.Link>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport Component from \"../Components\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport firebase from \"./Firestore\";\r\nimport list_en from \"../assets/list_en.png\";\r\nimport website_en from \"../assets/website_en.png\";\r\nimport list_cn from \"../assets/list_cn.png\";\r\nimport website_cn from \"../assets/website_cn.png\";\r\nimport i_want from \"../i_want.jpeg\";\r\nimport chinese_i_want from \"../chinese-iwant.png\";\r\nimport { LanguageContext } from \"./themeContext\";\r\n\r\nconst analytics = firebase.analytics();\r\nconst cookies = new Cookies();\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\n\r\nexport class Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n  }\r\n  state = {\r\n    create: \"\",\r\n  };\r\n\r\n  componentWillMount() {\r\n    onLoad(\"create_load\");\r\n  }\r\n  changeCreate = async (change) => {\r\n    await this.setState({ create: change });\r\n    this.scrollToMyRef();\r\n  };\r\n\r\n  scrollToMyRef = () => window.scrollTo(0, this.myRef.offsetTop - 60);\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          class=\"jumbotron\"\r\n          style={{\r\n            \"padding-top\": \"80px\",\r\n            \"padding-bottom\": \"240px\",\r\n            height: \"100%\",\r\n            \"background-color\": \"white\",\r\n          }}\r\n        >\r\n          <div\r\n            class=\"d-flex col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center\"\r\n            style={{ marginTop: \"40px\" }}\r\n          >\r\n            <h4>\r\n              <b>{this.context.data.create.createfree}</b>\r\n            </h4>\r\n          </div>\r\n          <div class=\"row\" style={{ margin: \"50px 0px\" }}>\r\n            <div class=\"d-flex col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center\">\r\n              <img\r\n                alt=\"\"\r\n                src={cookies.get(\"language\") === \"en\" ? i_want : chinese_i_want}\r\n                style={{\r\n                  flexShrink: \"0\",\r\n                  minWidth: \"5vw\",\r\n                  maxWidth: \"15vw\",\r\n                  marginBottom: \"20px\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div class=\"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-end align-items-center\">\r\n              <img\r\n                alt=\"\"\r\n                class={\r\n                  this.state.create === \"listing\"\r\n                    ? \"home-option-clicked\"\r\n                    : \"home-option\"\r\n                }\r\n                onClick={() => this.changeCreate(\"listing\")}\r\n                src={cookies.get(\"language\") === \"en\" ? list_en : list_cn}\r\n                style={{ flexShrink: \"0\", minWidth: \"50%\" }}\r\n              />\r\n            </div>\r\n            <div class=\"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-start align-items-center\">\r\n              <img\r\n                alt=\"\"\r\n                onClick={() => this.changeCreate(\"website\")}\r\n                class={\r\n                  this.state.create === \"website\"\r\n                    ? \"home-option-clicked\"\r\n                    : \"home-option\"\r\n                }\r\n                src={cookies.get(\"language\") === \"en\" ? website_en : website_cn}\r\n                style={{ flexShrink: \"0\", minWidth: \"50%\" }}\r\n              />\r\n            </div>\r\n            <div\r\n              class=\"d-flex col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center\"\r\n              style={{ marginTop: \"40px\" }}\r\n            >\r\n              <h6>\r\n                <b>\r\n                  {this.context.data.create.existing}{\" \"}\r\n                  <a href=\"https://www.foodleh.app/custom\">\r\n                    www.foodleh.app/custom\r\n                  </a>\r\n                </b>\r\n              </h6>\r\n            </div>\r\n          </div>\r\n\r\n          {this.state.create && (\r\n            <React.Fragment>\r\n              <h3 ref={(ref) => (this.myRef = ref)}>\r\n                <div>\r\n                  {this.state.create === \"listing\" &&\r\n                    this.context.data.create.createlisting}\r\n                </div>\r\n                <div>\r\n                  {this.state.create === \"website\" &&\r\n                    this.context.data.create.createwebsite}\r\n                </div>\r\n              </h3>\r\n              <Component.ListForm\r\n                toggle={\"create\"}\r\n                option={this.state.create}\r\n              />\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCreate.contextType = LanguageContext;\r\nexport default withRouter(Create);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\n\r\nimport { LanguageContext } from \"./themeContext\";\r\n\r\nimport \"../App.css\";\r\nimport placeholder from \"../placeholder.png\";\r\n\r\nexport class Item extends React.Component {\r\n  handleClick = async (event) => {\r\n    event.preventDefault();\r\n    this.context.setScrollPosition(window.pageYOffset);\r\n    if (this.props.name) {\r\n      this.props.history.push({\r\n        pathname: \"/info\",\r\n        search: \"?id=\" + this.props.id,\r\n      });\r\n    }\r\n  };\r\n\r\n  thumbnail = () => {\r\n    return `https://images.weserv.nl/?w=250&url=${encodeURIComponent(\r\n      this.props.pic\r\n    )}`;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <a\r\n          href={this.props.name ? \"/info?id=\" + this.props.id : null}\r\n          style={{ color: \"inherit\" }}\r\n        >\r\n          {this.props.name !== undefined ? (\r\n            <figure\r\n              class=\"card shadow effect-bubba item-card\"\r\n              style={{ margin: \"5px\" }}\r\n              onClick={this.handleClick}\r\n            >\r\n              {this.props.distance ? (\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: \"105px\",\r\n                    right: \"5px\",\r\n                    zIndex: \"1\",\r\n                  }}\r\n                >\r\n                  <span\r\n                    class=\"badge badge-info\"\r\n                    style={{ backgroundColor: \"#b48300\" }}\r\n                  >\r\n                    {this.props.distance.slice(0, 4) + \" km away\"}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n              <LazyLoadImage\r\n                src={this.props.pic ? this.thumbnail() : placeholder}\r\n                placeholderSrc={placeholder}\r\n                style={{ height: \"120px\" }}\r\n                class=\"card-img-top\"\r\n                height=\"120\"\r\n                alt=\"\"\r\n              />\r\n              {this.props.promo ? (\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: \"10px\",\r\n                    right: \"3px\",\r\n                    zIndex: \"0\",\r\n                  }}\r\n                >\r\n                  <span\r\n                    class=\"badge badge-danger\"\r\n                    style={{ backgroundColor: \"red\", fontSize: \"16px\" }}\r\n                  >\r\n                    {this.props.promo}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n\r\n              {this.props.claps !== undefined ? (\r\n                <div\r\n                  class=\"row no-gutters bg-light\"\r\n                  style={{\r\n                    borderRadius: \".25rem\",\r\n                    position: \"absolute\",\r\n                    top: \"10px\",\r\n                    left: \"3px\",\r\n                    zIndex: \"0\",\r\n                    opacity: \"0.8\",\r\n                  }}\r\n                >\r\n                  <div class=\"col-4 text-right pl-2 pr-1\">\r\n                    <svg\r\n                      id=\"clap--icon\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      viewBox=\"-549 338 100.1 125\"\r\n                      width={\"20px\"}\r\n                    >\r\n                      <path d=\"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7 1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9 2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5 1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2 5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2 .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6 10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z\" />\r\n                      <path d=\"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1 5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2 5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6 11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7 4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"col-8 text-left pl-2\">\r\n                    <span\r\n                      style={{\r\n                        fontSize: \"16px\",\r\n                        color: \"black\",\r\n                        paddingLeft: \"5px\",\r\n                        fontWeight: \"700\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      {+this.props.claps}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n\r\n              <figcaption>\r\n                <div\r\n                  class=\"card-body\"\r\n                  style={{ width: \"100%\", height: \"100%\" }}\r\n                >\r\n                  {this.props.name ? (\r\n                    <h7\r\n                      class=\"item-title card-title d-flex justify-content-center\"\r\n                      style={{ textAlign: \"center\", width: \"100%\" }}\r\n                    >\r\n                      {this.props.name.length > 25\r\n                        ? this.props.name.slice(0, 25) + \"...\"\r\n                        : this.props.name}\r\n                    </h7>\r\n                  ) : (\r\n                    <h6 class=\"card-title\">Sample Name</h6>\r\n                  )}\r\n\r\n                  {this.props.summary ? (\r\n                    <p\r\n                      class=\"card-text d-flex justify-content-center\"\r\n                      style={{ lineHeight: \"1.0\" }}\r\n                    >\r\n                      <small>\r\n                        {this.props.summary.length > 35\r\n                          ? this.props.summary.slice(0, 35) + \"...\"\r\n                          : this.props.summary}\r\n                      </small>\r\n                    </p>\r\n                  ) : (\r\n                    <p class=\"card-text\" style={{ lineHeight: \"1.0\" }}>\r\n                      <small>Sample Stall Brief Description</small>\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </figcaption>\r\n            </figure>\r\n          ) : null}\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nItem.contextType = LanguageContext;\r\nexport default withRouter(Item);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport queryString from \"query-string\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport Item from \"./Item\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { db } from \"./Firestore\";\r\n\r\nconst responsive = {\r\n  superLargeDesktop: {\r\n    breakpoint: { max: 4000, min: 3000 },\r\n    items: 6,\r\n    partialVisibilityGutter: 30,\r\n  },\r\n  desktop: {\r\n    breakpoint: { max: 3000, min: 1024 },\r\n    items: 5,\r\n    partialVisibilityGutter: 30,\r\n  },\r\n  tablet: {\r\n    breakpoint: { max: 1024, min: 464 },\r\n    items: 2,\r\n    partialVisibilityGutter: 30,\r\n  },\r\n  mobile: {\r\n    breakpoint: { max: 464, min: 0 },\r\n    items: 2,\r\n    partialVisibilityGutter: 10,\r\n  },\r\n};\r\n\r\nexport class Listing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      query: queryString.parse(this.props.location.search).postal,\r\n      longitude: queryString.parse(this.props.location.search).lng,\r\n      latitude: queryString.parse(this.props.location.search).lat,\r\n      distance: queryString.parse(this.props.location.search).distance,\r\n      retrieved: false,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.retrieveData();\r\n  }\r\n\r\n  getData(val) {\r\n    this.setState({ data: val });\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    let data = [];\r\n    let temp\r\n    await db\r\n      .collection(\"hawkers\")\r\n      .limit(30)\r\n      .get()\r\n      .then((snapshot) => {\r\n        snapshot.forEach((doc) => {\r\n          if (doc.exists) {\r\n            temp = doc.data()\r\n            temp.id = doc.id\r\n            data.push(temp);\r\n          }\r\n        });\r\n        console.log(\"Fetched successfully!\");\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    this.setState({ data: data, retrieved: true });\r\n  };\r\n  // retrieveData = async (query) => {\r\n  //   let string = {\r\n  //     longitude: this.state.longitude,\r\n  //     latitude: this.state.latitude,\r\n  //     cuisine: \"Local\",\r\n  //     limit: 10\r\n  //   };\r\n  //   let urls = [\r\n  //     \"https://us-central1-hawkercentral.cloudfunctions.net/islandwide\",\r\n  //     \"https://us-central1-hawkercentral.cloudfunctions.net/cuisine\",\r\n  //   ];\r\n  //   try {\r\n  //     Promise.all(\r\n  //       urls.map((url) =>\r\n  //         fetch(url, {\r\n  //           method: \"POST\",\r\n  //           mode: \"cors\",\r\n  //           headers: {\r\n  //             \"Content-Type\": \"application/json\",\r\n  //           },\r\n  //           body: JSON.stringify(string),\r\n  //         })\r\n  //           .then((response) => {\r\n  //             return response.json();\r\n  //           })\r\n  //           .then((data) => {\r\n  //             return data;\r\n  //           })\r\n  //           .catch((error) => {\r\n  //             return error;\r\n  //           })\r\n  //       )\r\n  //     ).then((data) => {\r\n  //       this.setState({\r\n  //         islandwide: data[0],\r\n  //         cuisine: data[1],\r\n  //         retrieved: true,\r\n  //       });\r\n  //     });\r\n  //   } catch (error) {\r\n  //     return error;\r\n  //   }\r\n  // };\r\n\r\n  render() {\r\n    let result = {\r\n      islandwide: [],\r\n      local: [],\r\n    };\r\n    if (this.state.retrieved && this.state.data !== undefined) {\r\n      let filtered = [];\r\n      filtered = this.state.data.filter((d) => d.islandwide === true);\r\n      result.islandwide = filtered.map((data) => {\r\n        return (\r\n          <p style={{ padding: \"6px\" }}>\r\n            <Item\r\n              id={data[\"id\"]}\r\n              name={data[\"name\"]}\r\n              street={data[\"street\"]}\r\n              pic={data[\"url\"]}\r\n              summary={data[\"description\"]}\r\n            />\r\n          </p>\r\n        );\r\n      });\r\n      filtered = this.state.data.filter(\r\n        (d) => d.cuisine && d.cuisine.includes(\"Local\")\r\n      );\r\n      result.local = filtered.map((data) => {\r\n        return (\r\n          <p style={{ padding: \"6px\" }}>\r\n            <Item\r\n              id={data[\"id\"]}\r\n              name={data[\"name\"]}\r\n              street={data[\"street\"]}\r\n              pic={data[\"url\"]}\r\n              summary={data[\"description\"]}\r\n            />\r\n          </p>\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {this.state.retrieved ? (\r\n          <div>\r\n            <div>\r\n              {result.islandwide.length > 0 ? (\r\n                <div\r\n                  class=\"container\"\r\n                  style={{ paddingTop: \"56px\", width: \"100%\" }}\r\n                >\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\" style={{ textAlign: \"left\" }}>\r\n                      <h2>Delivered Islandwide</h2>\r\n                    </div>\r\n                  </div>\r\n                  <Carousel\r\n                    responsive={responsive}\r\n                    ssr={true}\r\n                    infinite={false}\r\n                    partialVisible={true}\r\n                    swipeable={true}\r\n                    draggable={true}\r\n                    minimumTouchDrag={0}\r\n                    transitionDuration={0}\r\n                    slidesToSlide={2}\r\n                  >\r\n                    {result.islandwide}\r\n                  </Carousel>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\" style={{ textAlign: \"left\" }}>\r\n                      <h2>Local Food</h2>\r\n                    </div>\r\n                  </div>\r\n                  <Carousel\r\n                    responsive={responsive}\r\n                    ssr={true}\r\n                    infinite={false}\r\n                    partialVisible={true}\r\n                    swipeable={true}\r\n                    draggable={true}\r\n                    minimumTouchDrag={0}\r\n                    transitionDuration={0}\r\n                    slidesToSlide={2}\r\n                  >\r\n                    {result.local}\r\n                  </Carousel>\r\n                </div>\r\n              ) : (\r\n                <div class=\"search-container\">\r\n                  <div class=\"row h-100\">\r\n                    <div class=\"col-sm-2 my-auto\"></div>\r\n                    <h1\r\n                      class=\"col-sm-8 my-auto\"\r\n                      style={{ \"text-align\": \"center\" }}\r\n                    >\r\n                      Sorry, we couldn't find a result\r\n                    </h1>\r\n                    <div class=\"col-sm-2 my-auto\"></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div class=\"row h-100 page-container\">\r\n            <div class=\"col-sm-12 my-auto\">\r\n              <h3>Please give us a moment while we load your results</h3>\r\n              <Spinner class=\"\" animation=\"grow\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Listing;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from 'react';\r\nimport '../App.css';\r\nimport Item from './Item'\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\n\r\nconst responsive = {\r\n  superLargeDesktop: {\r\n    breakpoint: { max: 4000, min: 3000 },\r\n    items: 6\r\n  },\r\n  desktop: {\r\n    breakpoint: { max: 3000, min: 1024 },\r\n    items: 5\r\n  },\r\n  tablet: {\r\n    breakpoint: { max: 1024, min: 464 },\r\n    items: 2\r\n  },\r\n  mobile: {\r\n    breakpoint: { max: 464, min: 0 },\r\n    items: 1\r\n  }\r\n};\r\n\r\nexport class Results extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        listing: [],\r\n        loading: false,\r\n        data: [],\r\n        headline: []\r\n    \r\n    };\r\n  }\r\n\r\n  render() {\r\n    let result = []\r\n    console.log(this.props.data.data)\r\n    if (this.props.data.data){\r\n      this.props.data.data.forEach(function(data) {\r\n        // console.log(data['url'])\r\n        \r\n        result.push(\r\n          <p style={{\"padding\":\"6px\"}}>\r\n            <Item \r\n              name={data['name']}\r\n              street={data['street']}\r\n              pic={data['url']}\r\n              summary={data['description']}\r\n              id={data['id']}\r\n            />\r\n          </p>\r\n        )\r\n      });\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n          {result.length > 0 ? \r\n            <div class=\"container\" style={{\"paddingTop\":\"56px\", width:\"100%\"}}>\r\n              \r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\" style={{\"textAlign\":\"left\"}}>\r\n                  <h2>Delivered Islandwide</h2>\r\n                </div>\r\n              </div>\r\n              <Carousel responsive={responsive}>\r\n                {result}\r\n              </Carousel>\r\n            </div>\r\n            :\r\n            (\r\n              <div class=\"search-container\">\r\n                <div class=\"row h-100\">\r\n                  <div class=\"col-sm-2 my-auto\"></div>\r\n                    <h1 class=\"col-sm-8 my-auto\" style={{\"text-align\": \"center\"}}>\r\n                      Sorry, we couldn't find a result\r\n                    </h1>\r\n                  <div class=\"col-sm-2 my-auto\"></div>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Results","import React from \"react\";\r\n\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst totalPrice = (context, deliveryFee, discount) => \r\n  (\r\n    Number(context.cartTotal.totalPrice) +\r\n    Number(deliveryFee) -\r\n    Number(discount)\r\n  ).toFixed(2);\r\n\r\nconst LinearProgressWithLabel = (props) => \r\n  <Box display=\"flex\" alignItems=\"center\" flexDirection=\"column\">\r\n    <Box width=\"100%\" mr={1}>\r\n      <LinearProgress variant=\"determinate\" {...props} />\r\n    </Box>\r\n  </Box>;\r\n\r\nconst ProgressIndicator = ({ totalPrice, targetValue, name }) =>\r\n  <div class=\"row progress\">\r\n    {targetValue > totalPrice ? (\r\n      <Grid container direction={\"row\"}>\r\n        <Grid\r\n          style={{\r\n            color: \"black\",\r\n            width: \"100%\",\r\n            marginBottom: \"20px\",\r\n            fontSize: \"18px\",\r\n          }}\r\n        >\r\n          ${(targetValue - totalPrice).toFixed(2)} to {name.toLowerCase()} \r\n        </Grid>\r\n        <Grid style={{ width: \"100%\" }}>\r\n          <LinearProgressWithLabel\r\n            value={\r\n              (100 * totalPrice) / targetValue\r\n            }\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    ) : (\r\n      <h5 style={{ color: \"green\" }}>{name} Met!</h5>\r\n    )}\r\n  </div>\r\n\r\nexport default ({context, deliveryFee, discount}) => <>\r\n  {context.channel === \"delivery\" ? <>\r\n    {context.pageData.minimum_order && context.pageData.minimum_order !== \"0\" ? (\r\n      <ProgressIndicator \r\n        totalPrice={context.cartTotal.totalPrice} \r\n        targetValue={context.pageData.minimum_order}\r\n        name=\"Minimum Amount\"\r\n      />\r\n    ) : null}\r\n    {context.pageData.free_delivery && context.pageData.free_delivery !== \"0\" ? (\r\n      <ProgressIndicator \r\n        totalPrice={context.cartTotal.totalPrice} \r\n        targetValue={context.pageData.free_delivery}\r\n        name=\"Free Delivery\"\r\n      />\r\n    ) : null}\r\n    <div class=\"row\">\r\n      {(context.delivery_option === \"none\" ||\r\n        !context.delivery_option) && (\r\n        <div className=\"sub fees-not-included\">DELIVERY FEES NOT INCLUDED</div>\r\n      )}\r\n      {(context.delivery_option === \"fixed\" ||\r\n        context.delivery_option === \"distance\") &&\r\n        context.delivery_fee !== undefined && (\r\n          <React.Fragment>\r\n            <div className=\"sub\">DELIVERY FEES: </div>\r\n            <div className=\"sub-price\">\r\n              <p className=\"sub-price__val\">${deliveryFee.toFixed(2)}</p>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n    </div>\r\n  </> : null}\r\n  {(context.all_promo || context.selfcollect_promo) && discount > 0 ? (\r\n    <div class=\"row\">\r\n      <div className=\"sub\">DISCOUNT: </div>\r\n      <div className=\"sub-price\">\r\n        <p className=\"sub-price__val\">- ${discount}</p>\r\n      </div>\r\n    </div>\r\n  ) : null}\r\n  <div class=\"row\">\r\n    <div className=\"sub\">SUBTOTAL</div>\r\n    <div className=\"sub-price\">\r\n      {(context.delivery_option === \"none\" ||\r\n        context.channel === \"collect\" || \r\n        (\r\n          (context.delivery_option === \"fixed\" || context.delivery_option === \"distance\") &&\r\n          context.channel === \"delivery\" &&\r\n          context.delivery_fee !== undefined\r\n        )) && (\r\n        <p className=\"sub-price__val\">${totalPrice(context, deliveryFee || 0, discount)}</p>\r\n      )}\r\n    </div>\r\n  </div>\r\n</>","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport mojs from \"@mojs/core\";\r\nimport { db } from \"./Firestore\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass Clap extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      count: 0,\r\n      countTotal: this.props.claps,\r\n      isClicked: false,\r\n    };\r\n    this._handleClick = this._handleClick.bind(this);\r\n    this.updateClap = this.updateClap.bind(this);\r\n  }\r\n\r\n  updateClap = async () => {\r\n    await db\r\n      .collection(this.props.collection)\r\n      .doc(this.props.id)\r\n      .update({\r\n        claps: this.state.countTotal + 1,\r\n      })\r\n      .then((snapshot) => {\r\n        console.log(\"Updated successfully!\");\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const tlDuration = 300;\r\n    const triangleBurst = new mojs.Burst({\r\n      parent: \"#clap\",\r\n      radius: { 50: 95 },\r\n      count: 5,\r\n      angle: 30,\r\n      children: {\r\n        shape: \"polygon\",\r\n        radius: { 6: 0 },\r\n        scale: 1,\r\n        stroke: \"rgba(211,84,0 ,0.5)\",\r\n        strokeWidth: 2,\r\n        angle: 210,\r\n        delay: 30,\r\n        speed: 0.2,\r\n        easing: mojs.easing.bezier(0.1, 1, 0.3, 1),\r\n        duration: tlDuration,\r\n      },\r\n    });\r\n    const circleBurst = new mojs.Burst({\r\n      parent: \"#clap\",\r\n      radius: { 50: 75 },\r\n      angle: 25,\r\n      duration: tlDuration,\r\n      children: {\r\n        shape: \"circle\",\r\n        fill: \"rgba(149,165,166 ,0.5)\",\r\n        delay: 30,\r\n        speed: 0.2,\r\n        radius: { 3: 0 },\r\n        easing: mojs.easing.bezier(0.1, 1, 0.3, 1),\r\n      },\r\n    });\r\n    const countAnimation = new mojs.Html({\r\n      el: \"#clap--count\",\r\n      isShowStart: false,\r\n      isShowEnd: true,\r\n      y: { 0: -30 },\r\n      opacity: { 0: 1 },\r\n      duration: tlDuration,\r\n    }).then({\r\n      opacity: { 1: 0 },\r\n      y: -80,\r\n      delay: tlDuration / 2,\r\n    });\r\n    const countTotalAnimation = new mojs.Html({\r\n      el: \"#clap--count-total\",\r\n      isShowStart: true,\r\n      isShowEnd: true,\r\n      opacity: { 1: 1 },\r\n      delay: (3 * tlDuration) / 2,\r\n      duration: tlDuration,\r\n      y: { 1: 1 },\r\n    });\r\n    const scaleButton = new mojs.Html({\r\n      el: \"#clap\",\r\n      duration: tlDuration,\r\n      scale: { 1.3: 1 },\r\n      easing: mojs.easing.out,\r\n    });\r\n    const clap = document.getElementById(\"clap\");\r\n    clap.style.transform = \"scale(1, 1)\";\r\n    this._animationTimeline = new mojs.Timeline();\r\n    this._animationTimeline.add([\r\n      countAnimation,\r\n      countTotalAnimation,\r\n      scaleButton,\r\n      circleBurst,\r\n      triangleBurst,\r\n    ]);\r\n  }\r\n  _generateRandomNumber(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n  }\r\n\r\n  _handleClick() {\r\n    if (this.state.count < 5) {\r\n      this._animationTimeline.replay();\r\n      this.updateClap();\r\n      this.setState(function (prevState, nextState) {\r\n        return {\r\n          count: Math.min(prevState.count + 1, 5),\r\n          countTotal: prevState.countTotal + 1,\r\n          isClicked: true,\r\n        };\r\n      });\r\n    }\r\n  }\r\n  getAppContent(count, countTotal, isClicked, handleClick) {\r\n    return (\r\n      <div className=\"row\">\r\n        <span\r\n          id=\"clap\"\r\n          className=\"clap d-flex align-items-center\"\r\n          onClick={handleClick}\r\n        >\r\n          <span>\r\n            {/*<!--  SVG Created by Luis Durazo from the Noun Project  -->*/}\r\n            <svg\r\n              id=\"clap--icon\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"-549 338 100.1 125\"\r\n              className={`${isClicked && \"checked\"}`}\r\n            >\r\n              <path d=\"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7 1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9 2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5 1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2 5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2 .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6 10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z\" />\r\n              <path d=\"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1 5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2 5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6 11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7 4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9\" />\r\n            </svg>\r\n          </span>\r\n          <span id=\"clap--count\" className=\"clap--count\">\r\n            +{count}\r\n          </span>\r\n\r\n          <span id=\"clap--count-total\" className=\"clap--count-total\">\r\n            {countTotal}\r\n          </span>\r\n        </span>\r\n        <span\r\n          style={{ fontSize: \"10px\" }}\r\n          className=\"d-flex align-items-center justify-content-center\"\r\n        >\r\n          {this.props.toggle === \"about\" ? (\r\n            <span>{cookies.get(\"language\") === \"en\" ? \r\n            \"Clap to support this initiative!\" : \r\n            \"鼓掌支持我们！\"} \r\n            </span>\r\n          ) : (\r\n            <span>\r\n              Clap to support <br /> your hawker! (max 5){\" \"}\r\n            </span>\r\n          )}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { count, countTotal, isClicked } = this.state;\r\n    return this.getAppContent(count, countTotal, isClicked, this._handleClick);\r\n  }\r\n}\r\n\r\nexport default Clap;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport queryString from \"query-string\";\r\nimport {\r\n  Button,\r\n  Spinner,\r\n  Form,\r\n  Popover,\r\n  OverlayTrigger,\r\n} from \"react-bootstrap\";\r\nimport firebase, { db } from \"./Firestore\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport CartProgress from \"./CartProgress\";\r\nimport Component from \"./index\";\r\nimport Clap from \"./Clap\";\r\nimport Linkify from \"react-linkify\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport update from \"immutability-helper\";\r\nimport whatsapp_icon from \"../assets/whatsapp_icon.png\";\r\nimport menu_title from \"../assets/info_menu.png\";\r\nimport orderleh_title from \"../assets/orderleh_title.png\";\r\nimport delivery_title from \"../assets/info_delivery.png\";\r\nimport gradient from \"../assets/gradient.png\";\r\nimport revieworder from \"../assets/info_review_order.png\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport {\r\n  FacebookShareButton,\r\n  FacebookIcon,\r\n  TwitterShareButton,\r\n  TwitterIcon,\r\n  TelegramShareButton,\r\n  TelegramIcon,\r\n  // WhatsappShareButton,\r\n  // WhatsappIcon,\r\n} from \"react-share\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport { BitlyClient } from \"bitly\";\r\nconst REACT_APP_BITLY_KEY = `${process.env.REACT_APP_BITLY_KEY}`;\r\nconst bitly = new BitlyClient(REACT_APP_BITLY_KEY, {});\r\nconst analytics = firebase.analytics();\r\nconst time_now = new Date();\r\ntime_now.setMinutes(time_now.getMinutes());\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nconst shorten = (url) => {\r\n  return bitly.shorten(url).then((d) => {\r\n    return d.link;\r\n  });\r\n};\r\n\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    const anchor = (event.target.ownerDocument || document).querySelectorAll(\r\n      \"#back-to-top-anchor\"\r\n    )[0];\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div\r\n        onClick={handleClick}\r\n        role=\"presentation\"\r\n        style={{ position: \"fixed\", bottom: \"50px\", right: \"30px\" }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nconst popover = (\r\n  <Popover>\r\n    <Popover.Content>\r\n      Your details will only be stored in your browser!\r\n    </Popover.Content>\r\n  </Popover>\r\n);\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nexport class Info extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n    this.state = {\r\n      className:\r\n        typeof this.props.className === \"string\"\r\n          ? this.props.className\r\n          : \"container\",\r\n      data: [],\r\n      orderData: [],\r\n      totalPrice: 0.0,\r\n      wantToOrder: false,\r\n      name: \"\",\r\n      unit: \"\",\r\n      street: \"\",\r\n      postal: \"\",\r\n      notes: \"\",\r\n      customerNumber: \"\",\r\n      time: time_now.getHours() + \":\" + time_now.getMinutes(),\r\n      date: time_now,\r\n      datetime: time_now,\r\n      id: this.props.id || queryString.parse(this.props.location.search).id,\r\n      galleryOpened: false,\r\n      retrieved: false,\r\n      hero: this.props.hero,\r\n      activePhoto: 1,\r\n      hasReviewEditMessage: false,\r\n      hasReviewDeleteMessage: false,\r\n      shouldRememberDetails: false,\r\n    };\r\n    this.enterDetails = this.enterDetails.bind(this);\r\n    this.handleCustomerDetails = this.handleCustomerDetails.bind(this);\r\n    this.updateCustomerDetails = this.updateCustomerDetails.bind(this);\r\n    this.setOrderText = this.setOrderText.bind(this);\r\n    this.formatSummary = this.formatSummary.bind(this);\r\n    this.toggleShouldRememberDetails = this.toggleShouldRememberDetails.bind(\r\n      this\r\n    );\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getDoc();\r\n    console.log(\"run\");\r\n\r\n    if (localStorage.getItem(\"userDetails\")) {\r\n      const userDetails = JSON.parse(localStorage.getItem(\"userDetails\"));\r\n      this.setState(userDetails);\r\n      this.setState({ shouldRememberDetails: true });\r\n    }\r\n  }\r\n\r\n  getDoc = async () => {\r\n    await db\r\n      .collection(\"hawkers\")\r\n      .doc(this.state.id)\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (snapshot.exists) {\r\n          // After querying db for data, initialize orderData if menu info is available\r\n          this.setState({\r\n            data: snapshot.data(),\r\n            retrieved: true,\r\n            orderData: new Array(snapshot.data().menu_combined.length).fill(0),\r\n          });\r\n        }\r\n        onLoad(\"info_load\", snapshot.data().name);\r\n        console.log(\"Fetched successfully!\");\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        window.location.reload(true);\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  updateSavedData(isChecked) {\r\n    if (!isChecked) {\r\n      localStorage.clear();\r\n    } else {\r\n      const userDetails = {\r\n        name: this.state.name,\r\n        customerNumber: this.state.customerNumber,\r\n        postal: this.state.postal,\r\n        unit: this.state.unit,\r\n        street: this.state.street,\r\n      };\r\n      localStorage.setItem(\"userDetails\", JSON.stringify(userDetails));\r\n    }\r\n  }\r\n\r\n  toggleShouldRememberDetails(event) {\r\n    const isChecked = event.target.checked;\r\n    this.setState({ shouldRememberDetails: isChecked });\r\n    this.updateSavedData(isChecked);\r\n  }\r\n\r\n  updateCustomerDetails = async (event) => {\r\n    const { name: inputField, value: inputValue } = event.target;\r\n    const inputFields = [\r\n      \"name\",\r\n      \"address\",\r\n      \"notes\",\r\n      \"customerNumber\",\r\n      \"unit\",\r\n      \"street\",\r\n      \"postal\",\r\n    ];\r\n    if (inputFields.includes(inputField)) {\r\n      this.setState({\r\n        [inputField]: inputValue,\r\n      });\r\n    }\r\n    if (inputField === \"postal\" && inputValue.length === 6) {\r\n      await this.getPostal(inputValue);\r\n    }\r\n  };\r\n\r\n  handleCustomerDetails = async (event) => {\r\n    await this.updateCustomerDetails(event).then(() => {\r\n      this.updateSavedData(this.state.shouldRememberDetails);\r\n    });\r\n  };\r\n\r\n  async getPostal(postal) {\r\n    // event.preventDefault();\r\n    let data = await this.callPostal(postal);\r\n    if (data !== undefined) {\r\n      this.setState({\r\n        street: data[\"ADDRESS\"],\r\n      });\r\n    }\r\n  }\r\n\r\n  callPostal = (postal) => {\r\n    return fetch(\r\n      \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n        postal +\r\n        \"&returnGeom=Y&getAddrDetails=Y\"\r\n    )\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(\r\n        function (jsonResponse) {\r\n          if (\r\n            jsonResponse !== undefined &&\r\n            jsonResponse[\"results\"] !== undefined\r\n          ) {\r\n            return jsonResponse[\"results\"][0];\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  formatSummary() {\r\n    let text = \"\";\r\n    text = text + \"New order from \" + this.state.name + \"\\n\";\r\n    for (let i = 0; i < this.state.data.menu_combined.length; i = i + 1) {\r\n      if (\r\n        this.state.data.menu_combined !== undefined &&\r\n        this.state.data.menu_combined[i].name !== \"\" &&\r\n        this.state.orderData[i] !== 0\r\n      ) {\r\n        // customer ordered this item\r\n        const numItems = parseInt(this.state.orderData[i]);\r\n        const thisPrice = parseFloat(\r\n          this.state.data.menu_combined[i].price\r\n            ? this.state.data.menu_combined[i].price\r\n            : 0\r\n        );\r\n        text =\r\n          text +\r\n          \"*\" +\r\n          numItems +\r\n          \"x* _\" +\r\n          this.state.data.menu_combined[i].name +\r\n          \"_: $\" +\r\n          (numItems * thisPrice).toFixed(2) +\r\n          \"\\n\";\r\n      }\r\n    }\r\n    return text;\r\n  }\r\n\r\n  setOrderText = async () => {\r\n    let text = \"\";\r\n    text = text + \"New order from \" + this.state.name + \"\\n\";\r\n    for (let i = 0; i < this.state.data.menu_combined.length; i = i + 1) {\r\n      if (\r\n        this.state.data.menu_combined !== undefined &&\r\n        this.state.data.menu_combined[i].name !== \"\" &&\r\n        this.state.orderData[i] !== 0\r\n      ) {\r\n        // customer ordered this item\r\n        const numItems = parseInt(this.state.orderData[i]);\r\n        const thisPrice = parseFloat(\r\n          this.state.data.menu_combined[i].price\r\n            ? this.state.data.menu_combined[i].price\r\n            : 0\r\n        );\r\n        text =\r\n          text +\r\n          \"*\" +\r\n          numItems +\r\n          \"x* _\" +\r\n          this.state.data.menu_combined[i].name +\r\n          \"_: $\" +\r\n          (numItems * thisPrice).toFixed(2) +\r\n          \"\\n\";\r\n      }\r\n    }\r\n\r\n    text += \"\\n\";\r\n\r\n    const deliveryFee = this.calculateDeliveryFee();\r\n\r\n    const includesDelivery = !Number.isNaN(deliveryFee);\r\n\r\n    if (includesDelivery) {\r\n      text += `Item Subtotal: *$${this.state.totalPrice.toFixed(2)}*\\n`;\r\n      text = text + `Delivery Fee: *$${deliveryFee.toFixed(2)}*\\n`;\r\n    }\r\n\r\n    text =\r\n      text +\r\n      \"Total Price (\" + (includesDelivery ? \"\" : \"not \") + \"including delivery): *$\" +\r\n      (this.state.totalPrice + (deliveryFee || 0)).toFixed(2) +\r\n      \"*\";\r\n    text =\r\n      text +\r\n      \"\\n\\nDelivery address: *\" +\r\n      this.state.street +\r\n      \" #\" +\r\n      this.state.unit +\r\n      \" \" +\r\n      this.state.postal +\r\n      \"*\";\r\n    let time_text =\r\n      dayName[this.state.datetime.getDay()] +\r\n      \" \" +\r\n      this.state.datetime.getDate() +\r\n      \" \" +\r\n      monthNames[this.state.datetime.getMonth()] +\r\n      \" \" +\r\n      formatAMPM(this.state.datetime);\r\n    text = text + \"\\nDelivery Date/Time: *\" + time_text + \"*\";\r\n    if (this.state.notes !== \"\") {\r\n      // only display notes if customer added\r\n      text = text + \"\\nAdditional notes: _\" + this.state.notes + \"_\";\r\n    }\r\n    text =\r\n      text + \"\\nCustomer phone number: *\" + this.state.customerNumber + \"*\";\r\n    text = text + \"\\nOrdering from: www.foodleh.app/info?id=\" + this.state.id;\r\n\r\n    const storeData = new URLSearchParams();\r\n    storeData.append(\"postal\", this.state.data.postal);\r\n    storeData.append(\"street\", this.state.data.street);\r\n    storeData.append(\"unit\", this.state.data.unit);\r\n    storeData.append(\"contact\", this.state.data.contact);\r\n    storeData.append(\"postal_to\", this.state.postal);\r\n    storeData.append(\"street_to\", this.state.street);\r\n    storeData.append(\"unit_to\", this.state.unit);\r\n    storeData.append(\"contact_to\", this.state.customerNumber);\r\n    var shortenedURL = await shorten(\r\n      \"https://foodleh.app/driver?\" + storeData.toString()\r\n    );\r\n    text =\r\n      text + \"\\n For F&B Owner, request for a driver here: \" + shortenedURL;\r\n    if (this.state.data.additional_text) {\r\n      text = text + \"\\n\" + this.state.data.additional_text;\r\n    }\r\n\r\n    return encodeURIComponent(text);\r\n  };\r\n\r\n  enterDetails() {\r\n    console.log(\"enterDetails\");\r\n    onLoad(\"view_menu\", this.state.data.name);\r\n    this.scrollToMyRef();\r\n    if (this.state.wantToOrder) {\r\n      this.setState({ wantToOrder: false });\r\n    } else {\r\n      this.setState({ wantToOrder: true });\r\n    }\r\n  }\r\n\r\n  addItem = async (event) => {\r\n    console.log(\"addItem\");\r\n    const idx = event.target.name;\r\n    this.setState({\r\n      totalPrice:\r\n        parseFloat(this.state.totalPrice) +\r\n        parseFloat(\r\n          this.state.data.menu_combined[idx].price\r\n            ? this.state.data.menu_combined[idx].price\r\n            : 0\r\n        ),\r\n      orderData: update(this.state.orderData, {\r\n        [idx]: { $set: parseInt(this.state.orderData[idx]) + 1 },\r\n      }),\r\n    });\r\n  };\r\n\r\n  minusItem = async (event) => {\r\n    console.log(\"minusItem\");\r\n    const idx = event.target.name;\r\n    this.setState({\r\n      // if customer did not order this item previously, do not change total price, keep # item at 0\r\n      totalPrice:\r\n        this.state.orderData[idx] === 0.0\r\n          ? this.state.totalPrice\r\n          : parseFloat(this.state.totalPrice) -\r\n            parseFloat(\r\n              this.state.data.menu_combined[idx].price\r\n                ? this.state.data.menu_combined[idx].price\r\n                : 0\r\n            ),\r\n      orderData: update(this.state.orderData, {\r\n        [idx]: {\r\n          $set:\r\n            this.state.orderData[idx] === 0\r\n              ? 0\r\n              : parseInt(this.state.orderData[idx]) - 1,\r\n        },\r\n      }),\r\n    });\r\n  };\r\n\r\n  getMenu = (without_first_item) => {\r\n    if (this.state.data.menu_combined) {\r\n      let data = [];\r\n      this.state.data.menu_combined.forEach((element, i) => {\r\n        console.log(without_first_item);\r\n        // If without_first_item, condition should be (element.name && element.price && i !== 0)) [1]\r\n        // Else condition should only be (element.name && element.price) [2]\r\n        let toPush = true;\r\n        without_first_item\r\n          ? element.name && element.price && i !== 0\r\n            ? (toPush = true)\r\n            : (toPush = false)\r\n          : element.name && element.price\r\n          ? (toPush = true)\r\n          : (toPush = false);\r\n        if (toPush) {\r\n          data.push(\r\n            <div>\r\n              <figure\r\n                className=\"shadow row\"\r\n                style={{\r\n                  margin: \"20px\",\r\n                  minHeight: \"100px\",\r\n                  backgroundColor: \"#f1f1f1\",\r\n                  borderRadius: \"5px\",\r\n                  position: \"relative\",\r\n                  display: \"flex\",\r\n                  padding: \"10px 40px 40px\",\r\n                }}\r\n              >\r\n                <div className=\"row\">\r\n                  <span\r\n                    style={{\r\n                      alignContent: \"right\",\r\n                      fontSize: \"110%\",\r\n                      display: \"flex\",\r\n                    }}\r\n                  >\r\n                    {/* <b>{element ? element.name : null}</b> */}\r\n                    <b>\r\n                      {element ? (\r\n                        <span>\r\n                          {element.name}\r\n                          {element && element.description ? (\r\n                            <span> ({element.description})</span>\r\n                          ) : null}\r\n                        </span>\r\n                      ) : null}\r\n                    </b>\r\n                  </span>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div\r\n                    className=\"col\"\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      left: \"5px\",\r\n                      bottom: \"13px\",\r\n                    }}\r\n                  >\r\n                    <span\r\n                      className=\"shadow badge badge-info m-2\"\r\n                      style={{\r\n                        backgroundColor: \"#b48300\",\r\n                        alignContent: \"left\",\r\n                        fontSize: \"110%\",\r\n                      }}\r\n                    >\r\n                      ${element.price ? element.price : \"TBD\"}\r\n                    </span>\r\n                  </div>\r\n                  <div\r\n                    className=\"col\"\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      left: \"10px\",\r\n                      bottom: \"10px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      className=\"btn-group float-right\"\r\n                      role=\"group\"\r\n                      aria-label=\"Basic example\"\r\n                    >\r\n                      <br />\r\n                      {this.state.data.whatsapp ? (\r\n                        <div>\r\n                          <Button\r\n                            variant=\"light\"\r\n                            size=\"sm\"\r\n                            onClick={this.minusItem}\r\n                            name={i}\r\n                            className=\"shadow-sm\"\r\n                            style={{\r\n                              backgroundColor: \"white\",\r\n                              color: \"black\",\r\n                              borderRadius: \"3px\",\r\n                              margin: \"10px\",\r\n                            }}\r\n                          >\r\n                            -\r\n                          </Button>\r\n                          <span\r\n                            style={{\r\n                              margin: \"10px\",\r\n                            }}\r\n                          >\r\n                            <b>\r\n                              {this.state.orderData[i] !== undefined\r\n                                ? this.state.orderData[\r\n                                    JSON.parse(JSON.stringify(i))\r\n                                  ]\r\n                                : 0}\r\n                            </b>\r\n                          </span>\r\n                          <Button\r\n                            variant=\"dark\"\r\n                            size=\"sm\"\r\n                            onClick={this.addItem}\r\n                            name={i}\r\n                            className=\"shadow-sm\"\r\n                            style={{\r\n                              backgroundColor: \"black\",\r\n                              color: \"white\",\r\n                              borderRadius: \"3px\",\r\n                              margin: \"10px\",\r\n                            }}\r\n                          >\r\n                            +\r\n                          </Button>\r\n                        </div>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br />\r\n              </figure>\r\n            </div>\r\n          );\r\n        }\r\n      });\r\n      return data;\r\n    }\r\n  };\r\n\r\n  renderFullscreenButton = (onClick, isFullscreen) => {\r\n    if (!isFullscreen) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: \"black\",\r\n            position: \"absolute\",\r\n            opacity: \"0\",\r\n          }}\r\n          value=\"click\"\r\n          className={`image-gallery-fullscreen-button${\r\n            isFullscreen ? \" active\" : \"\"\r\n          }`}\r\n          onClick={onClick}\r\n        />\r\n      );\r\n    } else if (isFullscreen) {\r\n      return (\r\n        <div\r\n          style={{\r\n            width: \"15%\",\r\n            height: \"15%\",\r\n            top: \"10%\",\r\n            right: \"10%\",\r\n            position: \"absolute\",\r\n            opacity: \"0.8\",\r\n          }}\r\n          onClick={onClick}\r\n          value=\"click\"\r\n        >\r\n          <svg\r\n            className=\"bi bi-x-circle-fill\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            viewBox=\"0 0 16 16\"\r\n            fill=\"#b48300\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M16 8A8 8 0 110 8a8 8 0 0116 0zm-4.146-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708-.708L8.707 8l3.147-3.146z\"\r\n              clipRule=\"evenodd\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  showReviewEditMessage = () => {\r\n    this.setState({\r\n      hasReviewEditMessage: true,\r\n      hasReviewDeleteMessage: false,\r\n    });\r\n    window.scrollTo(0, 0);\r\n    setTimeout(() => {\r\n      this.setState({ hasReviewEditMessage: false });\r\n    }, 10000);\r\n  };\r\n\r\n  showReviewDeleteMessage = () => {\r\n    this.setState({\r\n      hasReviewDeleteMessage: true,\r\n      hasReviewEditMessage: false,\r\n    });\r\n    window.scrollTo(0, 0);\r\n    setTimeout(() => {\r\n      this.setState({ hasReviewDeleteMessage: false });\r\n    }, 10000);\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(\"submit\");\r\n    if (time_now > this.state.datetime) {\r\n      alert(\"Time cannot be earlier than now\");\r\n    } else {\r\n      var text = await this.setOrderText();\r\n      var url = \"https://wa.me/65\" + this.state.data.contact + \"?text=\" + text;\r\n      window.location = url;\r\n    }\r\n  };\r\n\r\n  handleTime = async (time) => {\r\n    this.setState({\r\n      time: time,\r\n      datetime: new Date(\r\n        this.state.date.getMonth() +\r\n          1 +\r\n          \"/\" +\r\n          this.state.date.getDate() +\r\n          \"/\" +\r\n          this.state.date.getFullYear() +\r\n          \" \" +\r\n          time\r\n      ),\r\n    });\r\n  };\r\n\r\n  handleDate = async (date) => {\r\n    this.setState({\r\n      date: date,\r\n      datetime: new Date(\r\n        date.getMonth() +\r\n          1 +\r\n          \"/\" +\r\n          date.getDate() +\r\n          \"/\" +\r\n          date.getFullYear() +\r\n          \" \" +\r\n          this.state.time\r\n      ),\r\n    });\r\n  };\r\n\r\n  scrollToMyRef = () => window.scrollTo(0, this.myRef.offsetTop - 60);\r\n\r\n  defineDelivery = () => {\r\n    const feeString = this.state.data.price.replace(\"$\", \"\");\r\n    const fee = feeString === \"\" ? NaN : Number(feeString);\r\n    return {\r\n      delivery_option: this.state.data.delivery_option && !Number.isNaN(fee) ? \"fixed\" : \"none\",\r\n      delivery_fee: fee,\r\n    };\r\n  };\r\n\r\n  calculateDeliveryFee = () => {\r\n    const feeString = this.state.data.price.replace(\"$\", \"\");\r\n    const baseFee = feeString === \"\" ? NaN : Number(feeString);\r\n    return this.state.data.free_delivery && this.state.data.free_delivery !== \"0\" && this.state.totalPrice > Number(this.state.data.free_delivery)\r\n      ? 0 \r\n      : baseFee\r\n  }\r\n\r\n  render() {\r\n    let cuisine = [];\r\n    let regions = [];\r\n    let photos = [];\r\n    let whatsAppLink = \"https://wa.me/65\" + this.state.data.contact;\r\n    if (this.state.retrieved) {\r\n      if (this.state.data.categories) {\r\n        this.state.data.categories.forEach((element) => {\r\n          cuisine.push(\r\n            <span key={element} className=\"badge badge-info\">\r\n              {element}\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n      console.log(this.state.data.tagsValue);\r\n      if (this.state.data.tagsValue) {\r\n        this.state.data.tagsValue.forEach((element) => {\r\n          cuisine.push(\r\n            <span key={element} className=\"badge badge-secondary\">\r\n              {element}\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n      if (this.state.data.regions) {\r\n        this.state.data.regions.forEach((element) => {\r\n          regions.push(\r\n            <span key={element} className=\"badge badge-warning\">\r\n              {element}\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n      if (this.state.data.url) {\r\n        photos.push({\r\n          original: this.state.data.url,\r\n          thumbnail: this.state.data.url,\r\n        });\r\n      }\r\n      if (this.state.data.image1) {\r\n        photos.push({\r\n          original: this.state.data.url,\r\n          thumbnail: this.state.data.url,\r\n        });\r\n      }\r\n      if (this.state.data.image2) {\r\n        photos.push({\r\n          original: this.state.data.image2,\r\n          thumbnail: this.state.data.image2,\r\n        });\r\n      }\r\n      if (this.state.data.image3) {\r\n        photos.push({\r\n          original: this.state.data.image3,\r\n          thumbnail: this.state.data.image3,\r\n        });\r\n      }\r\n      if (this.state.data.image4) {\r\n        photos.push({\r\n          original: this.state.data.image4,\r\n          thumbnail: this.state.data.image4,\r\n        });\r\n      }\r\n      if (this.state.data.image5) {\r\n        photos.push({\r\n          original: this.state.data.image5,\r\n          thumbnail: this.state.data.image5,\r\n        });\r\n      }\r\n      if (photos.length === 0) {\r\n        photos.push({\r\n          original:\r\n            \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a\",\r\n          thumbnail:\r\n            \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a\",\r\n        });\r\n      }\r\n    }\r\n\r\n    return this.state.retrieved ? (\r\n      <div\r\n        className={this.state.className}\r\n        style={{ paddingTop: \"56px\", width: \"100%\" }}\r\n      >\r\n        {this.state.hasReviewEditMessage ||\r\n        this.state.hasReviewDeleteMessage ? (\r\n          <div\r\n            className=\"row\"\r\n            style={{\r\n              marginTop: \"20px\",\r\n              marginBottom: \"20px\",\r\n            }}\r\n          >\r\n            <div\r\n              className=\"card shadow\"\r\n              style={{\r\n                color: \"black\",\r\n                backgroundColor: \"red\",\r\n                width: \"100%\",\r\n              }}\r\n            >\r\n              <span className=\"card-body\">\r\n                <div\r\n                  style={{\r\n                    fontSize: \"13px\",\r\n                    margin: \"10px\",\r\n                  }}\r\n                >\r\n                  {this.state.hasReviewEditMessage ? (\r\n                    <p\r\n                      style={{\r\n                        margin: \"10px\",\r\n                        fontSize: \"30px\",\r\n                        color: \"white\",\r\n                        lineHeight: \"25px\",\r\n                      }}\r\n                    >\r\n                      Your edit(s) will be reflected once they have been\r\n                      reviewed. Thank you for your patience!\r\n                    </p>\r\n                  ) : (\r\n                    <p\r\n                      style={{\r\n                        margin: \"10px\",\r\n                        fontSize: \"30px\",\r\n                        color: \"white\",\r\n                        lineHeight: \"25px\",\r\n                      }}\r\n                    >\r\n                      This listing will be deleted once your request has been\r\n                      reviewed. Thank you for your patience!\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        {this.state.hero ? (\r\n          <div\r\n            className=\"jumbotron\"\r\n            style={{\r\n              background:\r\n                \"linear-gradient(rgba(0,0,0,0.5), rgba(255,255,255,0.3)), url(\" +\r\n                this.state.data.url +\r\n                \") no-repeat center center\",\r\n              backgroundSize: \"cover\",\r\n              height: \"300px\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                color: \"white\",\r\n                fontSize: \"50px\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              {this.state.name || this.state.data.name}\r\n            </div>\r\n            <div\r\n              style={{\r\n                color: \"white\",\r\n                fontSize: \"15px\",\r\n              }}\r\n            >\r\n              {this.state.data.description}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"row\">\r\n          <div\r\n            className=\"d-md-none d-inline-block col-md-6 col-lg-6\"\r\n            style={{\r\n              padding: \"0rem 1rem\",\r\n              marginBottom: \"0.5rem\",\r\n              marginTop: \"0rem\",\r\n              height: \"320px\",\r\n              backgroundColor: \"white\",\r\n            }}\r\n          >\r\n            <div style={{ alignItems: \"center\" }}>\r\n              {photos.length !== 0 ? (\r\n                <ImageGallery\r\n                  items={photos}\r\n                  renderFullscreenButton={this.renderFullscreenButton}\r\n                  // lazyLoad={false}\r\n                  useBrowserFullscreen={false}\r\n                  showPlayButton={false}\r\n                  useTranslate3D={false}\r\n                  slideDuration={100}\r\n                  // isRTL={false}\r\n                  slideInterval={2000}\r\n                  slideOnThumbnailOver={false}\r\n                  thumbnailPosition={\"bottom\"}\r\n                />\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6 col-lg-6\">\r\n            <div\r\n              className=\"container\"\r\n              style={{ textAlign: \"left\", paddingTop: \"10px\" }}\r\n            >\r\n              {this.state.hero ? null : (\r\n                <div id=\"back-to-top-anchor\">\r\n                  <h2 style={{ marginBottom: \"0\" }}>\r\n                    {this.state.data.name}\r\n                  </h2>\r\n                  {cuisine.length > 0 ? (\r\n                    <div>\r\n                      <svg\r\n                        className=\"bi bi-tag-fill\"\r\n                        width=\"0.88em\"\r\n                        height=\"1em\"\r\n                        viewBox=\"0 0 16 16\"\r\n                        fill=\"currentColor\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          fillRule=\"evenodd\"\r\n                          d=\"M2 1a1 1 0 00-1 1v4.586a1 1 0 00.293.707l7 7a1 1 0 001.414 0l4.586-4.586a1 1 0 000-1.414l-7-7A1 1 0 006.586 1H2zm4 3.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z\"\r\n                          clipRule=\"evenodd\"\r\n                        />\r\n                      </svg>{\" \"}\r\n                      {cuisine}\r\n                      <br />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              )}\r\n              <div style={{ marginTop: \"0.75rem\" }}>\r\n                <svg\r\n                  className=\"bi bi-house-fill\"\r\n                  width=\"1em\"\r\n                  height=\"1em\"\r\n                  viewBox=\"0 0 16 16\"\r\n                  fill=\"currentColor\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M8 3.293l6 6V13.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M7.293 1.5a1 1 0 011.414 0l6.647 6.646a.5.5 0 01-.708.708L8 2.207 1.354 8.854a.5.5 0 11-.708-.708L7.293 1.5z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>{\" \"}\r\n                <a href={\"https://maps.google.com/?q=\" + this.state.data.street} style={{ color: 'black', textTransform: 'capitalize' }}>\r\n                  {(this.state.data.unit + ' ' + this.state.data.street).toLowerCase()}\r\n                </a>\r\n                {this.state.data.website ? (\r\n                  <div>\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"1em\"\r\n                      height=\"1em\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"black\"\r\n                      strokeWidth=\"3\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      className=\"feather feather-globe\"\r\n                    >\r\n                      <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                      <line x1=\"2\" y1=\"12\" x2=\"22\" y2=\"12\"/>\r\n                      <path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"/>\r\n                    </svg>{\" \"}\r\n                    <a\r\n                      href={\r\n                        this.state.data.website.slice(0, 4) === \"http\"\r\n                          ? this.state.data.website\r\n                          : \"https://\" + this.state.data.website\r\n                      }\r\n                      onClick={() =>\r\n                        onLoad(\"website_click\", this.state.data.name)\r\n                      }\r\n                      target=\"blank\"\r\n                    >\r\n                      {this.state.data.website.replace(/https?:\\/\\//,'')}\r\n                    </a>\r\n                  </div>\r\n                ) : null}\r\n                {this.state.data.contact !== \"0\" ? (\r\n                  <div>\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"16\"\r\n                      height=\"16\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"black\"\r\n                      strokeWidth=\"3\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      className=\"feather feather-phone\"\r\n                    >\r\n                      <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"></path>\r\n                    </svg>{\" \"}\r\n                    <span>\r\n                      {this.state.data.contact} {\" (\"}\r\n                      {this.state.data.whatsapp ? (\r\n                        <span>\r\n                          <a\r\n                            href={whatsAppLink}\r\n                            target=\"blank\"\r\n                            onClick={() => onLoad(\"message\", this.state.data.name)}\r\n                          >\r\n                            WhatsApp\r\n                          </a>\r\n                          {this.state.data.sms || this.state.data.call ? ', ' : null}\r\n                        </span>\r\n                      ) : null}\r\n                      {this.state.data.sms ? (\r\n                        <span>\r\n                          <a href={'sms:+65' + this.state.data.contact}>SMS</a>\r\n                          {this.state.data.call ? ', ' : null}\r\n                        </span>\r\n                      ) : null}\r\n                      {this.state.data.call ? <a href={'tel:+65' + this.state.data.contact}>Call</a> : null}\r\n                      {\") \"} <br />\r\n                      {this.state.data.wechatid ? (\r\n                        <span style={{ color: \"green\" }}>\r\n                          <b>WeChat ID: {this.state.data.wechatid}</b>\r\n                        </span>\r\n                      ) : null}\r\n                    </span>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n              {this.state.data.pickup_option ||\r\n              this.state.data.delivery_option ? (\r\n                <div style={{ marginTop: \"0.75rem\" }}>\r\n                  <svg\r\n                    className=\"bi bi-bag\"\r\n                    width=\"14\"\r\n                    height=\"14\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M14 5H2v9a1 1 0 001 1h10a1 1 0 001-1V5zM1 4v10a2 2 0 002 2h10a2 2 0 002-2V4H1z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                    <path d=\"M8 1.5A2.5 2.5 0 005.5 4h-1a3.5 3.5 0 117 0h-1A2.5 2.5 0 008 1.5z\" />\r\n                  </svg>{\" \"}\r\n                  {this.state.data.pickup_option ? (\r\n                    <span className=\"badge badge-success\">Da Bao</span>\r\n                  ) : null}\r\n                  {this.state.data.delivery_option ? (\r\n                    <span className=\"badge badge-success\">Delivery</span>\r\n                  ) : null}\r\n                  {regions.length > 0 ? (\r\n                    <span style={{ marginLeft: \"1rem\" }}>\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"14\"\r\n                        height=\"14\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"none\"\r\n                        stroke=\"black\"\r\n                        strokeWidth=\"3\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        className=\"feather feather-truck\"\r\n                      >\r\n                        <rect x=\"1\" y=\"3\" width=\"15\" height=\"13\"></rect>\r\n                        <polygon points=\"16 8 20 8 23 11 23 16 16 16 16 8\"></polygon>\r\n                        <circle cx=\"5.5\" cy=\"18.5\" r=\"2.5\"></circle>\r\n                        <circle cx=\"18.5\" cy=\"18.5\" r=\"2.5\"></circle>\r\n                      </svg>{\" \"}\r\n                      {regions}\r\n                      <br />\r\n                    </span>\r\n                  ) : null}\r\n                </div>\r\n              ) : null}\r\n              {this.state.data.delivery_detail ||\r\n              this.state.data.minimum_order ||\r\n              this.state.data.free_delivery ? (\r\n                <div style={{ marginTop: \"0.5rem\" }}>\r\n                  <h6 style={{ marginBottom: \"0px\" }}>\r\n                    <b>Details Regarding Delivery</b>\r\n                  </h6>\r\n                  <Linkify>\r\n                    <p\r\n                      style={{\r\n                        whiteSpace: \"pre-line\",\r\n                        marginBottom: \"20px\",\r\n                      }}\r\n                    >\r\n                      {this.state.data.delivery_detail}\r\n                    </p>\r\n                    {this.state.data.minimum_order ? (\r\n                      <span>\r\n                        Minimum Order: ${this.state.data.minimum_order}\r\n                        <br />\r\n                      </span>\r\n                    ) : null}\r\n                    {this.state.data.free_delivery ? (\r\n                      <span>Free Delivery: ${this.state.data.free_delivery}</span>\r\n                    ) : null}\r\n                  </Linkify>\r\n                </div>\r\n              ) : null}\r\n              {this.state.data.price ? (\r\n                <div>\r\n                  <h6 style={{ marginBottom: \"0px\" }}>\r\n                    <b>Delivery Fees</b>\r\n                  </h6>\r\n                  <p\r\n                    style={{\r\n                      whiteSpace: \"pre-line\",\r\n                      marginBottom: \"20px\",\r\n                    }}\r\n                  >\r\n                    {this.state.data.price}\r\n                  </p>\r\n                </div>\r\n              ) : null}\r\n              {this.state.data.opening ? (\r\n                <div>\r\n                  <h6 style={{ marginBottom: \"0px\" }}>\r\n                    <b>Opening Hours</b>\r\n                  </h6>\r\n                  <p\r\n                    style={{\r\n                      whiteSpace: \"pre-line\",\r\n                      marginBottom: \"20px\",\r\n                    }}\r\n                  >\r\n                    {this.state.data.opening}\r\n                  </p>\r\n                </div>\r\n              ) : null}\r\n              {this.state.data.promo ? (\r\n                <div\r\n                  className=\"card shadow\"\r\n                  style={{\r\n                    color: \"black\",\r\n                    backgroundColor: \"white\",\r\n                    height: \"35px\",\r\n                  }}\r\n                >\r\n                  <span className=\"card-body\">\r\n                    <div\r\n                      className=\"card-title\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        top: \"6px\",\r\n                        fontSize: \"13px\",\r\n                      }}\r\n                    >\r\n                      <b>{this.state.data.promo}</b>:{\" \"}\r\n                      {this.state.data.condition &&\r\n                      this.state.data.condition.length > 40\r\n                        ? this.state.data.condition.slice(0, 40) + \"...\"\r\n                        : this.state.data.condition}\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className=\"d-none d-md-inline-block col-md-6 col-lg-6\"\r\n            style={{\r\n              padding: \"2.5rem 1rem\",\r\n              height: \"320px\",\r\n              backgroundColor: \"white\",\r\n            }}\r\n          >\r\n            <div style={{ alignItems: \"center\" }}>\r\n              {photos.length !== 0 ? (\r\n                <ImageGallery\r\n                  items={photos}\r\n                  renderFullscreenButton={this.renderFullscreenButton}\r\n                  // lazyLoad={false}\r\n                  useBrowserFullscreen={false}\r\n                  showPlayButton={false}\r\n                  useTranslate3D={false}\r\n                  slideDuration={100}\r\n                  // isRTL={false}\r\n                  slideInterval={2000}\r\n                  slideOnThumbnailOver={false}\r\n                  thumbnailPosition={\"bottom\"}\r\n                />\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div\r\n            className=\"container\"\r\n            style={{ textAlign: \"left\", paddingTop: \"10px\" }}\r\n          >\r\n            {this.state.data.whatsapp ? (\r\n              <div>\r\n                {/* Display appropriate header - menu / menu with Whatsapp ordering */}\r\n                {this.state.data.menu &&\r\n                this.state.data.menu_combined.length > 0 &&\r\n                this.state.data.menu_combined[0].name !== \"\" ? (\r\n                  <img\r\n                    alt=\"\"\r\n                    src={this.state.data.whatsapp ? orderleh_title : menu_title}\r\n                    style={{ width: \"310px\" }}\r\n                    ref={(ref) => (this.myRef = ref)}\r\n                  />\r\n                ) : null}\r\n                {/* Display the first item of the menu with a see more button - TODO: boilerplate code */}\r\n                {this.state.data.menu &&\r\n                this.state.data.menu_combined.length > 0 &&\r\n                this.state.data.menu_combined[0].name !== \"\" ? (\r\n                  <div style={{ zIndex: -999 }}>\r\n                    <figure\r\n                      className=\"shadow row\"\r\n                      style={{\r\n                        margin: \"20px\",\r\n                        minHeight: \"100px\",\r\n                        backgroundColor: \"#f1f1f1\",\r\n                        borderRadius: \"5px\",\r\n                        position: \"relative\",\r\n                        display: \"flex\",\r\n                        padding: \"10px 40px 40px\",\r\n                        zIndex: 1,\r\n                      }}\r\n                    >\r\n                      {/* gradient overlay shows if only 1 item OR >1 item && customer hasn't clicked Menu / see more */}\r\n                      {(!this.state.wantToOrder &&\r\n                        this.state.data.menu &&\r\n                        this.state.data.menu_combined.length > 1 &&\r\n                        this.state.data.menu_combined[1] &&\r\n                        this.state.data.menu_combined[1].name !== \"\") ||\r\n                      // addresses case where >1 item and customer hasnt clicked\r\n                      (!this.state.wantToOrder &&\r\n                        this.state.data.menu_combined[1] &&\r\n                        this.state.data.menu_combined[1].name === \"\") ||\r\n                      // addresses case where there are multiple items in menu_combined but only 1 non-empty item\r\n                      (!this.state.wantToOrder &&\r\n                        this.state.data.menu_combined.length === 1) ? (\r\n                        // addresses case where there is only 1 item in menu_combined\r\n                        <span style={{ height: \"0px\" }}>\r\n                          <img\r\n                            src={gradient}\r\n                            alt=\"\"\r\n                            style={{\r\n                              width: \"130%\",\r\n                              height: \"150px\",\r\n                              borderRadius: \"5px\",\r\n                              position: \"absolute\",\r\n                              bottom: \"-30px\",\r\n                              left: \"-15px\",\r\n                              zIndex: \"999\",\r\n                            }}\r\n                          />\r\n                        </span>\r\n                      ) : null}\r\n                      <div className=\"row\">\r\n                        <span\r\n                          style={{\r\n                            alignContent: \"right\",\r\n                            fontSize: \"110%\",\r\n                            display: \"flex\",\r\n                          }}\r\n                        >\r\n                          <b>\r\n                            {this.state.data.menu_combined[0] ? (\r\n                              <span>\r\n                                {this.state.data.menu_combined[0].name}\r\n                                {this.state.data.menu_combined[0] &&\r\n                                this.state.data.menu_combined[0].description ? (\r\n                                  <span>\r\n                                    {\" \"}\r\n                                    (\r\n                                    {\r\n                                      this.state.data.menu_combined[0]\r\n                                        .description\r\n                                    }\r\n                                    )\r\n                                  </span>\r\n                                ) : null}\r\n                              </span>\r\n                            ) : null}\r\n                          </b>\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"row\">\r\n                        <div\r\n                          className=\"col\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            left: \"5px\",\r\n                            bottom: \"13px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            className=\"shadow badge badge-info m-2\"\r\n                            style={{\r\n                              backgroundColor: \"#b48300\",\r\n                              alignContent: \"left\",\r\n                              fontSize: \"110%\",\r\n                            }}\r\n                          >\r\n                            $\r\n                            {this.state.data.menu_combined[0].price\r\n                              ? this.state.data.menu_combined[0].price\r\n                              : \"TBD\"}\r\n                          </span>\r\n                        </div>\r\n                        <div\r\n                          className=\"col\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            left: \"10px\",\r\n                            bottom: \"10px\",\r\n                          }}\r\n                        >\r\n                          <div\r\n                            className=\"btn-group float-right\"\r\n                            role=\"group\"\r\n                            aria-label=\"Basic example\"\r\n                          >\r\n                            <br />\r\n                            {this.state.data.whatsapp ? (\r\n                              <div>\r\n                                <Button\r\n                                  variant=\"light\"\r\n                                  size=\"sm\"\r\n                                  onClick={this.minusItem}\r\n                                  name={0}\r\n                                  className=\"shadow-sm\"\r\n                                  style={{\r\n                                    backgroundColor: \"white\",\r\n                                    color: \"black\",\r\n                                    borderRadius: \"3px\",\r\n                                    margin: \"10px\",\r\n                                  }}\r\n                                >\r\n                                  -\r\n                                </Button>\r\n                                <span\r\n                                  style={{\r\n                                    margin: \"10px\",\r\n                                  }}\r\n                                >\r\n                                  <b>\r\n                                    {this.state.orderData[0] !== undefined\r\n                                      ? this.state.orderData[0] // hardcode 0 to display first menu item\r\n                                      : 0}\r\n                                  </b>\r\n                                </span>\r\n                                <Button\r\n                                  variant=\"dark\"\r\n                                  size=\"sm\"\r\n                                  onClick={this.addItem}\r\n                                  name={0} // hardcode 0 to display first menu item\r\n                                  className=\"shadow-sm\"\r\n                                  style={{\r\n                                    backgroundColor: \"black\",\r\n                                    color: \"white\",\r\n                                    borderRadius: \"3px\",\r\n                                    margin: \"10px\",\r\n                                  }}\r\n                                >\r\n                                  +\r\n                                </Button>\r\n                              </div>\r\n                            ) : null}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <br />\r\n                    </figure>\r\n                  </div>\r\n                ) : null}\r\n\r\n                {/* Display the rest of the menu if customer clicks Menu / see more */}\r\n                {this.state.wantToOrder ? (\r\n                  <div>\r\n                    <Form onSubmit={this.handleSubmit.bind(this)}>\r\n                      <p>{this.getMenu(true)} </p>\r\n                      <div>\r\n                        <br />\r\n                        <img\r\n                          alt=\"\"\r\n                          src={revieworder}\r\n                          style={{ width: \"310px\" }}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <figure\r\n                          className=\"shadow\"\r\n                          style={{\r\n                            margin: \"20px\",\r\n                            padding: \"10px\",\r\n                            backgroundColor: \"#f1f1f1\",\r\n                            borderRadius: \"5px\",\r\n                            position: \"relative\",\r\n                            zIndex: 1,\r\n                          }}\r\n                        >\r\n                          <span\r\n                            style={{\r\n                              fontSize: \"110%\",\r\n                            }}\r\n                          >\r\n                            <b>Item Summary</b>\r\n                            <br />\r\n                            <br />\r\n                          </span>\r\n\r\n                          {/* Item represents object with properties name and price */}\r\n                          {this.state.data.menu_combined.map((item, i) => {\r\n                            if (\r\n                              item !== undefined &&\r\n                              this.state.orderData[i] !== 0\r\n                            ) {\r\n                              return (\r\n                                <div\r\n                                  style={{\r\n                                    position: \"relative\",\r\n                                    padding: \"5px\",\r\n                                  }}\r\n                                >\r\n                                  <span\r\n                                    style={{\r\n                                      alignContent: \"right\",\r\n                                      fontSize: \"110%\",\r\n                                    }}\r\n                                  >\r\n                                    <b>{item.name ? item.name : null}</b>\r\n                                  </span>\r\n                                  <div\r\n                                    className=\"btn-group float-right\"\r\n                                    role=\"group\"\r\n                                    aria-label=\"Basic example\"\r\n                                  >\r\n                                    <br />\r\n                                    {this.state.data.whatsapp ? (\r\n                                      <div>\r\n                                        <Button\r\n                                          variant=\"light\"\r\n                                          size=\"sm\"\r\n                                          onClick={this.minusItem}\r\n                                          name={i}\r\n                                          className=\"shadow-sm\"\r\n                                          style={{\r\n                                            backgroundColor: \"white\",\r\n                                            color: \"black\",\r\n                                            borderRadius: \"3px\",\r\n                                            margin: \"10px\",\r\n                                          }}\r\n                                        >\r\n                                          -\r\n                                        </Button>\r\n                                        <span\r\n                                          style={{\r\n                                            margin: \"10px\",\r\n                                          }}\r\n                                        >\r\n                                          <b>\r\n                                            {this.state.orderData[i] !==\r\n                                            undefined\r\n                                              ? this.state.orderData[\r\n                                                  JSON.parse(JSON.stringify(i))\r\n                                                ]\r\n                                              : 0}\r\n                                          </b>\r\n                                        </span>\r\n                                        <Button\r\n                                          variant=\"dark\"\r\n                                          size=\"sm\"\r\n                                          onClick={this.addItem}\r\n                                          name={i}\r\n                                          className=\"shadow-sm\"\r\n                                          style={{\r\n                                            backgroundColor: \"black\",\r\n                                            color: \"white\",\r\n                                            borderRadius: \"3px\",\r\n                                            margin: \"10px\",\r\n                                          }}\r\n                                        >\r\n                                          +\r\n                                        </Button>\r\n                                      </div>\r\n                                    ) : null}\r\n                                  </div>\r\n                                  <br />\r\n                                  <span\r\n                                    className=\"shadow badge badge-info m-2\"\r\n                                    style={{\r\n                                      backgroundColor: \"#b48300\",\r\n                                      alignContent: \"left\",\r\n                                      fontSize: \"110%\",\r\n                                    }}\r\n                                  >\r\n                                    ${item.price ? item.price : \"TBD\"}\r\n                                  </span>\r\n                                </div>\r\n                              );\r\n                            } else {\r\n                              return null;\r\n                            }\r\n                          })}\r\n\r\n                          <figcaption>\r\n                            <hr\r\n                              style={{\r\n                                color: \"#b48300\",\r\n                                backgroundColor: \"#b48300\",\r\n                                height: \"1px\",\r\n                                borderColor: \"#b48300\",\r\n                                width: \"100%\",\r\n                                alignItems: \"center\",\r\n                              }}\r\n                            />\r\n                            <CartProgress\r\n                              context={{\r\n                                ...this.state.data,\r\n                                channel: \"delivery\",\r\n                                ...this.defineDelivery(),\r\n                                pageData: {\r\n                                  minimum_order: this.state.data.minimum_order,\r\n                                  free_delivery: this.state.data.free_delivery,\r\n                                },\r\n                                cartTotal: {\r\n                                  totalPrice: this.state.totalPrice,\r\n                                },\r\n                              }}\r\n                              deliveryFee={this.calculateDeliveryFee()}\r\n                              discount={0}\r\n                            />\r\n                          </figcaption>\r\n                        </figure>\r\n                      </div>\r\n                      <br />\r\n                      <div>\r\n                        <img\r\n                          alt=\"\"\r\n                          src={delivery_title}\r\n                          style={{ width: \"310px\" }}\r\n                        />\r\n\r\n                        <div className=\"form-group create-title\">\r\n                          <label for=\"name\">Name</label>\r\n                          <input\r\n                            onChange={this.handleCustomerDetails}\r\n                            value={this.state.name}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"name\"\r\n                            style={{ borderColor: \"#b48300\" }}\r\n                            placeholder=\"We don't store your info!\"\r\n                          ></input>\r\n                        </div>\r\n\r\n                        <div className=\"form-group create-title\">\r\n                          <label for=\"unit\">Mobile Number: </label>\r\n                          <div className=\"input-group mb-12\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span\r\n                                className=\"input-group-text\"\r\n                                id=\"basic-addon1\"\r\n                              >\r\n                                +65\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              onChange={this.handleCustomerDetails}\r\n                              value={this.state.customerNumber}\r\n                              type=\"tel\"\r\n                              className={\r\n                                !this.state.customerNumber\r\n                                  ? \"form-control is-invalid\"\r\n                                  : \"form-control\"\r\n                              }\r\n                              name=\"customerNumber\"\r\n                              placeholder=\" 9xxxxxxx\"\r\n                              maxLength=\"8\"\r\n                              minlength=\"8\"\r\n                              pattern=\"[8-9]{1}[0-9]{7}\"\r\n                              style={{\r\n                                borderColor: \"#b48300\",\r\n                                borderRadius: \"5px\",\r\n                              }}\r\n                              required\r\n                            ></input>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                          <div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\r\n                            <div class=\"form-group create-title\">\r\n                              <label for=\"time\">Delivery Date</label>\r\n                              <DatePicker\r\n                                class=\"form-control is-invalid\"\r\n                                dayPlaceholder=\"dd\"\r\n                                monthPlaceholder=\"mm\"\r\n                                yearPlaceholder=\"yyyy\"\r\n                                onChange={this.handleDate}\r\n                                value={this.state.date}\r\n                                format=\"dd/MMM/yyyy\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\r\n                            <div class=\"form-group create-title\">\r\n                              <label for=\"time\">Delivery Time</label>\r\n                              <TimePicker\r\n                                class=\"form-control is-invalid\"\r\n                                dayPlaceholder=\"dd\"\r\n                                monthPlaceholder=\"mm\"\r\n                                yearPlaceholder=\"yyyy\"\r\n                                hourPlaceholder=\"hh\"\r\n                                minutePlaceholder=\"mm\"\r\n                                onChange={this.handleTime}\r\n                                value={this.state.time}\r\n                                format=\"hh:mma\"\r\n                                disableClock\r\n                                required\r\n                              />\r\n                              {time_now > this.state.datetime ? (\r\n                                <span class=\"badge badge-danger\">\r\n                                  Time cannot be earlier than now\r\n                                </span>\r\n                              ) : null}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"row\">\r\n                            {\" \"}\r\n                            <div className=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\r\n                              {\" \"}\r\n                              <div className=\"form-group create-title\">\r\n                                <label for=\"postalcode\">Postal Code</label>\r\n                                <div className=\"input-group\">\r\n                                  <input\r\n                                    onChange={this.handleCustomerDetails}\r\n                                    value={this.state.postal}\r\n                                    type=\"text\"\r\n                                    className={\r\n                                      !this.state.postal\r\n                                        ? \"form-control is-invalid\"\r\n                                        : \"form-control\"\r\n                                    }\r\n                                    name=\"postal\"\r\n                                    placeholder=\"Enter Postal Code\"\r\n                                    maxLength=\"6\"\r\n                                    required\r\n                                  ></input>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\r\n                              {\" \"}\r\n                              <div className=\"form-group create-title\">\r\n                                <label for=\"unit\">Unit #</label>\r\n                                <input\r\n                                  onChange={this.handleCustomerDetails}\r\n                                  value={this.state.unit}\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  name=\"unit\"\r\n                                  placeholder=\"E.g. 01-01\"\r\n                                ></input>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"row\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                              <div className=\"form-group create-title\">\r\n                                <label for=\"street\">\r\n                                  Street Name<b> (Auto-Filled)</b>\r\n                                </label>\r\n                                <input\r\n                                  onChange={this.handleCustomerDetails}\r\n                                  value={this.state.street}\r\n                                  type=\"text\"\r\n                                  className={\r\n                                    !this.state.street\r\n                                      ? \"form-control is-invalid\"\r\n                                      : \"form-control\"\r\n                                  }\r\n                                  name=\"street\"\r\n                                  placeholder=\"Enter Street Name\"\r\n                                ></input>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* \r\n                            <div className=\"form-group create-title\">\r\n                              <label for=\"address\">Address</label>\r\n                              <input\r\n                                onChange={this.handleCustomerDetails}\r\n                                value={this.state.address}\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                name=\"address\"\r\n                                style={{ borderColor: \"#b48300\" }}\r\n                                placeholder=\"\"\r\n                              ></input>\r\n                            </div> */}\r\n                        <div className=\"form-group create-title\">\r\n                          <label for=\"address\">Comments</label>\r\n                          <input\r\n                            onChange={this.handleCustomerDetails}\r\n                            value={this.state.notes}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"notes\"\r\n                            style={{\r\n                              borderColor: \"#b48300\",\r\n                            }}\r\n                            placeholder=\"No chilli etc, leave blank if nil\"\r\n                          ></input>\r\n                        </div>\r\n                        <div className=\"form-group create-title\">\r\n                          <OverlayTrigger\r\n                            trigger={[\"hover\", \"focus\"]}\r\n                            placement=\"top\"\r\n                            overlay={popover}\r\n                          >\r\n                            <label for=\"remember\">Remember me?</label>\r\n                          </OverlayTrigger>\r\n                          <input\r\n                            name=\"shouldRememberDetails\"\r\n                            type=\"checkbox\"\r\n                            checked={this.state.shouldRememberDetails}\r\n                            onChange={this.toggleShouldRememberDetails}\r\n                            style={{\r\n                              marginLeft: \"10px\",\r\n                            }}\r\n                          ></input>\r\n                        </div>\r\n                        <Button\r\n                          className=\"shadow-sm\"\r\n                          // href={\r\n                          //   \"https://wa.me/65\" +\r\n                          //   this.state.data.contact +\r\n                          //   \"?text=\" +\r\n                          //   this.setOrderText()\r\n                          // }\r\n                          // target=\"blank\"\r\n                          type=\"Submit\"\r\n                          style={{\r\n                            backgroundColor: \"#B48300\",\r\n                            borderColor: \"#B48300\",\r\n                            fontSize: \"20px\",\r\n                            width: \"300px\",\r\n                          }}\r\n                          name=\"Language\"\r\n                          onClick={() =>\r\n                            onLoad(\"place_order\", this.state.data.name)\r\n                          }\r\n                          disabled={\r\n                            this.state.data.minimum_order &&\r\n                            this.state.totalPrice < this.state.data.minimum_order\r\n                          }\r\n                        >\r\n                          Place order via WhatsApp\r\n                        </Button>\r\n                        <br />\r\n                      </div>\r\n                    </Form>\r\n                  </div>\r\n                ) : null}\r\n\r\n                {/* See more button shows if only 1 item OR >1 item && customer hasn't clicked Menu / see more */}\r\n                {\r\n                  this.state.data.menu && (\r\n                    (this.state.data.menu_combined.length > 1 &&\r\n                      this.state.data.menu_combined[1] &&\r\n                      this.state.data.menu_combined[1].name !== \"\") ||\r\n                    (this.state.data.menu_combined[0] &&\r\n                      this.state.data.menu_combined[0].name !== \"\" &&\r\n                      this.state.data.menu_combined[1] &&\r\n                      this.state.data.menu_combined[1].name === \"\") ||\r\n                    (this.state.data.menu_combined.length === 1 &&\r\n                      this.state.data.menu_combined[0] &&\r\n                      this.state.data.menu_combined[0].name !== \"\") \r\n                  ) \r\n                    ? <div style={{ marginTop: \"30px\" }}>\r\n                      <hr\r\n                        style={{\r\n                          color: \"grey\",\r\n                          backgroundColor: \"grey\",\r\n                          height: \"1px\",\r\n                          borderColor: \"grey\",\r\n                          width: \"100%\",\r\n                          alignItems: \"center\",\r\n                          marginBottom: \"0px\", // aligns See More to divider\r\n                        }}\r\n                      />\r\n                      <div\r\n                        style={{\r\n                          textAlign: \"center\",\r\n                          paddingRight: \"15px\",\r\n                          fontSize: \"110%\",\r\n                          cursor: \"pointer\",\r\n                          color: \"grey\",\r\n                        }}\r\n                        onClick={this.enterDetails}\r\n                      >\r\n                        {!this.state.wantToOrder ? <b>see more ↓</b> : <b>see less ↑</b>}\r\n                      </div>\r\n                    </div>\r\n                    : null\r\n                }\r\n              </div>\r\n            ) : null}\r\n            {this.state.data.description ? (\r\n              <div>\r\n                <br />\r\n                <h6 style={{ marginBottom: \"0px\" }}>\r\n                  <b>Brief Description</b>\r\n                </h6>\r\n              </div>\r\n            ) : null}\r\n            <Linkify>\r\n              {this.state.data.description ? (\r\n                <p style={{ marginBottom: \"20px\" }}>\r\n                  {this.state.data.description}\r\n                </p>\r\n              ) : null}\r\n              {this.state.data.description_detail &&\r\n              this.state.data.description_detail !== \"\" &&\r\n              this.state.data.description_detail !== undefined ? (\r\n                <div>\r\n                  <h6 style={{ marginBottom: \"0px\" }}>\r\n                    <b>Detailed Description</b>\r\n                  </h6>\r\n                  <p\r\n                    style={{\r\n                      whiteSpace: \"pre-line\",\r\n                      marginBottom: \"20px\",\r\n                    }}\r\n                  >\r\n                    {this.state.data.description_detail}\r\n                  </p>\r\n                </div>\r\n              ) : null}\r\n            </Linkify>\r\n            {/* {Menu appears if menu data is present and whatsapp is not present} */}\r\n            {this.state.data.menu && !this.state.data.whatsapp ? (\r\n              <div>\r\n                <h6 style={{ marginBottom: \"0px\" }}>\r\n                  <b>Menu Items</b>\r\n                </h6>\r\n                <p>{this.getMenu(false)} </p>\r\n                <br></br>\r\n              </div>\r\n            ) : null}            \r\n            <div className=\"row\" style={{ margin: \"1rem 0\" }}>\r\n              <div\r\n                className=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\"\r\n                style={{ padding: \"0\" }}\r\n              >\r\n                <Clap\r\n                  collection={\"hawkers\"}\r\n                  id={this.state.id}\r\n                  claps={this.state.data.claps}\r\n                />\r\n              </div>\r\n              <div\r\n                className=\"d-md-inline-block col-xs-6 col-sm-6 col-md-6 col-lg-6\"\r\n                style={{ padding: \"0\" }}\r\n              >\r\n                <div style={{ fontSize: \"12px\" }}>\r\n                  {\" \"}\r\n                  Share this with friends!\r\n                </div>\r\n                <FacebookShareButton\r\n                  url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n                  quote={\"Hungry? Try out \" + this.state.data.name + \" now!\"}\r\n                  hashtag={\"#saveourFnB\"}\r\n                >\r\n                  <FacebookIcon size={32} round={true} />\r\n                </FacebookShareButton>{\" \"}\r\n                <span className=\"\" style={{ marginRight: \"5px\" }}>\r\n                  <a\r\n                    href={\r\n                      \"whatsapp://send?text=\" +\r\n                      encodeURIComponent(\r\n                        \"Hungry? Try out \" +\r\n                          this.state.data.name +\r\n                          \" now! Order form / more information at www.foodleh.app/info?id=\" +\r\n                          this.state.id\r\n                      )\r\n                    }\r\n                  >\r\n                    <img\r\n                      alt=\"\"\r\n                      src={whatsapp_icon}\r\n                      style={{ width: \"32px\", cursor: \"pointer\" }}\r\n                    />\r\n                  </a>\r\n                </span>\r\n                <TelegramShareButton\r\n                  url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n                  title={\"Hungry? Try out \" + this.state.data.name + \" now!\"}\r\n                >\r\n                  <TelegramIcon size={32} round={true} />\r\n                </TelegramShareButton>{\" \"}\r\n                <TwitterShareButton\r\n                  url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n                  title={\"Hungry? Try out \" + this.state.data.name + \" now!\"}\r\n                >\r\n                  <TwitterIcon size={32} round={true} />\r\n                </TwitterShareButton>{\" \"}\r\n              </div>\r\n            </div>\r\n            <Component.Popup\r\n              data={this.state.data}\r\n              id={this.state.id}\r\n              onSubmitEdit={this.showReviewEditMessage}\r\n              onSubmitDelete={this.showReviewDeleteMessage}\r\n            />\r\n            <p style={{ color: \"grey\" }}>\r\n              <small>\r\n                Are you the owner? Email foodleh@outlook.com for enquiries.{\" \"}\r\n              </small>\r\n            </p>\r\n            <ScrollTop>\r\n              <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n                <KeyboardArrowUpIcon />\r\n              </Fab>\r\n            </ScrollTop>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div className=\"row h-100 page-container\">\r\n        <div className=\"col-sm-12 my-auto\">\r\n          <h3>Loading</h3>\r\n          <Spinner className=\"\" animation=\"grow\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Info);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport logo from \"../logo-black.png\";\r\nimport hashtag from \"../hashtag.jpeg\";\r\nimport Clap from \"./Clap\";\r\nimport { db } from \"./Firestore\";\r\n\r\nimport firebase from \"./Firestore\";\r\nimport { LanguageContext } from \"./themeContext\";\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\n\r\nexport class About extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      retrieved: false,\r\n      data: [],\r\n      id: \"h0xRqDdHmIPV2jQhUXnc\",\r\n    };\r\n    this.getDoc = this.getDoc.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    onLoad(\"about_load\");\r\n    this.getDoc();\r\n  }\r\n\r\n  getDoc = async () => {\r\n    await db\r\n      .collection(\"etc\")\r\n      .doc(\"h0xRqDdHmIPV2jQhUXnc\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (snapshot.exists) {\r\n          this.setState({\r\n            data: snapshot.data(),\r\n            retrieved: true,\r\n          });\r\n        }\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"container-fluid\">\r\n        <div class=\"jumbotron row\" style={{ \"background-color\": \"white\" }}>\r\n          <div class=\"row \" style={{ \"margin-top\": \"57px\" }}>\r\n            <div class=\"col-xs-2 col-sm-2 col-md-2 col-lg-2\"></div>\r\n            <div\r\n              class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\"\r\n              style={{ textAlign: \"center\" }}\r\n            >\r\n              <h3\r\n                class=\"row card-title justify-content-center\"\r\n                style={{ textAlign: \"center\", padding: \"10px 10px 10px\" }}\r\n              >\r\n                <LanguageContext.Consumer>\r\n                  {(context) => (\r\n                    <div>\r\n                    { context.data.about.aboutus }\r\n                    </div>\r\n                  )}\r\n                </LanguageContext.Consumer>\r\n              </h3>\r\n              <div>\r\n                <p\r\n                  class=\"row justify-content-center\"\r\n                  style={{ textAlign: \"center\", padding: \"30px 30px 30px\" }}\r\n                >\r\n                  <LanguageContext.Consumer>\r\n                    {(context) => (\r\n                      <div>\r\n                        <img src={logo} alt=\"FoodLeh?\" style={{ height: \"20px\" }} />\r\n                        {context.data.about.para_one}\r\n                        <br />\r\n                        <br />\r\n                        {context.data.about.para_two}\r\n                        <br />\r\n                        <br />\r\n                        {context.data.about.para_three}\r\n                        <br />\r\n                        <br />\r\n                        {context.data.about.para_four}\r\n                        <hr />\r\n                        <b>{context.data.about.howtouse}</b>\r\n                        <br />\r\n                        <b>{context.data.about.forappusers}</b> {context.data.about.appusers}<br />\r\n                        <br />\r\n                        <b>{context.data.about.forfnb}</b> {context.data.about.fnb}\r\n                        <br />\r\n                        <br />\r\n                        <div class=\"row d-flex justify-content-center\">\r\n                          {this.state.retrieved ? (\r\n                            <Clap\r\n                              toggle=\"about\"\r\n                              collection={\"etc\"}\r\n                              id={this.state.id}\r\n                              claps={this.state.data.claps}\r\n                            />\r\n                          ) : null}\r\n                          <br />\r\n                          <br />\r\n                        </div>\r\n                        <br />\r\n                        <br />\r\n                        <b>\r\n                          <img src={hashtag} alt=\"\" class=\"hashtag\" />\r\n                        </b>\r\n                        <br />\r\n                        <br />\r\n                        {context.data.about.disclaimer}\r\n                        <br />\r\n                        <br />\r\n                        <a href=\"https://github.com/limyifan1/hawkercentral\">\r\n                          Github Link \r\n                        </a>\r\n                         {\" | \"}\r\n                         <a href=\"https://creativecommons.org/licenses/by-nc/4.0/\">\r\n                          CC BY-NC 4.0\r\n                        </a>\r\n                        <br />\r\n                        (Feel free to send pull requests)\r\n                        <br />\r\n                        <br />\r\n                        &copy; 2020 Foodleh? by Yi Fan and Cheeps. \r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                      </div>\r\n                    )}\r\n                  </LanguageContext.Consumer>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-xs-2 col-sm-2 col-md-2 col-lg-2\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default About;\r\n","import emailjs from \"emailjs-com\";\r\nimport { db } from \"../Components/Firestore\";\r\n/**\r\n * compare two values and returns true if match else false\r\n * @param str1\r\n * @param str2\r\n */\r\nfunction compareString(str1, str2) {\r\n  if (typeof str1 !== typeof undefined && typeof str2 !== typeof undefined) {\r\n    if (String(str1).toLowerCase() === String(str2).toLowerCase()) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * capitalize all first letters of sentence\r\n * @param words\r\n * @returns {string}\r\n */\r\nfunction capitalizeFirstLetter(sentence) {\r\n  const words = sentence.split(\" \");\r\n  for (var i = 0; i < words.length; i++) {\r\n    var j = words[i].charAt(0).toUpperCase();\r\n    words[i] = j + words[i].substr(1);\r\n  }\r\n  return words.join(\" \");\r\n}\r\n\r\n/**\r\n * Unpack a Firebase QuerySnapshot and extract its documents\r\n * @param {firebase.firestore.QuerySnapshot<firebase.firestore.DocumentData>} snapshot - the query result\r\n * @returns {firebase.firestore.DocumentData[]} an array of Firestore documents,\r\n * each injected with the field `id`, equivalent to `docid`\r\n */\r\nfunction mapSnapshotToDocs(snapshot) {\r\n  const data = [];\r\n  snapshot.forEach((doc) => {\r\n    if (doc.exists) {\r\n      const temp = doc.data();\r\n      temp.id = doc.id;\r\n      data.push(temp);\r\n    }\r\n  });\r\n  return data;\r\n}\r\n\r\n/**\r\n * Sends an email to notify of a proposed change to a listform\r\n * @param docId - document id as assigned in Firebase\r\n * @param originalName - the original name of the store in the listing\r\n * @param actionWord - the proposed change made to the listing\r\n * @param listformFields - listform fields with proposed edits\r\n */\r\nasync function sendEmailToUpdateListing(\r\n  docId,\r\n  originalName,\r\n  actionWord,\r\n  listformFields\r\n) {\r\n  const EMAIL_API_KEY = `${process.env.REACT_APP_EMAIL_API_KEY}`;\r\n  const email_params = {\r\n    listing_id: docId,\r\n    listing_name: originalName,\r\n    action_word: actionWord,\r\n  };\r\n\r\n  if (actionWord === \"edit\") {\r\n    email_params[\"description\"] =\r\n      \"A user has requested to edit this listing to:\";\r\n    email_params[\"message\"] = JSON.stringify(listformFields, null, 2);\r\n  } else if (actionWord === \"delete\") {\r\n    email_params[\"description\"] =\r\n      \"A user has requested to delete this listing.\";\r\n  }\r\n\r\n  await emailjs\r\n    .send(\"outlook\", \"contact_form\", email_params, EMAIL_API_KEY)\r\n    .then(\r\n      (result) => {\r\n        console.log(result);\r\n        return result;\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        return error;\r\n      }\r\n    );\r\n}\r\n\r\nasync function getLatLng(postal) {\r\n  return fetch(\r\n    \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n      postal +\r\n      \"&returnGeom=Y&getAddrDetails=Y\"\r\n  )\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(\r\n      (jsonResponse) => {\r\n        if (\r\n          jsonResponse !== undefined &&\r\n          jsonResponse[\"results\"] !== undefined\r\n        ) {\r\n          return jsonResponse[\"results\"][0];\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n}\r\n\r\nasync function getPlanningArea(postal_lat, postal_lon) {\r\n  let result = await getOneMapToken();\r\n  let key = result.key;\r\n  return fetch(\r\n    \"https://developers.onemap.sg/privateapi/popapi/getPlanningarea?token=\" +\r\n      key +\r\n      \"&lat=\" +\r\n      postal_lat +\r\n      \"&lng=\" +\r\n      postal_lon\r\n  )\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(\r\n      function (jsonResponse) {\r\n        if (jsonResponse !== undefined && jsonResponse[0] !== undefined) {\r\n          return jsonResponse[0].pln_area_n;\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n}\r\n\r\nasync function requestNewOneMapToken() {\r\n  let urls = [\r\n    \"https://asia-east2-hawkercentral.cloudfunctions.net/requestOneMap\",\r\n  ];\r\n  try {\r\n    return Promise.all(\r\n      urls.map((url) =>\r\n        fetch(url, {\r\n          method: \"POST\",\r\n          mode: \"cors\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n          .then((response) => {\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            return data;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            return error;\r\n          })\r\n      )\r\n    );\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nasync function getPlanningDetails(from, to) {\r\n  // change the naming for start to match those in our files\r\n  var sentosa = false;\r\n  if ([\"ORCHARD\", \"NEWTON\"].includes(from)) {\r\n    from = \"Orchardnewton\";\r\n  } else if (\r\n    [\"OUTRAM\", \"SINGAPORE RIVER\", \"MUSEUM\", \"RIVER VALLEY\"].includes(from)\r\n  ) {\r\n    from = \"DHOBY\";\r\n  } else if (\r\n    [\"MARINA SOUTH\", \"DOWNTOWN CORE\", \"STRAITS VIEW\", \"MARINA EAST\"].includes(\r\n      from\r\n    )\r\n  ) {\r\n    from = \"DOWNTOWN\";\r\n  }\r\n  if (from === \"WESTERN WATER CATCHMENT\") from = \"JURONG WEST\";\r\n  if (from === \"SOUTHERN ISLANDS\") {\r\n    sentosa = true;\r\n    from = \"BUKIT MERAH\";\r\n  }\r\n\r\n  if ([\"ORCHARD\", \"NEWTON\"].includes(to)) {\r\n    to = \"Orchardnewton\";\r\n  } else if (\r\n    [\"OUTRAM\", \"SINGAPORE RIVER\", \"MUSEUM\", \"RIVER VALLEY\"].includes(to)\r\n  ) {\r\n    to = \"DHOBY\";\r\n  } else if (\r\n    [\"MARINA SOUTH\", \"DOWNTOWN CORE\", \"STRAITS VIEW\", \"MARINA EAST\"].includes(\r\n      to\r\n    )\r\n  ) {\r\n    to = \"DOWNTOWN\";\r\n  }\r\n  if (to === \"WESTERN WATER CATCHMENT\") to = \"JURONG WEST\";\r\n  if (to === \"SOUTHERN ISLANDS\") {\r\n    sentosa = true;\r\n    to = \"BUKIT MERAH\";\r\n  }\r\n\r\n  let data = await db\r\n    .collection(\"delivery_price\")\r\n    .doc(from)\r\n    .get()\r\n    .then(async (d) => {\r\n      return d.data();\r\n    });\r\n  if (data && data[to]) {\r\n    var price = data[to].price;\r\n    if (sentosa) {\r\n      price = String(Number(price) + 2);\r\n    }\r\n    return price;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction getOneMapToken() {\r\n  return db\r\n    .collection(\"etc\")\r\n    .doc(\"onemap\")\r\n    .get()\r\n    .then(async (snapshot) => {\r\n      const now = new Date();\r\n      const expiry = new Date(snapshot.data().expiry * 1000);\r\n      if (expiry - now < 0) {\r\n        const newQuery = await requestNewOneMapToken();\r\n        const newToken = newQuery[0].access_token;\r\n        const newExpiry = newQuery[0].expiry_timestamp;\r\n        snapshot.ref.update({ expiry: newExpiry, key: newToken });\r\n      }\r\n      return snapshot.data();\r\n    });\r\n}\r\n\r\nvar postalPlanningRegion = async (postal, lat, lng) => {\r\n  try {\r\n    let postal_lat;\r\n    let postal_lon;\r\n    let postal_addressdetails;\r\n    if (!lat || !lng) {\r\n      postal_addressdetails = await getLatLng(postal);\r\n      postal_lat = postal_addressdetails[\"LATITUDE\"];\r\n      postal_lon = postal_addressdetails[\"LONGITUDE\"];\r\n    } else {\r\n      postal_lat = lat;\r\n      postal_lon = lng;\r\n    }\r\n    var planningarea = await getPlanningArea(postal_lat, postal_lon);\r\n    if ([\"ORCHARD\", \"NEWTON\"].includes(planningarea)) {\r\n      planningarea = \"Orchardnewton\";\r\n    } else if (\r\n      [\"OUTRAM\", \"SINGAPORE RIVER\", \"MUSEUM\", \"RIVER VALLEY\"].includes(\r\n        planningarea\r\n      )\r\n    ) {\r\n      planningarea = \"DHOBY\";\r\n    } else if (\r\n      [\"MARINA SOUTH\", \"DOWNTOWN CORE\", \"STRAITS VIEW\", \"MARINA EAST\"].includes(\r\n        planningarea\r\n      )\r\n    ) {\r\n      planningarea = \"DOWNTOWN\";\r\n    }\r\n\r\n    let districtpostal = Number(String(postal).slice(0, 2));\r\n    let centrallist =\r\n      [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\"] +\r\n      [\r\n        14,\r\n        15,\r\n        16,\r\n        10,\r\n        17,\r\n        18,\r\n        19,\r\n        20,\r\n        21,\r\n        22,\r\n        23,\r\n        24,\r\n        25,\r\n        26,\r\n        27,\r\n        28,\r\n        29,\r\n        30,\r\n        31,\r\n        32,\r\n        33,\r\n        34,\r\n        35,\r\n        36,\r\n        37,\r\n        38,\r\n        39,\r\n        40,\r\n        41,\r\n        58,\r\n        59,\r\n        58,\r\n        59,\r\n        77,\r\n        78,\r\n      ];\r\n    let eastlist = [42, 43, 44, 45, 46, 47, 48, 49, 50, 81, 51, 52];\r\n    let westlist = [11, 12, 13, 60, 61, 62, 63, 64, 65, 66, 67, 68];\r\n    let northlist = [69, 70, 71, 72, 73, 75, 76];\r\n    let northeastlist = [53, 54, 55, 82, 56, 57, 79, 80];\r\n    var region;\r\n    if (centrallist.includes(districtpostal)) {\r\n      region = \"Central\";\r\n    } else if (eastlist.includes(districtpostal)) {\r\n      region = \"East\";\r\n    } else if (westlist.includes(districtpostal)) {\r\n      region = \"West\";\r\n    } else if (northlist.includes(districtpostal)) {\r\n      region = \"North\";\r\n    } else if (northeastlist.includes(districtpostal)) {\r\n      region = \"Northeast\";\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    planningarea = \"cannot be found\";\r\n    region = \"cannot be found\";\r\n  }\r\n  return { planningarea: planningarea, region: region };\r\n};\r\n\r\nexport default {\r\n  compareString,\r\n  capitalizeFirstLetter,\r\n  mapSnapshotToDocs,\r\n  sendEmailToUpdateListing,\r\n  postalPlanningRegion,\r\n  getLatLng,\r\n  getPlanningDetails,\r\n};\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport { Button, Modal, Spinner } from \"react-bootstrap\";\r\nimport Helpers from \"../Helpers/helpers\";\r\n\r\nconst sendDeleteEmail = async(docid, originalName) => {\r\n  await Helpers.sendEmailToUpdateListing(docid, originalName, \"delete\", {})\r\n    .then((result) => {\r\n      console.log(result);\r\n    })\r\n    .catch(function (error) {\r\n      console.error(\"Error sending email: \", error);\r\n    });\r\n};\r\n\r\nexport class DeleteModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showDeleteModal: false,\r\n      isDeleting: false,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.showDeleteModal !== prevProps.showDeleteModal) {\r\n      this.setState({ showDeleteModal: this.props.showDeleteModal });\r\n    }\r\n  }\r\n\r\n  setHideDeleteModal = () => {\r\n    this.props.hideDeleteModal();\r\n  };\r\n\r\n  handleSubmitDelete = async () => {\r\n    this.setState({ isDeleting: true });\r\n    await sendDeleteEmail(this.props.docId, this.props.originalName)\r\n      .then(() => {\r\n        this.setHideDeleteModal();\r\n        this.setState({ isDeleting: false });\r\n        this.props.onSubmitDelete();\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Modal\r\n          onHide={this.setHideDeleteModal}\r\n          show={this.state.showDeleteModal}\r\n          dialogClassName=\"modal-dialog modal-90w\"\r\n          aria-labelledby=\"example-custom-modal-styling-title\"\r\n          style={{ \"marginTop\": \"50px\" }}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"example-custom-modal-styling-title\">\r\n              Delete Hawker Listing\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <p>Are you sure you want to delete this hawker listing?</p>\r\n            <Button\r\n              class=\"shadow-sm\"\r\n              style={{\r\n                backgroundColor: \"#ffffff\",\r\n                borderColor: \"#b48300\",\r\n                float: \"right\",\r\n                marginLeft: \"12px\",\r\n              }}\r\n              onClick={this.setHideDeleteModal}\r\n              disabled={this.state.isDeleting}\r\n            >\r\n              <p style={{ \r\n                margin: \"0rem\",\r\n                color: \"black\", \r\n              }}>No</p>\r\n            </Button>\r\n            <Button\r\n              class=\"shadow-sm\"\r\n              style={{\r\n                backgroundColor: \"#b48300\",\r\n                borderColor: \"#b48300\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.handleSubmitDelete}\r\n              disabled={this.state.isDeleting}\r\n            >\r\n              { this.state.isDeleting \r\n              ? <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n              : <p style={{ margin: \"0rem\" }}>Yes</p> }\r\n            </Button>\r\n          </Modal.Body>\r\n        </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteModal;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport Component from \"../Components\";\r\nimport DeleteModal from \"./DeleteModal\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nexport class Popup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showEditModal: false,\r\n      showDeleteModal: false,\r\n      isDeleting: false,\r\n    };\r\n  }\r\n\r\n  setShowEditModal = () => {\r\n    this.setState({ showEditModal: true });\r\n  };\r\n\r\n  setHideEditModal = () => {\r\n    this.setState({ showEditModal: false });\r\n  };\r\n\r\n  handleSubmitEdit = (hasEdit) => {\r\n    this.setHideEditModal();\r\n\r\n    if (hasEdit) {\r\n      this.props.onSubmitEdit();\r\n    }\r\n  }\r\n\r\n  setShowDeleteModal = () => {\r\n    this.setState({ showDeleteModal: true });\r\n  };\r\n\r\n  setHideDeleteModal = () => {\r\n    this.setState({ showDeleteModal: false });\r\n  };\r\n\r\n  handleSubmitDelete = () => {\r\n    this.props.onSubmitDelete();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span>\r\n        <div\r\n          className=\"row\"\r\n          style={{ backgroundColor: \"\", position: \"relative\", left: \"20px\" }}\r\n        >\r\n          <div\r\n            onClick={() => this.setShowDeleteModal()}\r\n            className=\"d-flex justify-content-center\"\r\n            style={{\r\n              border: \"2px solid\",\r\n              borderColor: \"grey\",\r\n              color: \"black\",\r\n              width: \"60px\",\r\n              alignText: \"center\",\r\n              fontSize: \"12px\",\r\n              cursor: \"pointer\",\r\n              marginTop: \"12px\",\r\n              marginRight: \"12px\",\r\n              height: \"25px\"\r\n            }}\r\n          >\r\n            Delete\r\n          </div>\r\n          <div\r\n            onClick={() => this.setShowEditModal()}\r\n            className=\"d-flex justify-content-center\"\r\n            style={{\r\n              border: \"2px solid\",\r\n              borderColor: \"grey\",\r\n              color: \"black\",\r\n              width: \"60px\",\r\n              alignText: \"center\",\r\n              fontSize: \"12px\",\r\n              cursor: \"pointer\",\r\n              marginTop: \"12px\",\r\n              height: \"25px\"\r\n            }}\r\n          >\r\n            Edit\r\n          </div>\r\n\r\n          {this.props.data.lastmodified ? (\r\n            <span\r\n              className=\"align-items-center col\"\r\n              style={{ postition: \"absolute\", marginTop: \"10px\" }}\r\n            >\r\n              <small style={{ color: \"grey\" }}>\r\n                {\" \"}\r\n                Last Modified:{\" \"}\r\n                {new Date(this.props.data.lastmodified.toDate()).toDateString()}\r\n              </small>\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n        <Modal\r\n          onHide={this.setHideEditModal}\r\n          show={this.state.showEditModal}\r\n          dialogClassName=\"modal-dialog modal-90w\"\r\n          aria-labelledby=\"example-custom-modal-styling-title\"\r\n          style={{ \"margin-top\": \"50px\" }}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"example-custom-modal-styling-title\">\r\n              Edit Hawker Listing\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Component.ListForm\r\n              toggle=\"edit\"\r\n              id={this.props.id}\r\n              data={this.props.data}\r\n              onSubmitEdit={this.handleSubmitEdit}\r\n            />\r\n          </Modal.Body>\r\n        </Modal>\r\n        <DeleteModal \r\n          showDeleteModal={this.state.showDeleteModal}\r\n          hideDeleteModal={this.setHideDeleteModal}\r\n          docId={this.props.id}\r\n          originalName={this.props.data.name} \r\n          onSubmitDelete={this.handleSubmitDelete}\r\n          />\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Popup);\r\n","\r\nexport const values = [\r\n  \"American\",\r\n  \"Healthy\",\r\n  \"Sandwiches\",\r\n  \"Asian\",\r\n  \"Indian\",\r\n  \"Seafood\",\r\n  \"Bakery and Cakes\",\r\n  \"Indonesia\",\r\n  \"Local\",\r\n  \"Beverages\",\r\n  \"Italian\",\r\n  \"Sushi\",\r\n  \"Burgers\",\r\n  \"Japanese\",\r\n  \"Thai\",\r\n  \"Chicken\",\r\n  \"Korean\",\r\n  \"Vegetarian\",\r\n  \"Vegan\",\r\n  \"Chinese\",\r\n  \"Malay\",\r\n  \"Vietnamese\",\r\n  \"Dessert\",\r\n  \"Malaysian\",\r\n  \"Western\",\r\n  \"Fast Food\",\r\n  \"Meat\",\r\n  \"Halal\",\r\n  \"Pizza\",\r\n  \"Mediterranean\",\r\n  \"Grocery Shopping\",\r\n];","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport Item from \"./Item\";\r\n// import { Spinner } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport Select from \"react-select\";\r\n\r\nimport firebase, { geo, geoToPromise } from \"./Firestore\";\r\nimport Helpers from \"../Helpers/helpers\";\r\nimport { values as cuisines } from \"../Helpers/categories\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport motor from \"../assets/motor-delivery.png\";\r\nimport bag from \"../assets/styrofoam-dabao.png\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction getMobileOperatingSystem() {\r\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n  // Windows Phone must come first because its UA also contains \"Android\"\r\n  if (/windows phone/i.test(userAgent)) {\r\n    return \"Windows Phone\";\r\n  }\r\n\r\n  if (/android/i.test(userAgent) && /version/i.test(userAgent)) {\r\n    return \"Android\";\r\n  }\r\n\r\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n    return \"iOS\";\r\n  }\r\n  return \"unknown\";\r\n}\r\n\r\n// function openNewWindow() {\r\n//   window.open(\"https://foodleh.app\", \"_system\");\r\n// }\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    const anchor = (event.target.ownerDocument || document).querySelectorAll(\r\n      \"#back-to-top-anchor\"\r\n    )[0];\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div\r\n        onClick={handleClick}\r\n        role=\"presentation\"\r\n        style={{ position: \"fixed\", bottom: \"50px\", right: \"30px\" }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nfunction distance_calc(lat1, lon1, lat2, lon2) {\r\n  if (lat1 === lat2 && lon1 === lon2) {\r\n    return 0;\r\n  } else {\r\n    var radlat1 = (Math.PI * lat1) / 180;\r\n    var radlat2 = (Math.PI * lat2) / 180;\r\n    var theta = lon1 - lon2;\r\n    var radtheta = (Math.PI * theta) / 180;\r\n    var dist =\r\n      Math.sin(radlat1) * Math.sin(radlat2) +\r\n      Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    if (dist > 1) {\r\n      dist = 1;\r\n    }\r\n    dist = Math.acos(dist);\r\n    dist = (dist * 180) / Math.PI;\r\n    dist = dist * 60 * 1.1515;\r\n    return dist * 1.609344;\r\n  }\r\n}\r\n\r\nlet searchTimer = null;\r\n\r\nconst searchInitialState = {\r\n  data: [],\r\n  query: \"\",\r\n  longitude: \"\",\r\n  latitude: \"\",\r\n  distance: 5,\r\n  pickup: false,\r\n  delivery: false,\r\n  retrieved: false,\r\n  search: \"\",\r\n  searchPostal: false,\r\n  cuisineValue: [],\r\n  isCuisineMenuOpen: false,\r\n};\r\n\r\nexport class SearchAll extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const queryParams = new URLSearchParams(props.location.search);\r\n\r\n    const state = {\r\n      ...searchInitialState,\r\n      pickup: queryParams.get(\"option\") === \"selfcollect\",\r\n      delivery: queryParams.get(\"option\") === \"delivery\",\r\n      open: true,\r\n    };\r\n\r\n    if (queryParams.get(\"lng\") && queryParams.get(\"lat\")) {\r\n      state.longitude = queryParams.get(\"lng\");\r\n      state.latitude = queryParams.get(\"lat\");\r\n    }\r\n\r\n    if (queryParams.get(\"postal\")) {\r\n      state.postal = queryParams.get(\"postal\");\r\n      state.searchPostal = true;\r\n    }\r\n\r\n    this.state = state;\r\n  }\r\n\r\n  componentWillMount() {\r\n    onLoad(\"searchall_load\");\r\n    if (\r\n      this.state.searchPostal &&\r\n      this.state.latitude &&\r\n      this.state.longitude\r\n    ) {\r\n      this.findDataByPostal();\r\n    } else {\r\n      this.retrieveData();\r\n    }\r\n    console.log(\"run\");\r\n  }\r\n\r\n  getData(val) {\r\n    this.setState({ data: val });\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    this.setState({ retrieved: false });\r\n    let query = db.collection(\"hawkers\");\r\n    if (this.state.cuisineValue && this.state.cuisineValue.length > 0) {\r\n      const categories = this.state.cuisineValue.map((c) => c.label);\r\n      query = query.where(\"categories\", \"array-contains-any\", categories);\r\n    }\r\n    var data = await query.get().then(Helpers.mapSnapshotToDocs);\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  findDataByPostal = async () => {\r\n    this.setState({ retrieved: false });\r\n    const centre = geo.point(\r\n      Number(this.state.latitude),\r\n      Number(this.state.longitude)\r\n    );\r\n    let data;\r\n    if (this.state.pickup && !this.state.delivery) {\r\n      data = await geoToPromise(\r\n        geo\r\n          .query(\"hawkers\")\r\n          .within(centre, Number(this.state.distance), \"location\")\r\n      );\r\n    } else if (!this.state.pickup && this.state.delivery) {\r\n      // Find both places within a radius and places that\r\n      // do islandwide delivery, populate an Object keying\r\n      // by doc id to avoid duplicates, then set data to\r\n      // Object's valuess\r\n      const placesById = {};\r\n\r\n      // const placesWithinReach = await geoToPromise(\r\n      //   geo.query(\"hawkers\").within(centre, 10, \"location\")\r\n      // );\r\n      // placesWithinReach.forEach((d) => (placesById[d.id] = d));\r\n\r\n      const userRegion = await Helpers.postalPlanningRegion(\r\n        this.state.query,\r\n        this.state.latitude,\r\n        this.state.longitude\r\n      );\r\n      const regions = await db\r\n        .collection(\"hawkers\")\r\n        .where(\"regions\", \"array-contains-any\", [\"Islandwide\", userRegion])\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n      regions.forEach((d) => (placesById[d.id] = d));\r\n      data = Object.values(placesById);\r\n    } else {\r\n      data = await db\r\n        .collection(\"hawkers\")\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n    }\r\n\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  handleCuisineChange = async (cuisineValue) => {\r\n    await this.setState({ cuisineValue });\r\n    if (!this.state.isCuisineMenuOpen) {\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleCuisineMenuOpen = () => {\r\n    this.setState({ isCuisineMenuOpen: true });\r\n  };\r\n\r\n  handleCuisineMenuClose = () => {\r\n    if (this.state.isCuisineMenuOpen) {\r\n      this.setState({ isCuisineMenuOpen: false });\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  cuisineSearch() {\r\n    let cuisine_format = [];\r\n    cuisines.forEach((element) => {\r\n      cuisine_format.push({\r\n        label: element,\r\n        value: element,\r\n      });\r\n    });\r\n    const select = () => {\r\n      return (\r\n        <LanguageContext.Consumer>\r\n          {(context) => (\r\n            <span>\r\n              <Select\r\n                isMulti\r\n                closeMenuOnSelect={false}\r\n                isDisabled={!this.state.retrieved}\r\n                name=\"name\"\r\n                options={cuisine_format}\r\n                className=\"basic-multi-select\"\r\n                classNamePrefix=\"select\"\r\n                value={this.state.cuisineValue}\r\n                onChange={this.handleCuisineChange}\r\n                onMenuOpen={this.handleCuisineMenuOpen}\r\n                onMenuClose={this.handleCuisineMenuClose}\r\n                placeholder={context.data.search.filterby}\r\n              />\r\n            </span>\r\n          )}\r\n        </LanguageContext.Consumer>\r\n      );\r\n    };\r\n    return (\r\n      <span>\r\n        <span class=\"d-none d-md-block\">{select()}</span>\r\n        <span class=\"d-block d-md-none\" style={{ margin: \"5px\" }}>\r\n          {select()}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  handleChange = async (event) => {\r\n    const {\r\n      target: { value, name },\r\n    } = event;\r\n    if (name === \"search\") {\r\n      if (this.clearTimeout) clearTimeout(searchTimer);\r\n      searchTimer = setTimeout(() => {\r\n        this.setState({ [name]: value });\r\n      }, 300);\r\n    } else {\r\n      if (value.length === 0) {\r\n        this.retrieveData();\r\n      }\r\n      this.setState({ [name]: value, searchPostal: false });\r\n      if (name === \"postal\" && value.length === 6) {\r\n        const latlng = await Helpers.getLatLng(this.state.postal);\r\n        this.setState({\r\n          searchPostal: true,\r\n          latitude: latlng.LATITUDE,\r\n          longitude: latlng.LONGITUDE,\r\n        });\r\n        if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n          await this.findDataByPostal();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleToggle = async (event) => {\r\n    var name = event.currentTarget.name;\r\n    if (name === \"delivery\") this.setState({ delivery: true, pickup: false });\r\n    if (name === \"pickup\") this.setState({ delivery: false, pickup: true });\r\n    if (this.state.delivery && name === \"delivery\")\r\n      this.setState({ delivery: false });\r\n    if (this.state.pickup && name === \"pickup\")\r\n      this.setState({ pickup: false });\r\n    if (this.state.searchPostal && this.state.postal.length === 6) {\r\n      const latlng = await Helpers.getLatLng(this.state.postal);\r\n      this.setState({\r\n        searchPostal: true,\r\n        latitude: latlng.LATITUDE,\r\n        longitude: latlng.LONGITUDE,\r\n      });\r\n      if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n        await this.findDataByPostal();\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let result = {\r\n      nearby: [],\r\n    };\r\n    let skeletons = [];\r\n    for (let index = 0; index < 12; index++) {\r\n      skeletons.push(\r\n        <figure\r\n          class=\"card shadow effect-bubba item-card\"\r\n          style={{ margin: \"5px\", height: \"200px\" }}\r\n          onClick={this.handleClick}\r\n        >\r\n          <Skeleton width=\"100%\">\r\n            <div style={{ height: \"100px\" }} class=\"card-img-top\" alt=\"\"></div>\r\n          </Skeleton>\r\n          <Skeleton width=\"80%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n          <Skeleton width=\"50%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n        </figure>\r\n      );\r\n    }\r\n    if (this.state.data !== undefined && this.state.retrieved) {\r\n      let filtered = this.state.data;\r\n\r\n      if (this.state.search.length !== 0) {\r\n        filtered = filtered.filter((d) => {\r\n          if (d && d.name && d.description && d.description_detail && d.tags && d.menu_list) {\r\n            return (\r\n              d.name.toLowerCase().includes(this.state.search.toLowerCase()) ||\r\n              d.description\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.description_detail\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.tags.includes(this.state.search.toLowerCase()) ||\r\n              d.menu_list.includes(this.state.search.toLowerCase())\r\n            );\r\n          }\r\n          else{\r\n            return false\r\n          }\r\n        });\r\n      }\r\n\r\n      filtered = filtered.sort((a, b) => b.lastmodified - a.lastmodified);\r\n      if (this.state.pickup && !this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.pickup_option);\r\n      } else if (!this.state.pickup && this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.delivery_option);\r\n      }\r\n\r\n      if (this.state.searchPostal) {\r\n        filtered.forEach((element) => {\r\n          element.distance = distance_calc(\r\n            parseFloat(element[\"latitude\"]),\r\n            parseFloat(element[\"longitude\"]),\r\n            parseFloat(this.state.latitude),\r\n            parseFloat(this.state.longitude)\r\n          ).toString();\r\n        });\r\n\r\n        filtered = filtered.sort((a, b) => a.distance - b.distance);\r\n\r\n        result.nearby = filtered.map((data) => {\r\n          return (\r\n            <span>\r\n              <div>\r\n                <Item\r\n                  promo={data[\"promo\"]}\r\n                  id={data[\"id\"]}\r\n                  name={data[\"name\"]}\r\n                  street={data[\"street\"]}\r\n                  pic={data[\"url\"]}\r\n                  summary={data[\"description\"]}\r\n                  distance={data[\"distance\"]}\r\n                  claps={data[\"claps\"]}\r\n                />\r\n              </div>\r\n            </span>\r\n          );\r\n        });\r\n      } else {\r\n        result.nearby = filtered.map((data) => {\r\n          return (\r\n            <span>\r\n              <div>\r\n                <Item\r\n                  promo={data[\"promo\"]}\r\n                  id={data[\"id\"]}\r\n                  name={data[\"name\"]}\r\n                  street={data[\"street\"]}\r\n                  pic={data[\"url\"]}\r\n                  summary={data[\"description\"]}\r\n                  claps={data[\"claps\"]}\r\n                />\r\n              </div>\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div class=\"container\" style={{ paddingTop: \"56px\", width: \"100%\" }}>\r\n        <div class=\"container\" style={{ paddingTop: \"27px\" }}>\r\n          <div class=\"row justify-content-center\">\r\n            <LanguageContext.Consumer>\r\n              {(context) => (\r\n                <div class=\"col-12 col-sm-6 col-md-6\">\r\n                  <h3 id=\"back-to-top-anchor\">\r\n                    {context.data.search.alllistings}\r\n                  </h3>\r\n                </div>\r\n              )}\r\n            </LanguageContext.Consumer>\r\n          </div>\r\n          <div class=\"row justify-content-center mt-4\">\r\n            {\r\n              <LanguageContext.Consumer>\r\n                {(context) => (\r\n                  <div class=\"col-12 col-sm-6 col-md-6\">\r\n                    <input\r\n                      disabled={!this.state.retrieved}\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      // value={this.state.search}\r\n                      name=\"search\"\r\n                      placeholder={context.data.search.prompt}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: \"38px\",\r\n                        \"border-radius\": \"1rem\",\r\n                      }}\r\n                      onChange={this.handleChange}\r\n                    ></input>\r\n                  </div>\r\n                )}\r\n              </LanguageContext.Consumer>\r\n            }\r\n\r\n            <div class=\"col-12 col-sm-10 col-md-6\">{this.cuisineSearch()}</div>\r\n          </div>\r\n          <div class=\"row justify-content-center mt-4\">\r\n            <LanguageContext.Consumer>\r\n              {(context) => (\r\n                <div class=\"col-6 col-sm-6 col-md-6\">\r\n                  <input\r\n                    onChange={this.handleChange}\r\n                    value={this.state.postal}\r\n                    type=\"text\"\r\n                    pattern=\"[0-9]{6}\"\r\n                    maxLength={6}\r\n                    minLength={6}\r\n                    class=\"form-control\"\r\n                    name=\"postal\"\r\n                    placeholder={context.data.search.postalcode}\r\n                    autoComplete=\"postal-code\"\r\n                    autoFocus\r\n                    required\r\n                    disabled={!this.state.retrieved}\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"38px\",\r\n                      \"border-radius\": \"1rem\",\r\n                    }}\r\n                  ></input>\r\n                </div>\r\n              )}\r\n            </LanguageContext.Consumer>\r\n            <div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n              <div name=\"pickup\">\r\n                <LanguageContext.Consumer>\r\n                  {(context) => (\r\n                    <Button\r\n                      variant={\"contained\"}\r\n                      // variant=\"outline-secondary\"\r\n                      onClick={this.handleToggle}\r\n                      name=\"pickup\"\r\n                      disabled={!this.state.retrieved}\r\n                      style={\r\n                        !this.state.pickup\r\n                          ? {\r\n                              backgroundColor: \"white\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                          : {\r\n                              backgroundColor: \"#b48300\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                      }\r\n                      color={\"secondary\"}\r\n                    >\r\n                      <img\r\n                        name=\"pickup\"\r\n                        src={bag}\r\n                        alt=\"bag\"\r\n                        style={{ height: \"20px\" }}\r\n                      ></img>\r\n                      <div\r\n                        name=\"pickup\"\r\n                        class=\"d-none d-md-inline-block\"\r\n                        style={\r\n                          !this.state.pickup\r\n                            ? { marginLeft: \"10px\", color: \"black\" }\r\n                            : { marginLeft: \"10px\", color: \"white\" }\r\n                        }\r\n                      >\r\n                        {context.data.search.self_collect}\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </LanguageContext.Consumer>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n              <div name=\"delivery\">\r\n                <LanguageContext.Consumer>\r\n                  {(context) => (\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant={\"contained\"}\r\n                      disabled={!this.state.retrieved}\r\n                      style={\r\n                        !this.state.delivery\r\n                          ? {\r\n                              backgroundColor: \"white\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                          : {\r\n                              backgroundColor: \"#b48300\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                      }\r\n                      name=\"delivery\"\r\n                      color={\"secondary\"}\r\n                      onClick={this.handleToggle}\r\n                    >\r\n                      <img\r\n                        name=\"delivery\"\r\n                        src={motor}\r\n                        alt=\"motor\"\r\n                        style={{ height: \"20px\" }}\r\n                      ></img>{\" \"}\r\n                      <div\r\n                        name=\"delivery\"\r\n                        class=\"d-none d-md-inline-block\"\r\n                        style={\r\n                          !this.state.delivery\r\n                            ? { marginLeft: \"10px\", color: \"black\" }\r\n                            : { marginLeft: \"10px\", color: \"white\" }\r\n                        }\r\n                      >\r\n                        {context.data.search.delivery}\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </LanguageContext.Consumer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row justify-content-center mt-4\">\r\n            {this.state.retrieved ? (\r\n              result.nearby.length > 0 ? (\r\n                result.nearby\r\n              ) : (\r\n                <span class=\"mt-5\">No Results Found</span>\r\n              )\r\n            ) : (\r\n              <div class=\"row justify-content-center mt-4\">\r\n                {/* <h3>Loading</h3> */}\r\n                {/* <Spinner class=\"\" animation=\"grow\" /> */}\r\n                {skeletons}\r\n              </div>\r\n            )}\r\n            <ScrollTop>\r\n              <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n                <KeyboardArrowUpIcon />\r\n              </Fab>\r\n            </ScrollTop>\r\n            {getMobileOperatingSystem() === \"Android\" ? (\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                open={this.state.open}\r\n                // autoHideDuration={10000}\r\n                // onClose={this.handleClose}\r\n                message={\r\n                  <div style={{ fontSize: \"30px\" }}>\r\n                    Android App is no longer working. Please use browser and\r\n                    visit <b>www.foodleh.app</b> instead.\r\n                  </div>\r\n                }\r\n                action={\r\n                  <React.Fragment>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      aria-label=\"close\"\r\n                      color=\"inherit\"\r\n                      onClick={this.handleClose}\r\n                    >\r\n                      <CloseIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchAll.contextType = LanguageContext;\r\nexport default SearchAll;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport update from 'react-addons-update';\r\nimport \"../App.css\";\r\nimport Item from \"./Item\";\r\n// import { Spinner } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport Select from \"react-select\";\r\n\r\nimport firebase, { geo, geoToPromise } from \"./Firestore\";\r\nimport Helpers from \"../Helpers/helpers\";\r\nimport { values as cuisines } from \"../Helpers/categories\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport motor from \"../assets/motor-delivery.png\";\r\nimport bag from \"../assets/styrofoam-dabao.png\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\n//IV3\r\nimport gradient from \"../assets/gradient.png\";\r\nvar distSplit=2;\r\nconst itemPerLine=Math.max(\r\n    document.body.scrollWidth,\r\n    document.documentElement.scrollWidth,\r\n    document.body.offsetWidth,\r\n    document.documentElement.offsetWidth,\r\n    document.documentElement.clientWidth\r\n  )/250;\r\nconst numOfGroups=20;\r\n//IV3 End\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction getMobileOperatingSystem() {\r\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n  // Windows Phone must come first because its UA also contains \"Android\"\r\n  if (/windows phone/i.test(userAgent)) {\r\n    return \"Windows Phone\";\r\n  }\r\n\r\n  if (/android/i.test(userAgent) && /version/i.test(userAgent)) {\r\n    return \"Android\";\r\n  }\r\n\r\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n    return \"iOS\";\r\n  }\r\n  return \"unknown\";\r\n}\r\n\r\n// function openNewWindow() {\r\n//   window.open(\"https://foodleh.app\", \"_system\");\r\n// }\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    const anchor = (event.target.ownerDocument || document).querySelectorAll(\r\n      \"#back-to-top-anchor\"\r\n    )[0];\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div\r\n        onClick={handleClick}\r\n        role=\"presentation\"\r\n        style={{ position: \"fixed\", bottom: \"50px\", right: \"30px\" }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nfunction distance_calc(lat1, lon1, lat2, lon2) {\r\n  if (lat1 === lat2 && lon1 === lon2) {\r\n    return 0;\r\n  } else {\r\n    var radlat1 = (Math.PI * lat1) / 180;\r\n    var radlat2 = (Math.PI * lat2) / 180;\r\n    var theta = lon1 - lon2;\r\n    var radtheta = (Math.PI * theta) / 180;\r\n    var dist =\r\n      Math.sin(radlat1) * Math.sin(radlat2) +\r\n      Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    if (dist > 1) {\r\n      dist = 1;\r\n    }\r\n    dist = Math.acos(dist);\r\n    dist = (dist * 180) / Math.PI;\r\n    dist = dist * 60 * 1.1515;\r\n    return dist * 1.609344;\r\n  }\r\n}\r\n\r\nlet searchTimer = null;\r\n\r\nconst searchInitialState = {\r\n  data: [],\r\n  query: \"\",\r\n  longitude: \"\",\r\n  latitude: \"\",\r\n  distance: 5,\r\n  pickup: false,\r\n  delivery: false,\r\n  retrieved: false,\r\n  search: \"\",\r\n  searchPostal: false,\r\n  cuisineValue: [],\r\n  isCuisineMenuOpen: false,\r\n};\r\n\r\nexport class SearchAll extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const queryParams = new URLSearchParams(props.location.search);\r\n\tthis.myRef = React.createRef();\r\n\t\r\n\r\n\r\n\t//IV3\r\n\tconst state = {\r\n      ...searchInitialState,\r\n      pickup: queryParams.get(\"option\") === \"selfcollect\",\r\n      delivery: queryParams.get(\"option\") === \"delivery\",\r\n      open: true,\r\n\t  showList:[],\r\n    };\r\n\r\n    if (queryParams.get(\"lng\") && queryParams.get(\"lat\")) {\r\n      state.longitude = queryParams.get(\"lng\");\r\n      state.latitude = queryParams.get(\"lat\");\r\n    }\r\n\r\n    if (queryParams.get(\"postal\")) {\r\n      state.postal = queryParams.get(\"postal\");\r\n      state.searchPostal = true;\r\n    }\r\n\t\r\n\tif (queryParams.get(\"iv3\") === \"short\") {\r\n        distSplit = 2;\r\n    } else if (queryParams.get(\"iv3\") === \"long\") {\r\n        distSplit = 3;\r\n    }  \r\n\t\r\n\tstate.showList=new Array(numOfGroups).fill(false);\r\n\r\n    this.state = state;\r\n\t//IV3 End\r\n  }\r\n\r\n  componentWillMount() {\r\n    onLoad(\"searchall_load\");\r\n    if (\r\n      this.state.searchPostal &&\r\n      this.state.latitude &&\r\n      this.state.longitude\r\n    ) {\r\n      this.findDataByPostal();\r\n    } else {\r\n      this.retrieveData();\r\n    }\r\n    console.log(\"run\");\r\n  }\r\n\r\n  getData(val) {\r\n    this.setState({ data: val });\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    this.setState({ retrieved: false });\r\n    let query = db.collection(\"hawkers\");\r\n    if (this.state.cuisineValue && this.state.cuisineValue.length > 0) {\r\n      const categories = this.state.cuisineValue.map((c) => c.label);\r\n      query = query.where(\"categories\", \"array-contains-any\", categories);\r\n    }\r\n    var data = await query.get().then(Helpers.mapSnapshotToDocs);\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  findDataByPostal = async () => {\r\n    this.setState({ retrieved: false });\r\n    const centre = geo.point(\r\n      Number(this.state.latitude),\r\n      Number(this.state.longitude)\r\n    );\r\n    let data;\r\n    if (this.state.pickup && !this.state.delivery) {\r\n      data = await geoToPromise(\r\n        geo\r\n          .query(\"hawkers\")\r\n          .within(centre, Number(this.state.distance), \"location\")\r\n      );\r\n    } else if (!this.state.pickup && this.state.delivery) {\r\n      // Find both places within a radius and places that\r\n      // do islandwide delivery, populate an Object keying\r\n      // by doc id to avoid duplicates, then set data to\r\n      // Object's valuess\r\n      const placesById = {};\r\n\r\n      // const placesWithinReach = await geoToPromise(\r\n      //   geo.query(\"hawkers\").within(centre, 10, \"location\")\r\n      // );\r\n      // placesWithinReach.forEach((d) => (placesById[d.id] = d));\r\n\r\n      const userRegion = await Helpers.postalPlanningRegion(\r\n        this.state.query,\r\n        this.state.latitude,\r\n        this.state.longitude\r\n      );\r\n      const regions = await db\r\n        .collection(\"hawkers\")\r\n        .where(\"regions\", \"array-contains-any\", [\"Islandwide\", userRegion])\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n      regions.forEach((d) => (placesById[d.id] = d));\r\n      data = Object.values(placesById);\r\n    } else {\r\n      data = await db\r\n        .collection(\"hawkers\")\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n    }\r\n\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  handleCuisineChange = async (cuisineValue) => {\r\n    await this.setState({ cuisineValue });\r\n    if (!this.state.isCuisineMenuOpen) {\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleCuisineMenuOpen = () => {\r\n    this.setState({ isCuisineMenuOpen: true });\r\n  };\r\n\r\n  handleCuisineMenuClose = () => {\r\n    if (this.state.isCuisineMenuOpen) {\r\n      this.setState({ isCuisineMenuOpen: false });\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  cuisineSearch() {\r\n    let cuisine_format = [];\r\n    cuisines.forEach((element) => {\r\n      cuisine_format.push({\r\n        label: element,\r\n        value: element,\r\n      });\r\n    });\r\n    const select = () => {\r\n      return (\r\n        <LanguageContext.Consumer>\r\n          {(context) => (\r\n            <span>\r\n              <Select\r\n                isMulti\r\n                closeMenuOnSelect={false}\r\n                isDisabled={!this.state.retrieved}\r\n                name=\"name\"\r\n                options={cuisine_format}\r\n                className=\"basic-multi-select\"\r\n                classNamePrefix=\"select\"\r\n                value={this.state.cuisineValue}\r\n                onChange={this.handleCuisineChange}\r\n                onMenuOpen={this.handleCuisineMenuOpen}\r\n                onMenuClose={this.handleCuisineMenuClose}\r\n                placeholder={context.data.search.filterby}\r\n              />\r\n            </span>\r\n          )}\r\n        </LanguageContext.Consumer>\r\n      );\r\n    };\r\n    return (\r\n      <span>\r\n        <span class=\"d-none d-md-block\">{select()}</span>\r\n        <span class=\"d-block d-md-none\" style={{ margin: \"5px\" }}>\r\n          {select()}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  handleChange = async (event) => {\r\n    const {\r\n      target: { value, name },\r\n    } = event;\r\n    if (name === \"search\") {\r\n      if (this.clearTimeout) clearTimeout(searchTimer);\r\n      searchTimer = setTimeout(() => {\r\n        this.setState({ [name]: value });\r\n      }, 300);\r\n    } else {\r\n      if (value.length === 0) {\r\n        this.retrieveData();\r\n      }\r\n      this.setState({ [name]: value, searchPostal: false });\r\n      if (name === \"postal\" && value.length === 6) {\r\n        const latlng = await Helpers.getLatLng(this.state.postal);\r\n        this.setState({\r\n          searchPostal: true,\r\n          latitude: latlng.LATITUDE,\r\n          longitude: latlng.LONGITUDE,\r\n        });\r\n        if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n          await this.findDataByPostal();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleToggle = async (event) => {\r\n    var name = event.currentTarget.name;\r\n    if (name === \"delivery\") this.setState({ delivery: true, pickup: false });\r\n    if (name === \"pickup\") this.setState({ delivery: false, pickup: true });\r\n    if (this.state.delivery && name === \"delivery\")\r\n      this.setState({ delivery: false });\r\n    if (this.state.pickup && name === \"pickup\")\r\n      this.setState({ pickup: false });\r\n    if (this.state.searchPostal && this.state.postal.length === 6) {\r\n      const latlng = await Helpers.getLatLng(this.state.postal);\r\n      this.setState({\r\n        searchPostal: true,\r\n        latitude: latlng.LATITUDE,\r\n        longitude: latlng.LONGITUDE,\r\n      });\r\n      if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n        await this.findDataByPostal();\r\n      }\r\n    }\r\n  };\r\n  \r\n  //IV3\r\n  scrollToMyRef = () => window.scrollTo(0, this.myRef.offsetTop - 60);\r\n  \r\n  wantToView = ev => {\r\n\tlet distCounter=ev.currentTarget.dataset.tag;\r\n\t\r\n    //this.scrollToMyRef();\r\n\tlet toShow = [this.state.showList];\r\n    if (this.state.showList[distCounter]) {\r\n      toShow = false;\r\n    } else {\r\n      toShow = true;\r\n    }\r\n\tthis.setState(update(this.state, {\r\n\t  showList: {\r\n\t\t[distCounter]: {\r\n\t\t  $set: toShow\r\n\t\t}\r\n\t  }\r\n\t}));\r\n  };\r\n  //IV3 End\r\n\r\n  render() {\r\n    let result = {\r\n      nearby: [],\r\n    };\r\n    let skeletons = [];\r\n    for (let index = 0; index < 12; index++) {\r\n      skeletons.push(\r\n        <figure\r\n          class=\"card shadow effect-bubba item-card\"\r\n          style={{ margin: \"5px\", height: \"200px\" }}\r\n          onClick={this.handleClick}\r\n        >\r\n          <Skeleton width=\"100%\">\r\n            <div style={{ height: \"100px\" }} class=\"card-img-top\" alt=\"\"></div>\r\n          </Skeleton>\r\n          <Skeleton width=\"80%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n          <Skeleton width=\"50%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n        </figure>\r\n      );\r\n    }\r\n    if (this.state.data !== undefined && this.state.retrieved) {\r\n      let filtered = this.state.data;\r\n\r\n      if (this.state.search.length !== 0) {\r\n        filtered = filtered.filter((d) => {\r\n          if (d && d.name && d.description && d.description_detail && d.tags && d.menu_list) {\r\n            return (\r\n              d.name.toLowerCase().includes(this.state.search.toLowerCase()) ||\r\n              d.description\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.description_detail\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.tags.includes(this.state.search.toLowerCase()) ||\r\n              d.menu_list.includes(this.state.search.toLowerCase())\r\n            );\r\n          }\r\n          else{\r\n            return false\r\n          }\r\n        });\r\n      }\r\n\r\n      filtered = filtered.sort((a, b) => b.lastmodified - a.lastmodified);\r\n      if (this.state.pickup && !this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.pickup_option);\r\n      } else if (!this.state.pickup && this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.delivery_option);\r\n      }\r\n\r\n      if (this.state.searchPostal) {\r\n        filtered.forEach((element) => {\r\n          element.distance = distance_calc(\r\n            parseFloat(element[\"latitude\"]),\r\n            parseFloat(element[\"longitude\"]),\r\n            parseFloat(this.state.latitude),\r\n            parseFloat(this.state.longitude)\r\n          ).toString();\r\n        });\r\n\r\n\t\t//IV3: Food listing arrangement\r\n\t\tlet distCounter=1;\r\n\t\tlet groupCounter=0;\r\n\t\tlet looped=0;\r\n\t\tlet groupSizes = new Array(numOfGroups).fill(0);\r\n\t\tlet size=Object.keys(filtered).length;\r\n\t\t\r\n        filtered = filtered.sort((a, b) => a.distance - b.distance);\r\n\t\t\r\n\t\t\r\n\t\t//get each group's size\t\r\n\t\tfiltered.forEach((data) => {\r\n\t\t\tif(data[\"distance\"]>=(distSplit*distCounter))\r\n\t\t\t{\r\n\t\t\t\tlet difference = Math.floor(data[\"distance\"]/distSplit) - distCounter;\r\n\t\t\t\tif(difference > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdistCounter = difference;\t\r\n\t\t\t\t}\r\n\t\t\t\tgroupSizes[distCounter-1]=groupCounter;\r\n\t\t\t\tdistCounter++;\r\n\t\t\t\tgroupCounter=0;\r\n\t\t\t}\r\n\t\t\tgroupCounter++;\r\n\t\t\tlooped++;\r\n\t\t});\r\n\t\tgroupSizes[distCounter-1]=groupCounter;\r\n\t\t\r\n\t\t\r\n\t\t//reset to loop again\r\n\t\tdistCounter=0;\r\n\t\tgroupCounter=0;\r\n        result.nearby = filtered.map((data) => {\r\n\t\t\tlet division=\"\";\r\n\t\t\tlet endDiv=\"\";\r\n\t\t\tlet itemDiv=\"\";\r\n\t\t\tlet\toverlay = \"\";\r\n\t\t\t\r\n\t\t\tif(!this.state.showList[distCounter] && groupSizes[distCounter]>itemPerLine)\r\n\t\t\t{\r\n\t\t\t\tconsole.log((distCounter)+\"=\"+groupSizes[distCounter]);\r\n\t\t\t\tlet overlayid=\"overlay_\"+distCounter;\r\n\t\t\t\toverlay = <span id={overlayid} style={{ height: \"0px\" }}>\r\n\t\t\t\t\t  <img\r\n\t\t\t\t\t\tsrc={gradient}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t  width: \"130%\",\r\n\t\t\t\t\t\t  height: \"150px\",\r\n\t\t\t\t\t\t  borderRadius: \"5px\",\r\n\t\t\t\t\t\t  position: \"relative\",\r\n\t\t\t\t\t\t  top: \"150px\",\r\n\t\t\t\t\t\t  zIndex: \"50\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t</span>;\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t/* See more button shows if only customer hasn't clicked see more */\r\n\t\t\tlet hider = \r\n                <div class=\"w-100\" style={{ marginTop: \"25px\" , marginBottom: \"30px\" }}>\r\n\t\t\t\t  <hr\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  color: \"lightgrey\",\r\n\t\t\t\t\t  backgroundColor: \"lightgrey\",\r\n\t\t\t\t\t  height: \"1px\",\r\n\t\t\t\t\t  borderColor: \"lightgrey\",\r\n\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t  alignItems: \"center\",\r\n\t\t\t\t\t  marginBottom: \"0px\", // aligns See More to divider\r\n\t\t\t\t\t}}\r\n\t\t\t\t  />\r\n\t\t\t\t  <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  textAlign: \"center\",\r\n\t\t\t\t\t  paddingRight: \"15px\",\r\n\t\t\t\t\t  fontSize: \"110%\",\r\n\t\t\t\t\t  cursor: \"pointer\",\r\n\t\t\t\t\t  color: \"grey\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata-tag={distCounter-1}\r\n\t\t\t\t\tonClick={this.wantToView}\r\n\t\t\t\t  >\r\n\t\t\t\t\t{!this.state.showList[distCounter-1] ? <b>see more ↓</b> : <b>see less ↑</b>}\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>;\r\n\t\t\t\t\r\n\t\t\tlet fixedHider = \r\n                <div class=\"w-100\" style={{marginTop: \"25px\" , marginBottom: \"30px\" }}>\r\n\t\t\t\t  <hr\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  color: \"lightgrey\",\r\n\t\t\t\t\t  backgroundColor: \"lightgrey\",\r\n\t\t\t\t\t  height: \"1px\",\r\n\t\t\t\t\t  borderColor: \"lightgrey\",\r\n\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t  alignItems: \"center\",\r\n\t\t\t\t\t  marginBottom: \"0px\", // aligns See More to divider\r\n\t\t\t\t\t}}\r\n\t\t\t\t  />\r\n\t\t\t\t  <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  textAlign: \"center\",\r\n\t\t\t\t\t  paddingRight: \"15px\",\r\n\t\t\t\t\t  fontSize: \"110%\",\r\n\t\t\t\t\t  cursor: \"pointer\",\r\n\t\t\t\t\t  color: \"grey\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata-tag={distCounter-1}\r\n\t\t\t\t  >\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>;\r\n\t\t\t\r\n\t\t\tlet divider = <div class=\"w-100\"><b><p class=\"text-left\" style={{ paddingLeft:\"27px\" }}>{distSplit*distCounter} to {distSplit*(distCounter+1)} KM Away</p></b></div>;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//if end of group add division\r\n\t\t\tif(data[\"distance\"]>=(distSplit*distCounter))\r\n\t\t\t{\r\n\t\t\t\tlet difference = Math.floor(data[\"distance\"]/distSplit) - distCounter;\r\n\t\t\t\tif(difference > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdistCounter = difference;\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//each time a new group check if not first group to add hider\r\n\t\t\t\tif(distCounter>0 && groupCounter>itemPerLine)\r\n\t\t\t\t{\r\n\t\t\t\t\tdivision=<>{hider}{divider}{overlay}</>;\r\n\t\t\t\t}\r\n\t\t\t\telse if(distCounter>0 && groupCounter<=itemPerLine)\r\n\t\t\t\t{\r\n\t\t\t\t\tdivision=<>{fixedHider}{divider}{overlay}</>;\r\n\t\t\t\t} \r\n\t\t\t\telse //1st group\r\n\t\t\t\t{\r\n\t\t\t\t\tdivision=<>{divider}{overlay}</>;\r\n\t\t\t\t}\r\n\t\t\t\tdistCounter++;\r\n\t\t\t\tgroupCounter=0;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//add final hider\r\n\t\t\tif(size>1)\r\n\t\t\t{\r\n\t\t\t\tsize--;\r\n\t\t\t}\r\n\t\t\telse if(groupCounter>itemPerLine)\r\n\t\t\t{\r\n\t\t\t\tendDiv=hider;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tendDiv=fixedHider;\r\n\t\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\t\t//show or hide items\r\n\t\t\tif(this.state.showList[distCounter-1] || groupCounter<itemPerLine)\r\n\t\t\t{\r\n\t\t\t\tgroupCounter++;\r\n\t\t\t\titemDiv=<span>\r\n\t\t\t\t\t  <div>\r\n\t\t\t\t\t\t<Item\r\n\t\t\t\t\t\t  promo={data[\"promo\"]}\r\n\t\t\t\t\t\t  id={data[\"id\"]}\r\n\t\t\t\t\t\t  name={data[\"name\"]}\r\n\t\t\t\t\t\t  street={data[\"street\"]}\r\n\t\t\t\t\t\t  pic={data[\"url\"]}\r\n\t\t\t\t\t\t  summary={data[\"description\"]}\r\n\t\t\t\t\t\t  distance={data[\"distance\"]}\r\n\t\t\t\t\t\t  claps={data[\"claps\"]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</span>;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tgroupCounter++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t  return (\r\n\t\t\t<>\r\n\t\t\t\t{division}\r\n\t\t\t\t{itemDiv}\r\n\t\t\t\t{endDiv}\t\t\t\t\t\r\n\t\t\t</>\r\n\t\t  );\r\n\t\t\t\r\n        });\r\n\t\t//IV3 End\r\n\r\n      } else {\r\n        result.nearby = filtered.map((data) => {\r\n          return (\r\n            <span>\r\n              <div>\r\n                <Item\r\n                  promo={data[\"promo\"]}\r\n                  id={data[\"id\"]}\r\n                  name={data[\"name\"]}\r\n                  street={data[\"street\"]}\r\n                  pic={data[\"url\"]}\r\n                  summary={data[\"description\"]}\r\n                  claps={data[\"claps\"]}\r\n                />\r\n              </div>\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n    }\r\n\t\r\n\t//IV2: Type of search pane\r\n    return (\r\n      <div class=\"container\" style={{ paddingTop: \"56px\", width: \"100%\" }}>\r\n\t  <div class=\" container bg-white pt-3 pb-4 search-bar border border-light rounded\">\r\n\t\t  <div class=\"row justify-content-center\">\r\n\t\t\t<LanguageContext.Consumer>\r\n\t\t\t  {(context) => (\r\n\t\t\t\t<div class=\"col-12 col-sm-6 col-md-6\">\r\n\t\t\t\t  <h3 id=\"back-to-top-anchor\">\r\n\t\t\t\t\t{context.data.search.alllistings}\r\n\t\t\t\t  </h3>\r\n\t\t\t\t</div>\r\n\t\t\t  )}\r\n\t\t\t</LanguageContext.Consumer>\r\n\t\t  </div>\r\n\t\t  <div class=\"row justify-content-center mt-4\">\r\n\t\t\t{\r\n\t\t\t  <LanguageContext.Consumer>\r\n\t\t\t\t{(context) => (\r\n\t\t\t\t  <div class=\"col-12 col-sm-6 col-md-6\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t  disabled={!this.state.retrieved}\r\n\t\t\t\t\t  class=\"form-control\"\r\n\t\t\t\t\t  type=\"text\"\r\n\t\t\t\t\t  // value={this.state.search}\r\n\t\t\t\t\t  name=\"search\"\r\n\t\t\t\t\t  placeholder={context.data.search.prompt}\r\n\t\t\t\t\t  style={{\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"38px\",\r\n\t\t\t\t\t\t\"border-radius\": \"1rem\",\r\n\t\t\t\t\t  }}\r\n\t\t\t\t\t  onChange={this.handleChange}\r\n\t\t\t\t\t  ref={(ref) => (this.myRef = ref)}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t  </div>\r\n\t\t\t\t)}\r\n\t\t\t  </LanguageContext.Consumer>\r\n\t\t\t}\r\n\r\n\t\t\t<div class=\"col-12 col-sm-10 col-md-6\">{this.cuisineSearch()}</div>\r\n\t\t  </div>\r\n\t\t  <div class=\"row justify-content-center mt-4\">\r\n\t\t\t<LanguageContext.Consumer>\r\n\t\t\t  {(context) => (\r\n\t\t\t\t<div class=\"col-6 col-sm-6 col-md-6\">\r\n\t\t\t\t  <input\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tvalue={this.state.postal}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tpattern=\"[0-9]{6}\"\r\n\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\tminLength={6}\r\n\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\tname=\"postal\"\r\n\t\t\t\t\tplaceholder={context.data.search.postalcode}\r\n\t\t\t\t\tautoComplete=\"postal-code\"\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tdisabled={!this.state.retrieved}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t  \"border-radius\": \"1rem\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t  ></input>\r\n\t\t\t\t</div>\r\n\t\t\t  )}\r\n\t\t\t</LanguageContext.Consumer>\r\n\t\t\t<div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n\t\t\t  <div name=\"pickup\">\r\n\t\t\t\t<LanguageContext.Consumer>\r\n\t\t\t\t  {(context) => (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t  variant={\"contained\"}\r\n\t\t\t\t\t  // variant=\"outline-secondary\"\r\n\t\t\t\t\t  onClick={this.handleToggle}\r\n\t\t\t\t\t  name=\"pickup\"\r\n\t\t\t\t\t  disabled={!this.state.retrieved}\r\n\t\t\t\t\t  style={\r\n\t\t\t\t\t\t!this.state.pickup\r\n\t\t\t\t\t\t  ? {\r\n\t\t\t\t\t\t\t  backgroundColor: \"white\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  : {\r\n\t\t\t\t\t\t\t  backgroundColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  color={\"secondary\"}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  <img\r\n\t\t\t\t\t\tname=\"pickup\"\r\n\t\t\t\t\t\tsrc={bag}\r\n\t\t\t\t\t\talt=\"bag\"\r\n\t\t\t\t\t\tstyle={{ height: \"20px\" }}\r\n\t\t\t\t\t  ></img>\r\n\t\t\t\t\t  <div\r\n\t\t\t\t\t\tname=\"pickup\"\r\n\t\t\t\t\t\tclass=\"d-none d-md-inline-block\"\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t  !this.state.pickup\r\n\t\t\t\t\t\t\t? { marginLeft: \"10px\", color: \"black\" }\r\n\t\t\t\t\t\t\t: { marginLeft: \"10px\", color: \"white\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\t{context.data.search.self_collect}\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t  )}\r\n\t\t\t\t</LanguageContext.Consumer>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n\t\t\t  <div name=\"delivery\">\r\n\t\t\t\t<LanguageContext.Consumer>\r\n\t\t\t\t  {(context) => (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t  type=\"submit\"\r\n\t\t\t\t\t  variant={\"contained\"}\r\n\t\t\t\t\t  disabled={!this.state.retrieved}\r\n\t\t\t\t\t  style={\r\n\t\t\t\t\t\t!this.state.delivery\r\n\t\t\t\t\t\t  ? {\r\n\t\t\t\t\t\t\t  backgroundColor: \"white\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  : {\r\n\t\t\t\t\t\t\t  backgroundColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  name=\"delivery\"\r\n\t\t\t\t\t  color={\"secondary\"}\r\n\t\t\t\t\t  onClick={this.handleToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  <img\r\n\t\t\t\t\t\tname=\"delivery\"\r\n\t\t\t\t\t\tsrc={motor}\r\n\t\t\t\t\t\talt=\"motor\"\r\n\t\t\t\t\t\tstyle={{ height: \"20px\" }}\r\n\t\t\t\t\t  ></img>{\" \"}\r\n\t\t\t\t\t  <div\r\n\t\t\t\t\t\tname=\"delivery\"\r\n\t\t\t\t\t\tclass=\"d-none d-md-inline-block\"\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t  !this.state.delivery\r\n\t\t\t\t\t\t\t? { marginLeft: \"10px\", color: \"black\" }\r\n\t\t\t\t\t\t\t: { marginLeft: \"10px\", color: \"white\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\t{context.data.search.delivery}\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t  )}\r\n\t\t\t\t</LanguageContext.Consumer>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\t\t  </div>\r\n\t  </div>\r\n\t  <div style={{ paddingBottom: \"12em\" }}></div>\r\n\t  {/*IV2 end*/}\r\n\t  \r\n\t  <div class=\"container\">  \r\n          <div className=\"row justify-content-center mt-4\" >\r\n            {this.state.retrieved ? (\r\n              result.nearby.length > 0 ? (\r\n                result.nearby\r\n              ) : (\r\n                <span class=\"mt-5\">No Results Found</span>\r\n              )\r\n            ) : (\r\n              <div class=\"row justify-content-center mt-4\">\r\n                {/* <h3>Loading</h3> */}\r\n                {/* <Spinner class=\"\" animation=\"grow\" /> */}\r\n                {skeletons}\r\n              </div>\r\n            )}\r\n            <ScrollTop>\r\n              <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n                <KeyboardArrowUpIcon />\r\n              </Fab>\r\n            </ScrollTop>\r\n            {getMobileOperatingSystem() === \"Android\" ? (\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                open={this.state.open}\r\n                // autoHideDuration={10000}\r\n                // onClose={this.handleClose}\r\n                message={\r\n                  <div style={{ fontSize: \"30px\" }}>\r\n                    Android App is no longer working. Please use browser and\r\n                    visit <b>www.foodleh.app</b> instead.\r\n                  </div>\r\n                }\r\n                action={\r\n                  <React.Fragment>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      aria-label=\"close\"\r\n                      color=\"inherit\"\r\n                      onClick={this.handleClose}\r\n                    >\r\n                      <CloseIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchAll.contextType = LanguageContext;\r\nexport default SearchAll;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport Item from \"./Item\";\r\n// import { Spinner } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport Select from \"react-select\";\r\n\r\nimport firebase, { geo, geoToPromise } from \"./Firestore\";\r\nimport Helpers from \"../Helpers/helpers\";\r\nimport { values as cuisines } from \"../Helpers/categories\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport motor from \"../assets/motor-delivery.png\";\r\nimport bag from \"../assets/styrofoam-dabao.png\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction getMobileOperatingSystem() {\r\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n  // Windows Phone must come first because its UA also contains \"Android\"\r\n  if (/windows phone/i.test(userAgent)) {\r\n    return \"Windows Phone\";\r\n  }\r\n\r\n  if (/android/i.test(userAgent) && /version/i.test(userAgent)) {\r\n    return \"Android\";\r\n  }\r\n\r\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n    return \"iOS\";\r\n  }\r\n  return \"unknown\";\r\n}\r\n\r\n// function openNewWindow() {\r\n//   window.open(\"https://foodleh.app\", \"_system\");\r\n// }\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    const anchor = (event.target.ownerDocument || document).querySelectorAll(\r\n      \"#back-to-top-anchor\"\r\n    )[0];\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div\r\n        onClick={handleClick}\r\n        role=\"presentation\"\r\n        style={{ position: \"fixed\", bottom: \"50px\", right: \"30px\" }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nfunction distance_calc(lat1, lon1, lat2, lon2) {\r\n  if (lat1 === lat2 && lon1 === lon2) {\r\n    return 0;\r\n  } else {\r\n    var radlat1 = (Math.PI * lat1) / 180;\r\n    var radlat2 = (Math.PI * lat2) / 180;\r\n    var theta = lon1 - lon2;\r\n    var radtheta = (Math.PI * theta) / 180;\r\n    var dist =\r\n      Math.sin(radlat1) * Math.sin(radlat2) +\r\n      Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    if (dist > 1) {\r\n      dist = 1;\r\n    }\r\n    dist = Math.acos(dist);\r\n    dist = (dist * 180) / Math.PI;\r\n    dist = dist * 60 * 1.1515;\r\n    return dist * 1.609344;\r\n  }\r\n}\r\n\r\nlet searchTimer = null;\r\n\r\nconst searchInitialState = {\r\n  data: [],\r\n  query: \"\",\r\n  longitude: \"\",\r\n  latitude: \"\",\r\n  distance: 5,\r\n  pickup: false,\r\n  delivery: false,\r\n  retrieved: false,\r\n  search: \"\",\r\n  searchPostal: false,\r\n  cuisineValue: [],\r\n  isCuisineMenuOpen: false,\r\n};\r\n\r\nexport class SearchAll extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const queryParams = new URLSearchParams(props.location.search);\r\n\r\n    const state = {\r\n      ...searchInitialState,\r\n      pickup: queryParams.get(\"option\") === \"selfcollect\",\r\n      delivery: queryParams.get(\"option\") === \"delivery\",\r\n      open: true,\r\n    };\r\n\r\n    if (queryParams.get(\"lng\") && queryParams.get(\"lat\")) {\r\n      state.longitude = queryParams.get(\"lng\");\r\n      state.latitude = queryParams.get(\"lat\");\r\n    }\r\n\r\n    if (queryParams.get(\"postal\")) {\r\n      state.postal = queryParams.get(\"postal\");\r\n      state.searchPostal = true;\r\n    }\r\n\r\n    this.state = state;\r\n  }\r\n\r\n  componentWillMount() {\r\n    onLoad(\"searchall_load\");\r\n    if (\r\n      this.state.searchPostal &&\r\n      this.state.latitude &&\r\n      this.state.longitude\r\n    ) {\r\n      this.findDataByPostal();\r\n    } else {\r\n      this.retrieveData();\r\n    }\r\n    console.log(\"run\");\r\n  }\r\n\r\n  getData(val) {\r\n    this.setState({ data: val });\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    this.setState({ retrieved: false });\r\n    let query = db.collection(\"hawkers\");\r\n    if (this.state.cuisineValue && this.state.cuisineValue.length > 0) {\r\n      const categories = this.state.cuisineValue.map((c) => c.label);\r\n      query = query.where(\"categories\", \"array-contains-any\", categories);\r\n    }\r\n    var data = await query.get().then(Helpers.mapSnapshotToDocs);\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  findDataByPostal = async () => {\r\n    this.setState({ retrieved: false });\r\n    const centre = geo.point(\r\n      Number(this.state.latitude),\r\n      Number(this.state.longitude)\r\n    );\r\n    let data;\r\n    if (this.state.pickup && !this.state.delivery) {\r\n      data = await geoToPromise(\r\n        geo\r\n          .query(\"hawkers\")\r\n          .within(centre, Number(this.state.distance), \"location\")\r\n      );\r\n    } else if (!this.state.pickup && this.state.delivery) {\r\n      // Find both places within a radius and places that\r\n      // do islandwide delivery, populate an Object keying\r\n      // by doc id to avoid duplicates, then set data to\r\n      // Object's valuess\r\n      const placesById = {};\r\n\r\n      // const placesWithinReach = await geoToPromise(\r\n      //   geo.query(\"hawkers\").within(centre, 10, \"location\")\r\n      // );\r\n      // placesWithinReach.forEach((d) => (placesById[d.id] = d));\r\n\r\n      const userRegion = await Helpers.postalPlanningRegion(\r\n        this.state.query,\r\n        this.state.latitude,\r\n        this.state.longitude\r\n      );\r\n      const regions = await db\r\n        .collection(\"hawkers\")\r\n        .where(\"regions\", \"array-contains-any\", [\"Islandwide\", userRegion])\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n      regions.forEach((d) => (placesById[d.id] = d));\r\n      data = Object.values(placesById);\r\n    } else {\r\n      data = await db\r\n        .collection(\"hawkers\")\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n    }\r\n\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  handleCuisineChange = async (cuisineValue) => {\r\n    await this.setState({ cuisineValue });\r\n    if (!this.state.isCuisineMenuOpen) {\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleCuisineMenuOpen = () => {\r\n    this.setState({ isCuisineMenuOpen: true });\r\n  };\r\n\r\n  handleCuisineMenuClose = () => {\r\n    if (this.state.isCuisineMenuOpen) {\r\n      this.setState({ isCuisineMenuOpen: false });\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  cuisineSearch() {\r\n    let cuisine_format = [];\r\n    cuisines.forEach((element) => {\r\n      cuisine_format.push({\r\n        label: element,\r\n        value: element,\r\n      });\r\n    });\r\n    const select = () => {\r\n      return (\r\n        <LanguageContext.Consumer>\r\n          {(context) => (\r\n            <span>\r\n              <Select\r\n                isMulti\r\n                closeMenuOnSelect={false}\r\n                isDisabled={!this.state.retrieved}\r\n                name=\"name\"\r\n                options={cuisine_format}\r\n                className=\"basic-multi-select\"\r\n                classNamePrefix=\"select\"\r\n                value={this.state.cuisineValue}\r\n                onChange={this.handleCuisineChange}\r\n                onMenuOpen={this.handleCuisineMenuOpen}\r\n                onMenuClose={this.handleCuisineMenuClose}\r\n                placeholder={context.data.search.filterby}\r\n              />\r\n            </span>\r\n          )}\r\n        </LanguageContext.Consumer>\r\n      );\r\n    };\r\n    return (\r\n      <span>\r\n        <span class=\"d-none d-md-block\">{select()}</span>\r\n        <span class=\"d-block d-md-none\" style={{ margin: \"5px\" }}>\r\n          {select()}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  handleChange = async (event) => {\r\n    const {\r\n      target: { value, name },\r\n    } = event;\r\n    if (name === \"search\") {\r\n      if (this.clearTimeout) clearTimeout(searchTimer);\r\n      searchTimer = setTimeout(() => {\r\n        this.setState({ [name]: value });\r\n      }, 300);\r\n    } else {\r\n      if (value.length === 0) {\r\n        this.retrieveData();\r\n      }\r\n      this.setState({ [name]: value, searchPostal: false });\r\n      if (name === \"postal\" && value.length === 6) {\r\n        const latlng = await Helpers.getLatLng(this.state.postal);\r\n        this.setState({\r\n          searchPostal: true,\r\n          latitude: latlng.LATITUDE,\r\n          longitude: latlng.LONGITUDE,\r\n        });\r\n        if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n          await this.findDataByPostal();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleToggle = async (event) => {\r\n    var name = event.currentTarget.name;\r\n    if (name === \"delivery\") this.setState({ delivery: true, pickup: false });\r\n    if (name === \"pickup\") this.setState({ delivery: false, pickup: true });\r\n    if (this.state.delivery && name === \"delivery\")\r\n      this.setState({ delivery: false });\r\n    if (this.state.pickup && name === \"pickup\")\r\n      this.setState({ pickup: false });\r\n    if (this.state.searchPostal && this.state.postal.length === 6) {\r\n      const latlng = await Helpers.getLatLng(this.state.postal);\r\n      this.setState({\r\n        searchPostal: true,\r\n        latitude: latlng.LATITUDE,\r\n        longitude: latlng.LONGITUDE,\r\n      });\r\n      if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n        await this.findDataByPostal();\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let result = {\r\n      nearby: [],\r\n    };\r\n    let skeletons = [];\r\n    for (let index = 0; index < 12; index++) {\r\n      skeletons.push(\r\n        <figure\r\n          class=\"card shadow effect-bubba item-card\"\r\n          style={{ margin: \"5px\", height: \"200px\" }}\r\n          onClick={this.handleClick}\r\n        >\r\n          <Skeleton width=\"100%\">\r\n            <div style={{ height: \"100px\" }} class=\"card-img-top\" alt=\"\"></div>\r\n          </Skeleton>\r\n          <Skeleton width=\"80%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n          <Skeleton width=\"50%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n        </figure>\r\n      );\r\n    }\r\n    if (this.state.data !== undefined && this.state.retrieved) {\r\n      let filtered = this.state.data;\r\n\r\n      if (this.state.search.length !== 0) {\r\n        filtered = filtered.filter((d) => {\r\n          if (d && d.name && d.description && d.description_detail && d.tags && d.menu_list) {\r\n            return (\r\n              d.name.toLowerCase().includes(this.state.search.toLowerCase()) ||\r\n              d.description\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.description_detail\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.tags.includes(this.state.search.toLowerCase()) ||\r\n              d.menu_list.includes(this.state.search.toLowerCase())\r\n            );\r\n          }\r\n          else{\r\n            return false\r\n          }\r\n        });\r\n      }\r\n\r\n      filtered = filtered.sort((a, b) => b.lastmodified - a.lastmodified);\r\n      if (this.state.pickup && !this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.pickup_option);\r\n      } else if (!this.state.pickup && this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.delivery_option);\r\n      }\r\n\r\n      if (this.state.searchPostal) {\r\n        filtered.forEach((element) => {\r\n          element.distance = distance_calc(\r\n            parseFloat(element[\"latitude\"]),\r\n            parseFloat(element[\"longitude\"]),\r\n            parseFloat(this.state.latitude),\r\n            parseFloat(this.state.longitude)\r\n          ).toString();\r\n        });\r\n\r\n        filtered = filtered.sort((a, b) => a.distance - b.distance);\r\n\r\n        result.nearby = filtered.map((data) => {\r\n          return (\r\n            <span>\r\n              <div>\r\n                <Item\r\n                  promo={data[\"promo\"]}\r\n                  id={data[\"id\"]}\r\n                  name={data[\"name\"]}\r\n                  street={data[\"street\"]}\r\n                  pic={data[\"url\"]}\r\n                  summary={data[\"description\"]}\r\n                  distance={data[\"distance\"]}\r\n                  claps={data[\"claps\"]}\r\n                />\r\n              </div>\r\n            </span>\r\n          );\r\n        });\r\n      } else {\r\n        result.nearby = filtered.map((data) => {\r\n          return (\r\n            <span>\r\n              <div>\r\n                <Item\r\n                  promo={data[\"promo\"]}\r\n                  id={data[\"id\"]}\r\n                  name={data[\"name\"]}\r\n                  street={data[\"street\"]}\r\n                  pic={data[\"url\"]}\r\n                  summary={data[\"description\"]}\r\n                  claps={data[\"claps\"]}\r\n                />\r\n              </div>\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n    }\r\n\t//IV2: Type of search pane\r\n    return (\r\n      <div class=\"container\" style={{ paddingTop: \"56px\", width: \"100%\" }}>\r\n\t  <div class=\" container bg-white pt-3 pb-4 search-bar border border-light rounded\">\r\n\t\t  <div class=\"row justify-content-center\">\r\n\t\t\t<LanguageContext.Consumer>\r\n\t\t\t  {(context) => (\r\n\t\t\t\t<div class=\"col-12 col-sm-6 col-md-6\">\r\n\t\t\t\t  <h3 id=\"back-to-top-anchor\">\r\n\t\t\t\t\t{context.data.search.alllistings}\r\n\t\t\t\t  </h3>\r\n\t\t\t\t</div>\r\n\t\t\t  )}\r\n\t\t\t</LanguageContext.Consumer>\r\n\t\t  </div>\r\n\t\t  <div class=\"row justify-content-center mt-4\">\r\n\t\t\t{\r\n\t\t\t  <LanguageContext.Consumer>\r\n\t\t\t\t{(context) => (\r\n\t\t\t\t  <div class=\"col-12 col-sm-6 col-md-6\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t  disabled={!this.state.retrieved}\r\n\t\t\t\t\t  class=\"form-control\"\r\n\t\t\t\t\t  type=\"text\"\r\n\t\t\t\t\t  // value={this.state.search}\r\n\t\t\t\t\t  name=\"search\"\r\n\t\t\t\t\t  placeholder={context.data.search.prompt}\r\n\t\t\t\t\t  style={{\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"38px\",\r\n\t\t\t\t\t\t\"border-radius\": \"1rem\",\r\n\t\t\t\t\t  }}\r\n\t\t\t\t\t  onChange={this.handleChange}\r\n\t\t\t\t\t  ref={(ref) => (this.myRef = ref)}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t  </div>\r\n\t\t\t\t)}\r\n\t\t\t  </LanguageContext.Consumer>\r\n\t\t\t}\r\n\r\n\t\t\t<div class=\"col-12 col-sm-10 col-md-6\">{this.cuisineSearch()}</div>\r\n\t\t  </div>\r\n\t\t  <div class=\"row justify-content-center mt-4\">\r\n\t\t\t<LanguageContext.Consumer>\r\n\t\t\t  {(context) => (\r\n\t\t\t\t<div class=\"col-6 col-sm-6 col-md-6\">\r\n\t\t\t\t  <input\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tvalue={this.state.postal}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tpattern=\"[0-9]{6}\"\r\n\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\tminLength={6}\r\n\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\tname=\"postal\"\r\n\t\t\t\t\tplaceholder={context.data.search.postalcode}\r\n\t\t\t\t\tautoComplete=\"postal-code\"\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tdisabled={!this.state.retrieved}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t  \"border-radius\": \"1rem\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t  ></input>\r\n\t\t\t\t</div>\r\n\t\t\t  )}\r\n\t\t\t</LanguageContext.Consumer>\r\n\t\t\t<div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n\t\t\t  <div name=\"pickup\">\r\n\t\t\t\t<LanguageContext.Consumer>\r\n\t\t\t\t  {(context) => (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t  variant={\"contained\"}\r\n\t\t\t\t\t  // variant=\"outline-secondary\"\r\n\t\t\t\t\t  onClick={this.handleToggle}\r\n\t\t\t\t\t  name=\"pickup\"\r\n\t\t\t\t\t  disabled={!this.state.retrieved}\r\n\t\t\t\t\t  style={\r\n\t\t\t\t\t\t!this.state.pickup\r\n\t\t\t\t\t\t  ? {\r\n\t\t\t\t\t\t\t  backgroundColor: \"white\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  : {\r\n\t\t\t\t\t\t\t  backgroundColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  color={\"secondary\"}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  <img\r\n\t\t\t\t\t\tname=\"pickup\"\r\n\t\t\t\t\t\tsrc={bag}\r\n\t\t\t\t\t\talt=\"bag\"\r\n\t\t\t\t\t\tstyle={{ height: \"20px\" }}\r\n\t\t\t\t\t  ></img>\r\n\t\t\t\t\t  <div\r\n\t\t\t\t\t\tname=\"pickup\"\r\n\t\t\t\t\t\tclass=\"d-none d-md-inline-block\"\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t  !this.state.pickup\r\n\t\t\t\t\t\t\t? { marginLeft: \"10px\", color: \"black\" }\r\n\t\t\t\t\t\t\t: { marginLeft: \"10px\", color: \"white\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\t{context.data.search.self_collect}\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t  )}\r\n\t\t\t\t</LanguageContext.Consumer>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n\t\t\t  <div name=\"delivery\">\r\n\t\t\t\t<LanguageContext.Consumer>\r\n\t\t\t\t  {(context) => (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t  type=\"submit\"\r\n\t\t\t\t\t  variant={\"contained\"}\r\n\t\t\t\t\t  disabled={!this.state.retrieved}\r\n\t\t\t\t\t  style={\r\n\t\t\t\t\t\t!this.state.delivery\r\n\t\t\t\t\t\t  ? {\r\n\t\t\t\t\t\t\t  backgroundColor: \"white\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  : {\r\n\t\t\t\t\t\t\t  backgroundColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  borderColor: \"#b48300\",\r\n\t\t\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t\t\t  height: \"38px\",\r\n\t\t\t\t\t\t\t  textTransform: \"none\",\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  name=\"delivery\"\r\n\t\t\t\t\t  color={\"secondary\"}\r\n\t\t\t\t\t  onClick={this.handleToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  <img\r\n\t\t\t\t\t\tname=\"delivery\"\r\n\t\t\t\t\t\tsrc={motor}\r\n\t\t\t\t\t\talt=\"motor\"\r\n\t\t\t\t\t\tstyle={{ height: \"20px\" }}\r\n\t\t\t\t\t  ></img>{\" \"}\r\n\t\t\t\t\t  <div\r\n\t\t\t\t\t\tname=\"delivery\"\r\n\t\t\t\t\t\tclass=\"d-none d-md-inline-block\"\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t  !this.state.delivery\r\n\t\t\t\t\t\t\t? { marginLeft: \"10px\", color: \"black\" }\r\n\t\t\t\t\t\t\t: { marginLeft: \"10px\", color: \"white\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  >\r\n\t\t\t\t\t\t{context.data.search.delivery}\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t  )}\r\n\t\t\t\t</LanguageContext.Consumer>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\t\t  </div>\r\n\t  </div>\r\n\t  <div style={{ paddingBottom: \"12em\" }}></div>\r\n\t  {/*IV2 end*/}\r\n\t  \r\n\t  <div class=\"container\">  \r\n          <div className=\"row justify-content-center mt-4\" >\r\n            {this.state.retrieved ? (\r\n              result.nearby.length > 0 ? (\r\n                result.nearby\r\n              ) : (\r\n                <span class=\"mt-5\">No Results Found</span>\r\n              )\r\n            ) : (\r\n              <div class=\"row justify-content-center mt-4\">\r\n                {/* <h3>Loading</h3> */}\r\n                {/* <Spinner class=\"\" animation=\"grow\" /> */}\r\n                {skeletons}\r\n              </div>\r\n            )}\r\n            <ScrollTop>\r\n              <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n                <KeyboardArrowUpIcon />\r\n              </Fab>\r\n            </ScrollTop>\r\n            {getMobileOperatingSystem() === \"Android\" ? (\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                open={this.state.open}\r\n                // autoHideDuration={10000}\r\n                // onClose={this.handleClose}\r\n                message={\r\n                  <div style={{ fontSize: \"30px\" }}>\r\n                    Android App is no longer working. Please use browser and\r\n                    visit <b>www.foodleh.app</b> instead.\r\n                  </div>\r\n                }\r\n                action={\r\n                  <React.Fragment>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      aria-label=\"close\"\r\n                      color=\"inherit\"\r\n                      onClick={this.handleClose}\r\n                    >\r\n                      <CloseIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchAll.contextType = LanguageContext;\r\nexport default SearchAll;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport update from 'react-addons-update';\r\nimport \"../App.css\";\r\nimport Item from \"./Item\";\r\n// import { Spinner } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport Select from \"react-select\";\r\n\r\nimport firebase, { geo, geoToPromise } from \"./Firestore\";\r\nimport Helpers from \"../Helpers/helpers\";\r\nimport { values as cuisines } from \"../Helpers/categories\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport motor from \"../assets/motor-delivery.png\";\r\nimport bag from \"../assets/styrofoam-dabao.png\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\n//IV3\r\nimport gradient from \"../assets/gradient.png\";\r\nvar distSplit=2;\r\nconst itemPerLine=Math.max(\r\n    document.body.scrollWidth,\r\n    document.documentElement.scrollWidth,\r\n    document.body.offsetWidth,\r\n    document.documentElement.offsetWidth,\r\n    document.documentElement.clientWidth\r\n  )/250;\r\nconst numOfGroups=20;\r\n//IV3 End\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction getMobileOperatingSystem() {\r\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n  // Windows Phone must come first because its UA also contains \"Android\"\r\n  if (/windows phone/i.test(userAgent)) {\r\n    return \"Windows Phone\";\r\n  }\r\n\r\n  if (/android/i.test(userAgent) && /version/i.test(userAgent)) {\r\n    return \"Android\";\r\n  }\r\n\r\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n    return \"iOS\";\r\n  }\r\n  return \"unknown\";\r\n}\r\n\r\n// function openNewWindow() {\r\n//   window.open(\"https://foodleh.app\", \"_system\");\r\n// }\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    const anchor = (event.target.ownerDocument || document).querySelectorAll(\r\n      \"#back-to-top-anchor\"\r\n    )[0];\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div\r\n        onClick={handleClick}\r\n        role=\"presentation\"\r\n        style={{ position: \"fixed\", bottom: \"50px\", right: \"30px\" }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nfunction distance_calc(lat1, lon1, lat2, lon2) {\r\n  if (lat1 === lat2 && lon1 === lon2) {\r\n    return 0;\r\n  } else {\r\n    var radlat1 = (Math.PI * lat1) / 180;\r\n    var radlat2 = (Math.PI * lat2) / 180;\r\n    var theta = lon1 - lon2;\r\n    var radtheta = (Math.PI * theta) / 180;\r\n    var dist =\r\n      Math.sin(radlat1) * Math.sin(radlat2) +\r\n      Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    if (dist > 1) {\r\n      dist = 1;\r\n    }\r\n    dist = Math.acos(dist);\r\n    dist = (dist * 180) / Math.PI;\r\n    dist = dist * 60 * 1.1515;\r\n    return dist * 1.609344;\r\n  }\r\n}\r\n\r\nlet searchTimer = null;\r\n\r\nconst searchInitialState = {\r\n  data: [],\r\n  query: \"\",\r\n  longitude: \"\",\r\n  latitude: \"\",\r\n  distance: 5,\r\n  pickup: false,\r\n  delivery: false,\r\n  retrieved: false,\r\n  search: \"\",\r\n  searchPostal: false,\r\n  cuisineValue: [],\r\n  isCuisineMenuOpen: false,\r\n};\r\n\r\nexport class SearchAll extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const queryParams = new URLSearchParams(props.location.search);\r\n\tthis.myRef = React.createRef();\r\n\t\r\n\r\n\r\n\t//IV3\r\n\tconst state = {\r\n      ...searchInitialState,\r\n      pickup: queryParams.get(\"option\") === \"selfcollect\",\r\n      delivery: queryParams.get(\"option\") === \"delivery\",\r\n      open: true,\r\n\t  showList:[],\r\n    };\r\n\r\n    if (queryParams.get(\"lng\") && queryParams.get(\"lat\")) {\r\n      state.longitude = queryParams.get(\"lng\");\r\n      state.latitude = queryParams.get(\"lat\");\r\n    }\r\n\r\n    if (queryParams.get(\"postal\")) {\r\n      state.postal = queryParams.get(\"postal\");\r\n      state.searchPostal = true;\r\n    }\r\n\t\r\n\tif (queryParams.get(\"iv3\") === \"short\") {\r\n        distSplit = 2;\r\n    } else if (queryParams.get(\"iv3\") === \"long\") {\r\n        distSplit = 3;\r\n    }  \r\n\t\r\n\tstate.showList=new Array(numOfGroups).fill(false);\r\n\r\n    this.state = state;\r\n\t//IV3 End\r\n  }\r\n\r\n  componentWillMount() {\r\n    onLoad(\"searchall_load\");\r\n    if (\r\n      this.state.searchPostal &&\r\n      this.state.latitude &&\r\n      this.state.longitude\r\n    ) {\r\n      this.findDataByPostal();\r\n    } else {\r\n      this.retrieveData();\r\n    }\r\n    console.log(\"run\");\r\n  }\r\n\r\n  getData(val) {\r\n    this.setState({ data: val });\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    this.setState({ retrieved: false });\r\n    let query = db.collection(\"hawkers\");\r\n    if (this.state.cuisineValue && this.state.cuisineValue.length > 0) {\r\n      const categories = this.state.cuisineValue.map((c) => c.label);\r\n      query = query.where(\"categories\", \"array-contains-any\", categories);\r\n    }\r\n    var data = await query.get().then(Helpers.mapSnapshotToDocs);\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  findDataByPostal = async () => {\r\n    this.setState({ retrieved: false });\r\n    const centre = geo.point(\r\n      Number(this.state.latitude),\r\n      Number(this.state.longitude)\r\n    );\r\n    let data;\r\n    if (this.state.pickup && !this.state.delivery) {\r\n      data = await geoToPromise(\r\n        geo\r\n          .query(\"hawkers\")\r\n          .within(centre, Number(this.state.distance), \"location\")\r\n      );\r\n    } else if (!this.state.pickup && this.state.delivery) {\r\n      // Find both places within a radius and places that\r\n      // do islandwide delivery, populate an Object keying\r\n      // by doc id to avoid duplicates, then set data to\r\n      // Object's valuess\r\n      const placesById = {};\r\n\r\n      // const placesWithinReach = await geoToPromise(\r\n      //   geo.query(\"hawkers\").within(centre, 10, \"location\")\r\n      // );\r\n      // placesWithinReach.forEach((d) => (placesById[d.id] = d));\r\n\r\n      const userRegion = await Helpers.postalPlanningRegion(\r\n        this.state.query,\r\n        this.state.latitude,\r\n        this.state.longitude\r\n      );\r\n      const regions = await db\r\n        .collection(\"hawkers\")\r\n        .where(\"regions\", \"array-contains-any\", [\"Islandwide\", userRegion])\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n      regions.forEach((d) => (placesById[d.id] = d));\r\n      data = Object.values(placesById);\r\n    } else {\r\n      data = await db\r\n        .collection(\"hawkers\")\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n    }\r\n\r\n    data = data.map((d) => {\r\n      if (d.tagsValue !== undefined) {\r\n        d.tags = d.tagsValue.map((v) => v.trim().toLowerCase());\r\n        d.menu_list = d.menu_combined.map((v) => v.name.trim().toLowerCase());\r\n      } else {\r\n        d.menu_list = [];\r\n        d.tags = [];\r\n      }\r\n      return d;\r\n    });\r\n    this.setState({ data, retrieved: true });\r\n    window.scrollTo(0, this.context.scrollPosition);\r\n    this.context.setScrollPosition(0); // reset scrollPosition\r\n  };\r\n\r\n  handleCuisineChange = async (cuisineValue) => {\r\n    await this.setState({ cuisineValue });\r\n    if (!this.state.isCuisineMenuOpen) {\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleCuisineMenuOpen = () => {\r\n    this.setState({ isCuisineMenuOpen: true });\r\n  };\r\n\r\n  handleCuisineMenuClose = () => {\r\n    if (this.state.isCuisineMenuOpen) {\r\n      this.setState({ isCuisineMenuOpen: false });\r\n      this.retrieveData();\r\n    }\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  cuisineSearch() {\r\n    let cuisine_format = [];\r\n    cuisines.forEach((element) => {\r\n      cuisine_format.push({\r\n        label: element,\r\n        value: element,\r\n      });\r\n    });\r\n    const select = () => {\r\n      return (\r\n        <LanguageContext.Consumer>\r\n          {(context) => (\r\n            <span>\r\n              <Select\r\n                isMulti\r\n                closeMenuOnSelect={false}\r\n                isDisabled={!this.state.retrieved}\r\n                name=\"name\"\r\n                options={cuisine_format}\r\n                className=\"basic-multi-select\"\r\n                classNamePrefix=\"select\"\r\n                value={this.state.cuisineValue}\r\n                onChange={this.handleCuisineChange}\r\n                onMenuOpen={this.handleCuisineMenuOpen}\r\n                onMenuClose={this.handleCuisineMenuClose}\r\n                placeholder={context.data.search.filterby}\r\n              />\r\n            </span>\r\n          )}\r\n        </LanguageContext.Consumer>\r\n      );\r\n    };\r\n    return (\r\n      <span>\r\n        <span class=\"d-none d-md-block\">{select()}</span>\r\n        <span class=\"d-block d-md-none\" style={{ margin: \"5px\" }}>\r\n          {select()}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  handleChange = async (event) => {\r\n    const {\r\n      target: { value, name },\r\n    } = event;\r\n    if (name === \"search\") {\r\n      if (this.clearTimeout) clearTimeout(searchTimer);\r\n      searchTimer = setTimeout(() => {\r\n        this.setState({ [name]: value });\r\n      }, 300);\r\n    } else {\r\n      if (value.length === 0) {\r\n        this.retrieveData();\r\n      }\r\n      this.setState({ [name]: value, searchPostal: false });\r\n      if (name === \"postal\" && value.length === 6) {\r\n        const latlng = await Helpers.getLatLng(this.state.postal);\r\n        this.setState({\r\n          searchPostal: true,\r\n          latitude: latlng.LATITUDE,\r\n          longitude: latlng.LONGITUDE,\r\n        });\r\n        if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n          await this.findDataByPostal();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleToggle = async (event) => {\r\n    var name = event.currentTarget.name;\r\n    if (name === \"delivery\") this.setState({ delivery: true, pickup: false });\r\n    if (name === \"pickup\") this.setState({ delivery: false, pickup: true });\r\n    if (this.state.delivery && name === \"delivery\")\r\n      this.setState({ delivery: false });\r\n    if (this.state.pickup && name === \"pickup\")\r\n      this.setState({ pickup: false });\r\n    if (this.state.searchPostal && this.state.postal.length === 6) {\r\n      const latlng = await Helpers.getLatLng(this.state.postal);\r\n      this.setState({\r\n        searchPostal: true,\r\n        latitude: latlng.LATITUDE,\r\n        longitude: latlng.LONGITUDE,\r\n      });\r\n      if (latlng && latlng.LATITUDE && latlng.LONGITUDE) {\r\n        await this.findDataByPostal();\r\n      }\r\n    }\r\n  };\r\n  \r\n  //IV3\r\n  scrollToMyRef = () => window.scrollTo(0, this.myRef.offsetTop - 60);\r\n  \r\n  wantToView = ev => {\r\n\tlet distCounter=ev.currentTarget.dataset.tag;\r\n\t\r\n    //this.scrollToMyRef();\r\n\tlet toShow = [this.state.showList];\r\n    if (this.state.showList[distCounter]) {\r\n      toShow = false;\r\n    } else {\r\n      toShow = true;\r\n    }\r\n\tthis.setState(update(this.state, {\r\n\t  showList: {\r\n\t\t[distCounter]: {\r\n\t\t  $set: toShow\r\n\t\t}\r\n\t  }\r\n\t}));\r\n  };\r\n  //IV3 End\r\n\r\n  render() {\r\n    let result = {\r\n      nearby: [],\r\n    };\r\n    let skeletons = [];\r\n    for (let index = 0; index < 12; index++) {\r\n      skeletons.push(\r\n        <figure\r\n          class=\"card shadow effect-bubba item-card\"\r\n          style={{ margin: \"5px\", height: \"200px\" }}\r\n          onClick={this.handleClick}\r\n        >\r\n          <Skeleton width=\"100%\">\r\n            <div style={{ height: \"100px\" }} class=\"card-img-top\" alt=\"\"></div>\r\n          </Skeleton>\r\n          <Skeleton width=\"80%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n          <Skeleton width=\"50%\">\r\n            <h3>.</h3>\r\n          </Skeleton>\r\n        </figure>\r\n      );\r\n    }\r\n    if (this.state.data !== undefined && this.state.retrieved) {\r\n      let filtered = this.state.data;\r\n\r\n      if (this.state.search.length !== 0) {\r\n        filtered = filtered.filter((d) => {\r\n          if (d && d.name && d.description && d.description_detail && d.tags && d.menu_list) {\r\n            return (\r\n              d.name.toLowerCase().includes(this.state.search.toLowerCase()) ||\r\n              d.description\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.description_detail\r\n                .toLowerCase()\r\n                .includes(this.state.search.toLowerCase()) ||\r\n              d.tags.includes(this.state.search.toLowerCase()) ||\r\n              d.menu_list.includes(this.state.search.toLowerCase())\r\n            );\r\n          }\r\n          else{\r\n            return false\r\n          }\r\n        });\r\n      }\r\n\r\n      filtered = filtered.sort((a, b) => b.lastmodified - a.lastmodified);\r\n      if (this.state.pickup && !this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.pickup_option);\r\n      } else if (!this.state.pickup && this.state.delivery) {\r\n        filtered = filtered.filter((d) => d.delivery_option);\r\n      }\r\n\r\n      if (this.state.searchPostal) {\r\n        filtered.forEach((element) => {\r\n          element.distance = distance_calc(\r\n            parseFloat(element[\"latitude\"]),\r\n            parseFloat(element[\"longitude\"]),\r\n            parseFloat(this.state.latitude),\r\n            parseFloat(this.state.longitude)\r\n          ).toString();\r\n        });\r\n\r\n\t\t//IV3: Food listing arrangement\r\n\t\tlet distCounter=1;\r\n\t\tlet groupCounter=0;\r\n\t\tlet looped=0;\r\n\t\tlet groupSizes = new Array(numOfGroups).fill(0);\r\n\t\tlet size=Object.keys(filtered).length;\r\n\t\t\r\n        filtered = filtered.sort((a, b) => a.distance - b.distance);\r\n\t\t\r\n\t\t\r\n\t\t//get each group's size\t\r\n\t\tfiltered.forEach((data) => {\r\n\t\t\tif(data[\"distance\"]>=(distSplit*distCounter))\r\n\t\t\t{\r\n\t\t\t\tlet difference = Math.floor(data[\"distance\"]/distSplit) - distCounter;\r\n\t\t\t\tif(difference > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdistCounter = difference;\t\r\n\t\t\t\t}\r\n\t\t\t\tgroupSizes[distCounter-1]=groupCounter;\r\n\t\t\t\tdistCounter++;\r\n\t\t\t\tgroupCounter=0;\r\n\t\t\t}\r\n\t\t\tgroupCounter++;\r\n\t\t\tlooped++;\r\n\t\t});\r\n\t\tgroupSizes[distCounter-1]=groupCounter;\r\n\t\t\r\n\t\t\r\n\t\t//reset to loop again\r\n\t\tdistCounter=0;\r\n\t\tgroupCounter=0;\r\n        result.nearby = filtered.map((data) => {\r\n\t\t\tlet division=\"\";\r\n\t\t\tlet endDiv=\"\";\r\n\t\t\tlet itemDiv=\"\";\r\n\t\t\tlet\toverlay = \"\";\r\n\t\t\t\r\n\t\t\tif(!this.state.showList[distCounter] && groupSizes[distCounter]>itemPerLine)\r\n\t\t\t{\r\n\t\t\t\tconsole.log((distCounter)+\"=\"+groupSizes[distCounter]);\r\n\t\t\t\tlet overlayid=\"overlay_\"+distCounter;\r\n\t\t\t\toverlay = <span id={overlayid} style={{ height: \"0px\" }}>\r\n\t\t\t\t\t  <img\r\n\t\t\t\t\t\tsrc={gradient}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t  width: \"130%\",\r\n\t\t\t\t\t\t  height: \"150px\",\r\n\t\t\t\t\t\t  borderRadius: \"5px\",\r\n\t\t\t\t\t\t  position: \"relative\",\r\n\t\t\t\t\t\t  top: \"150px\",\r\n\t\t\t\t\t\t  zIndex: \"50\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t</span>;\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t/* See more button shows if only customer hasn't clicked see more */\r\n\t\t\tlet hider = \r\n                <div class=\"w-100\" style={{ marginTop: \"25px\" , marginBottom: \"30px\" }}>\r\n\t\t\t\t  <hr\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  color: \"lightgrey\",\r\n\t\t\t\t\t  backgroundColor: \"lightgrey\",\r\n\t\t\t\t\t  height: \"1px\",\r\n\t\t\t\t\t  borderColor: \"lightgrey\",\r\n\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t  alignItems: \"center\",\r\n\t\t\t\t\t  marginBottom: \"0px\", // aligns See More to divider\r\n\t\t\t\t\t}}\r\n\t\t\t\t  />\r\n\t\t\t\t  <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  textAlign: \"center\",\r\n\t\t\t\t\t  paddingRight: \"15px\",\r\n\t\t\t\t\t  fontSize: \"110%\",\r\n\t\t\t\t\t  cursor: \"pointer\",\r\n\t\t\t\t\t  color: \"grey\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata-tag={distCounter-1}\r\n\t\t\t\t\tonClick={this.wantToView}\r\n\t\t\t\t  >\r\n\t\t\t\t\t{!this.state.showList[distCounter-1] ? <b>see more ↓</b> : <b>see less ↑</b>}\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>;\r\n\t\t\t\t\r\n\t\t\tlet fixedHider = \r\n                <div class=\"w-100\" style={{marginTop: \"25px\" , marginBottom: \"30px\" }}>\r\n\t\t\t\t  <hr\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  color: \"lightgrey\",\r\n\t\t\t\t\t  backgroundColor: \"lightgrey\",\r\n\t\t\t\t\t  height: \"1px\",\r\n\t\t\t\t\t  borderColor: \"lightgrey\",\r\n\t\t\t\t\t  width: \"100%\",\r\n\t\t\t\t\t  alignItems: \"center\",\r\n\t\t\t\t\t  marginBottom: \"0px\", // aligns See More to divider\r\n\t\t\t\t\t}}\r\n\t\t\t\t  />\r\n\t\t\t\t  <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t  textAlign: \"center\",\r\n\t\t\t\t\t  paddingRight: \"15px\",\r\n\t\t\t\t\t  fontSize: \"110%\",\r\n\t\t\t\t\t  cursor: \"pointer\",\r\n\t\t\t\t\t  color: \"grey\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata-tag={distCounter-1}\r\n\t\t\t\t  >\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>;\r\n\t\t\t\r\n\t\t\tlet divider = <div class=\"w-100\"><b><p class=\"text-left\" style={{ paddingLeft:\"27px\" }}>{distSplit*distCounter} to {distSplit*(distCounter+1)} KM Away</p></b></div>;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//if end of group add division\r\n\t\t\tif(data[\"distance\"]>=(distSplit*distCounter))\r\n\t\t\t{\r\n\t\t\t\tlet difference = Math.floor(data[\"distance\"]/distSplit) - distCounter;\r\n\t\t\t\tif(difference > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdistCounter = difference;\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//each time a new group check if not first group to add hider\r\n\t\t\t\tif(distCounter>0 && groupCounter>itemPerLine)\r\n\t\t\t\t{\r\n\t\t\t\t\tdivision=<>{hider}{divider}{overlay}</>;\r\n\t\t\t\t}\r\n\t\t\t\telse if(distCounter>0 && groupCounter<=itemPerLine)\r\n\t\t\t\t{\r\n\t\t\t\t\tdivision=<>{fixedHider}{divider}{overlay}</>;\r\n\t\t\t\t} \r\n\t\t\t\telse //1st group\r\n\t\t\t\t{\r\n\t\t\t\t\tdivision=<>{divider}{overlay}</>;\r\n\t\t\t\t}\r\n\t\t\t\tdistCounter++;\r\n\t\t\t\tgroupCounter=0;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//add final hider\r\n\t\t\tif(size>1)\r\n\t\t\t{\r\n\t\t\t\tsize--;\r\n\t\t\t}\r\n\t\t\telse if(groupCounter>itemPerLine)\r\n\t\t\t{\r\n\t\t\t\tendDiv=hider;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tendDiv=fixedHider;\r\n\t\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\t\t//show or hide items\r\n\t\t\tif(this.state.showList[distCounter-1] || groupCounter<itemPerLine)\r\n\t\t\t{\r\n\t\t\t\tgroupCounter++;\r\n\t\t\t\titemDiv=<span>\r\n\t\t\t\t\t  <div>\r\n\t\t\t\t\t\t<Item\r\n\t\t\t\t\t\t  promo={data[\"promo\"]}\r\n\t\t\t\t\t\t  id={data[\"id\"]}\r\n\t\t\t\t\t\t  name={data[\"name\"]}\r\n\t\t\t\t\t\t  street={data[\"street\"]}\r\n\t\t\t\t\t\t  pic={data[\"url\"]}\r\n\t\t\t\t\t\t  summary={data[\"description\"]}\r\n\t\t\t\t\t\t  distance={data[\"distance\"]}\r\n\t\t\t\t\t\t  claps={data[\"claps\"]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</span>;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tgroupCounter++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t  return (\r\n\t\t\t<>\r\n\t\t\t\t{division}\r\n\t\t\t\t{itemDiv}\r\n\t\t\t\t{endDiv}\t\t\t\t\t\r\n\t\t\t</>\r\n\t\t  );\r\n\t\t\t\r\n        });\r\n\t\t//IV3 End\r\n\r\n      } else {\r\n        result.nearby = filtered.map((data) => {\r\n          return (\r\n            <span>\r\n              <div>\r\n                <Item\r\n                  promo={data[\"promo\"]}\r\n                  id={data[\"id\"]}\r\n                  name={data[\"name\"]}\r\n                  street={data[\"street\"]}\r\n                  pic={data[\"url\"]}\r\n                  summary={data[\"description\"]}\r\n                  claps={data[\"claps\"]}\r\n                />\r\n              </div>\r\n            </span>\r\n          );\r\n        });\r\n      }\r\n    }\r\n\t\r\n    return (\r\n      <div class=\"container\" style={{ paddingTop: \"56px\", width: \"100%\" }}>\r\n        <div class=\"container\" style={{ paddingTop: \"27px\" }}>\r\n          <div class=\"row justify-content-center\">\r\n            <LanguageContext.Consumer>\r\n              {(context) => (\r\n                <div class=\"col-12 col-sm-6 col-md-6\">\r\n                  <h3 id=\"back-to-top-anchor\">\r\n                    {context.data.search.alllistings}\r\n                  </h3>\r\n                </div>\r\n              )}\r\n            </LanguageContext.Consumer>\r\n          </div>\r\n          <div class=\"row justify-content-center mt-4\">\r\n            {\r\n              <LanguageContext.Consumer>\r\n                {(context) => (\r\n                  <div class=\"col-12 col-sm-6 col-md-6\">\r\n                    <input\r\n                      disabled={!this.state.retrieved}\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      // value={this.state.search}\r\n                      name=\"search\"\r\n                      placeholder={context.data.search.prompt}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: \"38px\",\r\n                        \"border-radius\": \"1rem\",\r\n                      }}\r\n                      onChange={this.handleChange}\r\n                    ></input>\r\n                  </div>\r\n                )}\r\n              </LanguageContext.Consumer>\r\n            }\r\n\r\n            <div class=\"col-12 col-sm-10 col-md-6\">{this.cuisineSearch()}</div>\r\n          </div>\r\n          <div class=\"row justify-content-center mt-4\">\r\n            <LanguageContext.Consumer>\r\n              {(context) => (\r\n                <div class=\"col-6 col-sm-6 col-md-6\">\r\n                  <input\r\n                    onChange={this.handleChange}\r\n                    value={this.state.postal}\r\n                    type=\"text\"\r\n                    pattern=\"[0-9]{6}\"\r\n                    maxLength={6}\r\n                    minLength={6}\r\n                    class=\"form-control\"\r\n                    name=\"postal\"\r\n                    placeholder={context.data.search.postalcode}\r\n                    autoComplete=\"postal-code\"\r\n                    autoFocus\r\n                    required\r\n                    disabled={!this.state.retrieved}\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"38px\",\r\n                      \"border-radius\": \"1rem\",\r\n                    }}\r\n                  ></input>\r\n                </div>\r\n              )}\r\n            </LanguageContext.Consumer>\r\n            <div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n              <div name=\"pickup\">\r\n                <LanguageContext.Consumer>\r\n                  {(context) => (\r\n                    <Button\r\n                      variant={\"contained\"}\r\n                      // variant=\"outline-secondary\"\r\n                      onClick={this.handleToggle}\r\n                      name=\"pickup\"\r\n                      disabled={!this.state.retrieved}\r\n                      style={\r\n                        !this.state.pickup\r\n                          ? {\r\n                              backgroundColor: \"white\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                          : {\r\n                              backgroundColor: \"#b48300\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                      }\r\n                      color={\"secondary\"}\r\n                    >\r\n                      <img\r\n                        name=\"pickup\"\r\n                        src={bag}\r\n                        alt=\"bag\"\r\n                        style={{ height: \"20px\" }}\r\n                      ></img>\r\n                      <div\r\n                        name=\"pickup\"\r\n                        class=\"d-none d-md-inline-block\"\r\n                        style={\r\n                          !this.state.pickup\r\n                            ? { marginLeft: \"10px\", color: \"black\" }\r\n                            : { marginLeft: \"10px\", color: \"white\" }\r\n                        }\r\n                      >\r\n                        {context.data.search.self_collect}\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </LanguageContext.Consumer>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-3 col-xs-3 col-sm-3 col-md-3\">\r\n              <div name=\"delivery\">\r\n                <LanguageContext.Consumer>\r\n                  {(context) => (\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant={\"contained\"}\r\n                      disabled={!this.state.retrieved}\r\n                      style={\r\n                        !this.state.delivery\r\n                          ? {\r\n                              backgroundColor: \"white\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                          : {\r\n                              backgroundColor: \"#b48300\",\r\n                              borderColor: \"#b48300\",\r\n                              width: \"100%\",\r\n                              height: \"38px\",\r\n                              textTransform: \"none\",\r\n                            }\r\n                      }\r\n                      name=\"delivery\"\r\n                      color={\"secondary\"}\r\n                      onClick={this.handleToggle}\r\n                    >\r\n                      <img\r\n                        name=\"delivery\"\r\n                        src={motor}\r\n                        alt=\"motor\"\r\n                        style={{ height: \"20px\" }}\r\n                      ></img>{\" \"}\r\n                      <div\r\n                        name=\"delivery\"\r\n                        class=\"d-none d-md-inline-block\"\r\n                        style={\r\n                          !this.state.delivery\r\n                            ? { marginLeft: \"10px\", color: \"black\" }\r\n                            : { marginLeft: \"10px\", color: \"white\" }\r\n                        }\r\n                      >\r\n                        {context.data.search.delivery}\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </LanguageContext.Consumer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row justify-content-center mt-4\">\r\n            {this.state.retrieved ? (\r\n              result.nearby.length > 0 ? (\r\n                result.nearby\r\n              ) : (\r\n                <span class=\"mt-5\">No Results Found</span>\r\n              )\r\n            ) : (\r\n              <div class=\"row justify-content-center mt-4\">\r\n                {/* <h3>Loading</h3> */}\r\n                {/* <Spinner class=\"\" animation=\"grow\" /> */}\r\n                {skeletons}\r\n              </div>\r\n            )}\r\n            <ScrollTop>\r\n              <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n                <KeyboardArrowUpIcon />\r\n              </Fab>\r\n            </ScrollTop>\r\n            {getMobileOperatingSystem() === \"Android\" ? (\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"left\",\r\n                }}\r\n                open={this.state.open}\r\n                // autoHideDuration={10000}\r\n                // onClose={this.handleClose}\r\n                message={\r\n                  <div style={{ fontSize: \"30px\" }}>\r\n                    Android App is no longer working. Please use browser and\r\n                    visit <b>www.foodleh.app</b> instead.\r\n                  </div>\r\n                }\r\n                action={\r\n                  <React.Fragment>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      aria-label=\"close\"\r\n                      color=\"inherit\"\r\n                      onClick={this.handleClose}\r\n                    >\r\n                      <CloseIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchAll.contextType = LanguageContext;\r\nexport default SearchAll;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React, { Fragment } from \"react\";\r\nimport \"../App.css\";\r\nimport { db, storage, geo, uiConfigPage } from \"./Firestore\";\r\nimport { Button, Form, Spinner } from \"react-bootstrap\";\r\nimport logo from \"../mrt_logo.png\";\r\nimport Select from \"react-select\";\r\nimport Item from \"./Item\";\r\nimport Jimp from \"jimp\";\r\nimport Helpers from \"../Helpers/helpers\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport firebase from \"./Firestore\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\n\r\n// const API_KEY = `${process.env.REACT_APP_GKEY}`\r\n\r\nimport _ from \"lodash\";\r\nconst admin = `${process.env.REACT_APP_ADMIN}`;\r\nconst analytics = firebase.analytics();\r\n\r\nfunction onClick(name) {\r\n  analytics.logEvent(name);\r\n}\r\n\r\nconst icon = (\r\n  <div>\r\n    <svg\r\n      class=\"bi bi-square\"\r\n      width=\"85px\"\r\n      height=\"85px\"\r\n      viewBox=\"0 0 16 16\"\r\n      fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fill-rule=\"evenodd\"\r\n        d=\"M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z\"\r\n        clip-rule=\"evenodd\"\r\n      />\r\n      <svg\r\n        class=\"bi bi-plus-circle-fill\"\r\n        x=\"5.5\"\r\n        y=\"5.5\"\r\n        width=\"5px\"\r\n        height=\"5px\"\r\n        viewBox=\"0 0 16 16\"\r\n        fill=\"currentColor\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          fill-rule=\"evenodd\"\r\n          d=\"M16 8A8 8 0 110 8a8 8 0 0116 0zM8.5 4a.5.5 0 00-1 0v3.5H4a.5.5 0 000 1h3.5V12a.5.5 0 001 0V8.5H12a.5.5 0 000-1H8.5V4z\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    </svg>\r\n  </div>\r\n);\r\n\r\nconst createDomain = async (name, id, cover, uid) => {\r\n  return db\r\n    .collection(\"pages\")\r\n    .doc(name)\r\n    .set({\r\n      css: { menu_color: \"\", menu_font_color: \"\" },\r\n      docid: id,\r\n      logo: \"\",\r\n      cover: cover,\r\n      delivery_option: \"none\"\r\n    })\r\n    .then(async () => {\r\n      await db\r\n        .collection(\"pages\")\r\n        .doc(name)\r\n        .collection(\"users\")\r\n        .doc(uid)\r\n        .set({\r\n          role: \"admin\",\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n      await db\r\n        .collection(\"pages\")\r\n        .doc(name)\r\n        .collection(\"users\")\r\n        .doc(admin)\r\n        .set({\r\n          role: \"admin\",\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n      await db\r\n        .collection(\"hawkers\")\r\n        .doc(id)\r\n        .update({\r\n          custom: true,\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n};\r\n\r\nconst handleData = async ({\r\n  url,\r\n  image2,\r\n  image3,\r\n  image4,\r\n  image5,\r\n  image6,\r\n  name,\r\n  cuisine,\r\n  categories,\r\n  postal,\r\n  street,\r\n  unit,\r\n  description,\r\n  description_detail,\r\n  region,\r\n  regions,\r\n  delivery,\r\n  price,\r\n  contact,\r\n  latitude,\r\n  longitude,\r\n  call,\r\n  whatsapp,\r\n  sms,\r\n  inperson,\r\n  opening,\r\n  pickup_option,\r\n  delivery_option,\r\n  website,\r\n  promo,\r\n  condition,\r\n  delivery_detail,\r\n  menu,\r\n  toggle,\r\n  docid,\r\n  wechatid,\r\n  location,\r\n  menu_combined,\r\n  tagsValue,\r\n  editedFields,\r\n  originalName,\r\n  takesg,\r\n  option,\r\n  uid,\r\n  minimum_order,\r\n  free_delivery,\r\n  website_name,\r\n}) => {\r\n  let now = new Date();\r\n  var field = {\r\n    name: name,\r\n    postal: postal,\r\n    street: street,\r\n    description: description,\r\n    description_detail: description_detail,\r\n    url: url,\r\n    image2: image2,\r\n    image3: image3,\r\n    image4: image4,\r\n    image5: image5,\r\n    image6: image6,\r\n    latitude: latitude,\r\n    longitude: longitude,\r\n    unit: unit,\r\n    delivery: delivery,\r\n    cuisine: cuisine,\r\n    categories: categories,\r\n    region: region,\r\n    regions: regions,\r\n    price: price,\r\n    contact: contact,\r\n    call: call,\r\n    whatsapp: whatsapp,\r\n    sms: sms,\r\n    inperson: inperson,\r\n    lastmodified: now,\r\n    opening: opening,\r\n    delivery_option: delivery_option,\r\n    pickup_option: pickup_option,\r\n    website: website,\r\n    promo: promo,\r\n    condition: condition,\r\n    delivery_detail: delivery_detail,\r\n    menu: menu,\r\n    docid: docid,\r\n    wechatid: wechatid,\r\n    location: location,\r\n    menu_combined: menu_combined,\r\n    tagsValue: tagsValue,\r\n    takesg: takesg,\r\n    minimum_order: minimum_order,\r\n    free_delivery: free_delivery,\r\n  };\r\n  if (toggle === \"create\") {\r\n    console.log(field);\r\n    let id = await db\r\n      .collection(\"hawkers\")\r\n      .add({\r\n        ...field,\r\n        claps: 0,\r\n        custom: false,\r\n      })\r\n      .then(async (docRef) => {\r\n        console.log(docRef.id);\r\n        if (option === \"website\") {\r\n          await createDomain(website_name, docRef.id, url, uid);\r\n        }\r\n        return docRef.id;\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n    return id;\r\n  } else if (toggle === \"edit\") {\r\n    if (editedFields.length > 0) {\r\n      let editedFieldsAndValues = _.pick(field, editedFields);\r\n      await Helpers.sendEmailToUpdateListing(\r\n        docid,\r\n        originalName,\r\n        \"edit\",\r\n        editedFieldsAndValues\r\n      )\r\n        .then((result) => {\r\n          console.log(result);\r\n        })\r\n        .catch(function (error) {\r\n          console.error(\"Error sending email: \", error);\r\n        });\r\n    }\r\n\r\n    return docid;\r\n  }\r\n};\r\n\r\nexport class ListForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      postal: \"\",\r\n      street: \"\",\r\n      price: \"\",\r\n      description: \"\",\r\n      description_detail: \"\",\r\n      image1: \"\",\r\n      image2: \"\",\r\n      image3: \"\",\r\n      image4: \"\",\r\n      image5: \"\",\r\n      image6: \"\",\r\n      imageFile1: \"\",\r\n      imageFile2: \"\",\r\n      imageFile3: \"\",\r\n      imageFile4: \"\",\r\n      imageFile5: \"\",\r\n      imageFile6: \"\",\r\n      imageName: \"Upload Image\",\r\n      longitude: 103.8198,\r\n      latitude: 1.3521,\r\n      unit: \"\",\r\n      delivery_option: false,\r\n      pickup_option: true,\r\n      delivery: [],\r\n      cuisineValue: [],\r\n      call: false,\r\n      whatsapp: false,\r\n      sms: false,\r\n      inperson: false,\r\n      contact: \"\",\r\n      docid: \"\",\r\n      opening: \"\",\r\n      region: [],\r\n      website: \"\",\r\n      promo: \"\",\r\n      condition: \"\",\r\n      delivery_detail: \"\",\r\n      menu: false,\r\n      menu_combined: [\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n        { name: \"\", price: \"\" },\r\n      ],\r\n      wechatid: \"\",\r\n      tagsValue: [],\r\n      tags: [],\r\n      isLoading: false,\r\n      takesg: false,\r\n      dialogOpen: false,\r\n      website_name: \"\",\r\n      available: null,\r\n      firebaseUser: \"\",\r\n      minimum_order: 0,\r\n      free_delivery: 0,\r\n    };\r\n\r\n    this.initialState = {};\r\n\r\n    this.handleRegionChange = this.handleRegionChange.bind(this);\r\n    this.handleMultiChange = this.handleMultiChange.bind(this);\r\n    this.handleCuisineChange = this.handleCuisineChange.bind(this);\r\n    this.handleTagsChange = this.handleTagsChange.bind(this);\r\n    this.handleCreate = this.handleCreate.bind(this);\r\n    // this.handleImageAsFile = this.handleImageAsFile.bind(this);\r\n    this.handleFireBaseUpload = this.handleFireBaseUpload.bind(this);\r\n    this.handleClear = this.handleClear.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    firebase.auth().useDeviceLanguage();\r\n    // window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n    //   \"recaptcha-container\",\r\n    //   {\r\n    //     size: \"invisible\",\r\n    //     callback: function (response) {\r\n    //       // reCAPTCHA solved\r\n    //     },\r\n    //   }\r\n    // );\r\n\r\n    firebase.auth().onAuthStateChanged(\r\n      function (user) {\r\n        if (user) {\r\n          // User is signed in, set state\r\n          // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n          console.log(user);\r\n          this.setState({\r\n            firebaseUser: user,\r\n            displayName: user.displayName,\r\n            email: user.email ? user.email : null,\r\n          });\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      }.bind(this)\r\n    );\r\n  }\r\n\r\n  getInitialState() {\r\n    console.log(\"getinitialstate\");\r\n    const initialState = {\r\n      name: this.props.data.name,\r\n      postal: this.props.data.postal,\r\n      street: this.props.data.street,\r\n      price: this.props.data.price,\r\n      description: this.props.data.description,\r\n      description_detail: this.props.data.description_detail,\r\n      image1: this.props.data.url ? this.props.data.url : \"\",\r\n      image2: this.props.data.image2 ? this.props.data.image2 : \"\",\r\n      image3: this.props.data.image3 ? this.props.data.image3 : \"\",\r\n      image4: this.props.data.image4 ? this.props.data.image4 : \"\",\r\n      image5: this.props.data.image5 ? this.props.data.image5 : \"\",\r\n      image6: this.props.data.image6 ? this.props.data.image6 : \"\",\r\n      imageName: \"Upload Image\",\r\n      longitude: this.props.data.longitude,\r\n      latitude: this.props.data.latitude,\r\n      unit: this.props.data.unit,\r\n      delivery_option: this.props.data.delivery_option,\r\n      pickup_option: this.props.data.pickup_option,\r\n      cuisineValue: this.props.data.categories.map((v) => {\r\n        return {\r\n          label: v,\r\n          value: v,\r\n        };\r\n      }),\r\n      categories: this.props.data.cuisine,\r\n      call: this.props.data.call,\r\n      whatsapp: this.props.data.whatsapp,\r\n      sms: this.props.data.sms,\r\n      inperson: this.props.data.inperson,\r\n      contact: this.props.data.contact,\r\n      docid: this.props.id,\r\n      opening: this.props.data.opening,\r\n      region: this.props.data.regions.map((v) => {\r\n        return {\r\n          label: v,\r\n          value: v,\r\n        };\r\n      }),\r\n      regions: this.props.data.region,\r\n      website: this.props.data.website,\r\n      promo: this.props.data.promo,\r\n      condition: this.props.data.condition,\r\n      delivery_detail: this.props.data.delivery_detail,\r\n      menu: this.props.data.menu,\r\n      menu_combined: this.props.data.menu_combined,\r\n      wechatid: this.props.data.wechatid ? this.props.data.wechatid : \"\",\r\n      takesg: this.props.data.takesg ? this.props.data.takesg : false,\r\n      newId: \"\",\r\n    };\r\n\r\n    return _.cloneDeep(initialState);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getFirestoreData();\r\n    this.getTags();\r\n    this.initialState = _.cloneDeep(this.state);\r\n\r\n    if (this.props.toggle === \"create\") {\r\n      if (localStorage.getItem(\"createFormData\")) {\r\n        this.setState(JSON.parse(localStorage.getItem(\"createFormData\")));\r\n      } else {\r\n        localStorage.setItem(\"createFormData\", JSON.stringify(this.state));\r\n      }\r\n    } else if (this.props.toggle === \"edit\") {\r\n      this.setState(this.getInitialState());\r\n      const initialState = this.getInitialState();\r\n      this.initialState = { ...this.initialState, ...initialState };\r\n    }\r\n  }\r\n\r\n  apiHasLoaded(map, maps) {\r\n    if (map && maps) {\r\n      this.setState({\r\n        apiReady: true,\r\n        map: map,\r\n        maps: maps,\r\n      });\r\n    }\r\n  }\r\n\r\n  saveStateToLocalStorage(name, value) {\r\n    if (this.props.toggle === \"create\") {\r\n      const storedData = JSON.parse(localStorage.getItem(\"createFormData\"));\r\n      storedData[name] = value;\r\n      localStorage.setItem(\"createFormData\", JSON.stringify(storedData));\r\n    }\r\n  }\r\n\r\n  async getPostal(postal) {\r\n    // event.preventDefault();\r\n    let data = await this.callPostal(postal);\r\n    if (data !== undefined) {\r\n      this.setState({\r\n        street: data[\"ADDRESS\"],\r\n        longitude: data[\"LONGITUDE\"],\r\n        latitude: data[\"LATITUDE\"],\r\n      });\r\n      this.saveStateToLocalStorage(\"street\", data[\"ADDRESS\"]);\r\n      this.saveStateToLocalStorage(\"longitude\", data[\"LONGITUDE\"]);\r\n      this.saveStateToLocalStorage(\"latitude\", data[\"LATITUDE\"]);\r\n    }\r\n  }\r\n\r\n  callPostal = (postal) => {\r\n    return fetch(\r\n      \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n        postal +\r\n        \"&returnGeom=Y&getAddrDetails=Y\"\r\n    )\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(\r\n        function (jsonResponse) {\r\n          if (\r\n            jsonResponse !== undefined &&\r\n            jsonResponse[\"results\"] !== undefined\r\n          ) {\r\n            return jsonResponse[\"results\"][0];\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  getEditedFields = () => {\r\n    const specialKeys = {\r\n      image1: [\"url\"],\r\n      cuisineValue: [\"cuisine\", \"categories\"],\r\n      region: [\"region\", \"regions\"],\r\n      latitude: [\"latitude\", \"location\"],\r\n      // menuitem: [\"menuitem\", \"menu_combined\"],\r\n      // menuprice: [\"menuprice\", \"menu_combined\"],\r\n      menu_combined: [\"menu_combined\"],\r\n    };\r\n\r\n    let edited_fields = [];\r\n\r\n    Object.keys(this.state).forEach((key) => {\r\n      const initialVal = this.initialState[key];\r\n      const currentVal = this.state[key];\r\n\r\n      if (!_.isEqual(initialVal, currentVal)) {\r\n        if (Object.prototype.hasOwnProperty.call(specialKeys, key)) {\r\n          const relatedKeys = specialKeys[key];\r\n          relatedKeys.forEach((relatedKey) => {\r\n            edited_fields.push(relatedKey);\r\n          });\r\n        } else {\r\n          edited_fields.push(key);\r\n        }\r\n      }\r\n    });\r\n\r\n    return edited_fields;\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    // Early exit if no account created and no website name\r\n    if (this.props.option === \"website\" && !this.state.firebaseUser) {\r\n      alert(\"Please create account\");\r\n      return;\r\n    }\r\n    if (\r\n      this.props.option === \"website\" &&\r\n      !this.state.website_name &&\r\n      !this.state.available &&\r\n      this.state.available === null\r\n    ) {\r\n      alert(\"Please enter a valid website name\");\r\n      return;\r\n    }\r\n\r\n    this.getPostal(this.state.postal);\r\n    // removing since menu_combined should be ground truth instead of menuitem, menuprice\r\n    // let menu_combined = this.state.menuitem.map((item, index) => {\r\n    //   return {\r\n    //     name: this.state.menuitem[index],\r\n    //     price: this.state.menuprice[index],\r\n    //   };\r\n    // });\r\n    //\r\n    // Clean empty fields from menu_combined, menuitem and menuprice before creating/editing, fills up to 10\r\n    // Guards against blank fields from users clicking \"More Menu Items\" multiple times and not filling it in\r\n    let newMenucombined = [];\r\n    for (let i = 0; i < this.state.menu_combined.length; i = i + 1) {\r\n      if (this.state.menu_combined[i].name !== \"\") {\r\n        newMenucombined.push({\r\n          name: this.state.menu_combined[i].name,\r\n          price: this.state.menu_combined[i].price,\r\n        });\r\n      }\r\n    }\r\n    while (newMenucombined.length < 10) {\r\n      newMenucombined.push({\r\n        name: \"\",\r\n        price: \"\",\r\n      });\r\n    }\r\n    this.setState({ isLoading: true });\r\n    let edited_fields = [];\r\n    if (this.props.toggle === \"create\") {\r\n      onClick(\"create_submit_click\");\r\n    } else {\r\n      onClick(\"edit_submit_click\");\r\n      edited_fields = this.getEditedFields();\r\n    }\r\n\r\n    await handleData({\r\n      url: this.state.image1,\r\n      image2: this.state.image2,\r\n      image3: this.state.image3,\r\n      image4: this.state.image4,\r\n      image5: this.state.image5,\r\n      image6: this.state.image6,\r\n      name: this.state.name,\r\n      cuisine: this.state.cuisineValue,\r\n      categories: this.state.cuisineValue.map((v) => v.label.trim()),\r\n      postal: this.state.postal,\r\n      street: this.state.street,\r\n      unit: this.state.unit,\r\n      description: this.state.description,\r\n      description_detail: this.state.description_detail,\r\n      region: this.state.region,\r\n      regions: this.state.region.map((v) => v.label.trim()),\r\n      islandwide: this.state.islandwide,\r\n      delivery: this.state.delivery,\r\n      price: this.state.price,\r\n      contact: this.state.contact,\r\n      latitude: this.state.latitude,\r\n      longitude: this.state.longitude,\r\n      location: geo.point(\r\n        Number(this.state.latitude),\r\n        Number(this.state.longitude)\r\n      ),\r\n      call: this.state.call,\r\n      whatsapp: this.state.whatsapp,\r\n      sms: this.state.sms,\r\n      inperson: this.state.inperson,\r\n      opening: this.state.opening,\r\n      pickup_option: this.state.pickup_option,\r\n      delivery_option: this.state.delivery_option,\r\n      website: this.state.website,\r\n      promo: this.state.promo,\r\n      condition: this.state.condition,\r\n      delivery_detail: this.state.delivery_detail,\r\n      menu: this.state.menu,\r\n      menu_combined: newMenucombined,\r\n      toggle: this.props.toggle,\r\n      docid: this.state.docid,\r\n      wechatid: this.state.wechatid,\r\n      tagsValue: this.state.tagsValue.map((v) => v.label.trim()),\r\n      editedFields: edited_fields,\r\n      originalName: this.initialState.name,\r\n      takesg: this.state.takesg,\r\n      option: this.props.option,\r\n      uid: this.state.firebaseUser.uid,\r\n      free_delivery: this.state.free_delivery,\r\n      minimum_order: this.state.minimum_order,\r\n      website_name: this.state.website_name,\r\n    }).then((id) => {\r\n      if (this.props.toggle === \"create\") {\r\n        // this.props.history.push({\r\n        //   pathname: \"/info\",\r\n        //   search: \"?id=\" + id,\r\n        // });\r\n        this.setState({ newId: id, dialogOpen: true, isLoading: false });\r\n      } else if (this.props.toggle === \"edit\") {\r\n        this.setState({ isLoading: false });\r\n\r\n        if (edited_fields.length === 0) {\r\n          this.props.onSubmitEdit(false);\r\n        } else {\r\n          this.props.onSubmitEdit(true);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  handleClear() {\r\n    localStorage.setItem(\"createFormData\", JSON.stringify(this.initialState));\r\n    this.setState(_.cloneDeep(this.initialState));\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    if (name === \"postal\" && value.toString().length === 6) {\r\n      this.getPostal(value);\r\n    }\r\n    if (\r\n      name === \"delivery_option\" ||\r\n      name === \"pickup_option\" ||\r\n      name === \"call\" ||\r\n      name === \"whatsapp\" ||\r\n      name === \"sms\" ||\r\n      name === \"inperson\"\r\n    ) {\r\n      const checked = target.checked;\r\n      this.setState({ [name]: checked });\r\n      this.saveStateToLocalStorage(name, checked);\r\n    } else if (name.slice(0, 8) === \"menuitem\") {\r\n      // Check if menu_combined already has index to change in case user adds more items, else push it\r\n      let current = this.state.menu_combined;\r\n      let idxToChange = parseInt(name.slice(8));\r\n      while (current.length < idxToChange + 1) {\r\n        current.push({\r\n          name: \"\",\r\n          price: \"\",\r\n        });\r\n      }\r\n      current[idxToChange].name = target.value;\r\n      this.setState({\r\n        menu_combined: current,\r\n      });\r\n      this.saveStateToLocalStorage(\"menu_combined\", current);\r\n    } else if (name.slice(0, 9) === \"menuprice\") {\r\n      let current = this.state.menu_combined;\r\n      let idxToChange = parseInt(name.slice(9));\r\n      while (current.length < idxToChange + 1) {\r\n        current.push({\r\n          name: \"\",\r\n          price: \"\",\r\n        });\r\n      }\r\n      current[idxToChange].price = target.value;\r\n      this.setState({\r\n        menu_combined: current,\r\n      });\r\n      this.saveStateToLocalStorage(\"menu_combined\", current);\r\n    } else if (name === \"website_name\") {\r\n      this.setState({\r\n        website_name: event.target.value.toLowerCase(),\r\n        available: null,\r\n      });\r\n      this.saveStateToLocalStorage(name, value);\r\n    } else {\r\n      this.setState({ [name]: value });\r\n      this.saveStateToLocalStorage(name, value);\r\n    }\r\n  };\r\n\r\n  checkAvailable = async () => {\r\n    if (\r\n      this.state.website_name !== \"\" &&\r\n      this.state.website_name !== null &&\r\n      /[^\\w]|_|\\s/g.test(this.state.website_name) !== true\r\n    ) {\r\n      this.setState({ invalid: false });\r\n      await db\r\n        .collection(\"pages\")\r\n        .doc(this.state.website_name)\r\n        .get()\r\n        .then((snapshot) => {\r\n          if (snapshot.exists) {\r\n            this.setState({ available: false });\r\n          } else {\r\n            this.setState({ available: true });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      this.setState({ invalid: true });\r\n    }\r\n  };\r\n\r\n  handleMenu = (event) => {\r\n    const name = event.target.name;\r\n    // User is displaying first 10 menu item rows\r\n    if (name === \"menu\") {\r\n      if (this.state.menu) {\r\n        this.setState({ menu: false });\r\n        this.saveStateToLocalStorage(\"menu\", false);\r\n      } else {\r\n        this.setState({ menu: true });\r\n        this.saveStateToLocalStorage(\"menu\", true);\r\n      }\r\n    } else if (name === \"moreMenuItems\") {\r\n      // User adds more menu_combined rows, 5 at a time\r\n      let newMenucombined = this.state.menu_combined;\r\n      for (var i = 0; i < 5; i++) {\r\n        newMenucombined.push({\r\n          name: \"\",\r\n          price: \"\",\r\n        });\r\n      }\r\n      this.setState({\r\n        menu_combined: newMenucombined,\r\n      });\r\n      this.saveStateToLocalStorage(\"menu_combined\", newMenucombined);\r\n    }\r\n  };\r\n\r\n  handleMenuDisplay = (context) => {\r\n    let data = [];\r\n    console.log(this.state.menu_combined.length);\r\n    // Push Menu and Price headers\r\n    data.push(\r\n      <div class=\"form-row\">\r\n        <div class=\"col-7\">\r\n          <small>{context.data.create.menuitem}</small>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <small>{context.data.create.price}</small>\r\n        </div>\r\n      </div>\r\n    );\r\n    // Push the number of rows corresponding to number of menu items\r\n    for (var i = 0; i < this.state.menu_combined.length; i++) {\r\n      data.push(\r\n        <div>\r\n          <div class=\"form-row\">\r\n            <div class=\"col-7\">\r\n              <input\r\n                onChange={this.handleChange}\r\n                value={this.state.menu_combined[i].name}\r\n                name={\"menuitem\" + i.toString()}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                placeholder=\"E.g. Chicken Rice\"\r\n                maxlength=\"60\"\r\n              />\r\n            </div>\r\n            <div class=\"col-5\">\r\n              <div class=\"input-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                    $\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  onChange={this.handleChange}\r\n                  value={this.state.menu_combined[i].price}\r\n                  name={\"menuprice\" + i.toString()}\r\n                  type=\"number\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"e.g. 4.00\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return data;\r\n  };\r\n\r\n  handleImageAsFile = (event) => {\r\n    event.preventDefault();\r\n    const image = event.target.files[0];\r\n    const name = event.target.name;\r\n    this.setState({ [name]: image });\r\n    if (image !== undefined) {\r\n      var date = new Date();\r\n      var timestamp = date.getTime();\r\n      var newName = timestamp + \"_\" + image.name;\r\n      var reader = new FileReader();\r\n      reader.readAsArrayBuffer(image);\r\n      reader.onload = (event) => {\r\n        var blob = new Blob([event.target.result]); // create blob...\r\n        window.URL = window.URL || window.webkitURL;\r\n        var blobURL = window.URL.createObjectURL(blob); // and get it's URL\r\n\r\n        // helper Image object\r\n        var image = new Image();\r\n        image.src = blobURL;\r\n        //preview.appendChild(image); // preview commented out, I am using the canvas instead\r\n        this.handleFireBaseUpload(image, newName, name);\r\n      };\r\n    }\r\n  };\r\n\r\n  handleFireBaseUpload = (image, newName, name) => {\r\n    image.onload = () => {\r\n      // have to wait till it's loaded\r\n      Jimp.read(image.src).then((image) => {\r\n        image.quality(50);\r\n        image.resize(Jimp.AUTO, 750);\r\n        console.log(image);\r\n        image.getBase64(Jimp.AUTO, (err, res) => {\r\n          // console.log(res);\r\n          const uploadTask = storage\r\n            .ref(`/images/${newName}`)\r\n            .putString(res, \"data_url\");\r\n          uploadTask.on(\r\n            \"state_changed\",\r\n            (snapShot) => {\r\n              //takes a snap shot of the process as it is happening\r\n              console.log(snapShot);\r\n            },\r\n            (err) => {\r\n              //catches the errors\r\n              console.log(err);\r\n            },\r\n            () => {\r\n              // gets the functions from storage refences the image storage in firebase by the children\r\n              // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n              name = \"image\" + name.slice(-1);\r\n              storage\r\n                .ref(\"images\")\r\n                .child(newName)\r\n                .getDownloadURL()\r\n                .then((fireBaseUrl) => {\r\n                  // console.log(fireBaseUrl);\r\n                  this.setState({ [name]: fireBaseUrl });\r\n                  this.saveStateToLocalStorage(name, fireBaseUrl);\r\n                });\r\n            }\r\n          );\r\n        });\r\n      });\r\n    };\r\n  };\r\n\r\n  async getFirestoreData() {\r\n    let fireData = await this.retrieveData();\r\n    let data_mrt = [];\r\n    let data_cuisine = [];\r\n    // let current = new Set();\r\n    fireData.forEach(function (doc) {\r\n      if (doc.exists) {\r\n        var d = doc.data();\r\n        data_cuisine.push(d);\r\n      }\r\n    });\r\n    // fireData[0].forEach(function (doc) {\r\n    //   if (doc.exists) {\r\n    //     var d = doc.data();\r\n    //     d.label = d.name;\r\n    //     d.value = d.name;\r\n    //     if (!current.has(d.name)) {\r\n    //       data_mrt.push(d);\r\n    //       current.add(d.name);\r\n    //     }\r\n    //   }\r\n    // });\r\n\r\n    // data_mrt = data_mrt.sort(function (a, b) {\r\n    //   var x = a.name.toLowerCase();\r\n    //   var y = b.name.toLowerCase();\r\n    //   return x < y ? -1 : x > y ? 1 : 0;\r\n    // });\r\n    data_cuisine = data_cuisine.sort(function (a, b) {\r\n      var x = a.label.toLowerCase();\r\n      var y = b.label.toLowerCase();\r\n      return x < y ? -1 : x > y ? 1 : 0;\r\n    });\r\n    this.setState({ data: data_mrt, cuisineOptions: data_cuisine });\r\n    this.initialState[\"data\"] = _.cloneDeep(data_mrt);\r\n    this.initialState[\"cuisineOptions\"] = _.cloneDeep(data_cuisine);\r\n  }\r\n\r\n  retrieveData = async () => {\r\n    try {\r\n      // const querySnapshot_mrt = await db.collection(\"mrt\").get();\r\n      const querySnapshot_cuisine = await db.collection(\"cuisine\").get();\r\n      return querySnapshot_cuisine;\r\n    } catch (error) {\r\n      console.log(\"Error getting document:\", error);\r\n    }\r\n  };\r\n\r\n  getTags = async () => {\r\n    try {\r\n      const tags = await db\r\n        .collection(\"tags\")\r\n        .get()\r\n        .then(Helpers.mapSnapshotToDocs);\r\n      this.setState({ tags: tags });\r\n      this.initialState[\"tags\"] = _.cloneDeep(tags);\r\n    } catch (error) {\r\n      console.log(\"Error getting document:\", error);\r\n    }\r\n  };\r\n\r\n  handleMultiChange(option) {\r\n    this.setState((state) => {\r\n      this.saveStateToLocalStorage(\"delivery\", option);\r\n      return {\r\n        delivery: option,\r\n      };\r\n    });\r\n  }\r\n\r\n  handleRegionChange(option) {\r\n    this.setState((state) => {\r\n      const newRegion = option ? option : [];\r\n      this.saveStateToLocalStorage(\"region\", newRegion);\r\n\r\n      return {\r\n        region: newRegion,\r\n      };\r\n    });\r\n  }\r\n\r\n  handleCuisineChange(option) {\r\n    this.setState((state) => {\r\n      const newCuisineValue = option ? option : [];\r\n      this.saveStateToLocalStorage(\"cuisineValue\", newCuisineValue);\r\n\r\n      return {\r\n        cuisineValue: newCuisineValue,\r\n      };\r\n    });\r\n  }\r\n\r\n  handleTagsChange(option) {\r\n    const newTagsValue = option ? option : [];\r\n    this.saveStateToLocalStorage(\"tagsValue\", newTagsValue);\r\n\r\n    this.setState((state) => {\r\n      return {\r\n        tagsValue: newTagsValue,\r\n      };\r\n    });\r\n  }\r\n\r\n  handleCreate = async (inputValue) => {\r\n    const { tags, tagsValue } = this.state;\r\n    var newOption = {\r\n      label: inputValue,\r\n      value: inputValue,\r\n    };\r\n    db.collection(\"tags\")\r\n      .add(newOption)\r\n      .then(function (docRef) {\r\n        return docRef.id;\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n    var newTagsValue = tagsValue;\r\n    newTagsValue.push(newOption);\r\n    this.setState({ tags: [...tags, newOption], tagsValue: newTagsValue });\r\n  };\r\n\r\n  tagsSearch(context) {\r\n    return (\r\n      <Fragment>\r\n        <CreatableSelect\r\n          isClearable\r\n          isMulti\r\n          closeMenuOnSelect={false}\r\n          name=\"name\"\r\n          options={this.state.tags}\r\n          className=\"basic-multi-select\"\r\n          classNamePrefix=\"select\"\r\n          value={this.state.tagsValue}\r\n          onChange={this.handleTagsChange}\r\n          onCreateOption={this.handleCreate}\r\n          placeholder={context.data.create.placeholdertags}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  cuisineSearch(context) {\r\n    return (\r\n      <Fragment>\r\n        <Select\r\n          isMulti\r\n          closeMenuOnSelect={false}\r\n          name=\"name\"\r\n          options={this.state.cuisineOptions}\r\n          className=\"basic-multi-select\"\r\n          classNamePrefix=\"select\"\r\n          value={this.state.cuisineValue}\r\n          onChange={this.handleCuisineChange}\r\n          placeholder={context.data.create.placeholdercuisine}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  regionSearch() {\r\n    return (\r\n      <Fragment>\r\n        <Select\r\n          isMulti\r\n          name=\"name\"\r\n          options={[\r\n            {\r\n              label: \"Islandwide\",\r\n              value: \"islandwide\",\r\n            },\r\n            {\r\n              label: \"Northeast\",\r\n              value: \"northeast\",\r\n            },\r\n            {\r\n              label: \"North\",\r\n              value: \"north\",\r\n            },\r\n            {\r\n              label: \"South\",\r\n              value: \"south\",\r\n            },\r\n            {\r\n              label: \"East\",\r\n              value: \"east\",\r\n            },\r\n            {\r\n              label: \"West\",\r\n              value: \"west\",\r\n            },\r\n            {\r\n              label: \"Central\",\r\n              value: \"central\",\r\n            },\r\n          ]}\r\n          className=\"basic-multi-select\"\r\n          classNamePrefix=\"select\"\r\n          value={this.state.region}\r\n          onChange={this.handleRegionChange}\r\n          placeholder=\"e.g. Islandwide, North, South, East, West\"\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  // deliverySearch() {\r\n  //   return (\r\n  //     <Fragment>\r\n  //       <Select\r\n  //         isMulti\r\n  //         name=\"name\"\r\n  //         options={this.state.data}\r\n  //         // className=\"basic-multi-select\"\r\n  //         classNamePrefix=\"select\"\r\n  //         value={this.state.delivery}\r\n  //         onChange={this.handleMultiChange}\r\n  //         placeholder=\"e.g. Woodlands, Bishan, Jurong East\"\r\n  //       />\r\n\r\n  //     </Fragment>\r\n  //   );\r\n  // }\r\n\r\n  _renderMenuItemChildren = (option, props, index) => {\r\n    return (\r\n      <div>\r\n        <div class=\"row\">\r\n          <div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\">\r\n            <img style={{ width: \"20px\" }} src={logo} alt=\"logo\" />\r\n          </div>\r\n          <div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\">\r\n            <div>{option.name}</div>\r\n          </div>\r\n          <div class=\"col-xs-10 col-sm-10 col-md-10 col-lg-10\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ dialogOpen: false });\r\n  };\r\n\r\n  render({ apiReady, maps, map } = this.state) {\r\n    return (\r\n      <div>\r\n        <Form onSubmit={this.handleSubmit.bind(this)}>\r\n          <Dialog\r\n            open={this.state.dialogOpen}\r\n            onClose={this.handleClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n              {\"Listing Successfully Created! \"}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              <DialogContentText id=\"alert-dialog-description\">\r\n                <h4 style={{ color: \"green\" }}>Success! </h4>\r\n                <h5>\r\n                  Your listing can be found here:{\" \"}\r\n                  <a href={\"/info?id=\" + this.state.newId} target=\"blank\">\r\n                    www.foodleh.app/info?id={this.state.newId}\r\n                  </a>\r\n                </h5>\r\n              </DialogContentText>\r\n              {this.props.option === \"website\" ? (\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                  <div style={{ wordWrap: \"break-word\" }}>\r\n                    <h5>\r\n                      Website created at{\" \"}\r\n                      <a\r\n                        href={\r\n                          \"https://\" + this.state.website_name + \".foodleh.app\"\r\n                        }\r\n                        target=\"blank\"\r\n                      >\r\n                        https://{this.state.website_name}.foodleh.app\r\n                      </a>\r\n                    </h5>\r\n                    <h5>\r\n                      Edit website at:{\" \"}\r\n                      <a\r\n                        href={\r\n                          \"https://\" +\r\n                          this.state.website_name +\r\n                          \".foodleh.app/dashboard\"\r\n                        }\r\n                        target=\"blank\"\r\n                      >\r\n                        https://{this.state.website_name}.foodleh.app/dashboard\r\n                      </a>\r\n                    </h5>\r\n                  </div>\r\n                </DialogContentText>\r\n              ) : null}\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={this.handleClose} color=\"primary\">\r\n                Close\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <div\r\n                class=\"card shadow\"\r\n                style={{ width: \"100%\", \"margin-top\": \"10px\" }}\r\n              >\r\n                <div class=\"card-body\">\r\n                  {\r\n                    <LanguageContext.Consumer>\r\n                      {(context) => (\r\n                        <div>\r\n                          <h5 class=\"card-title create-title create-title\">\r\n                            {context.data.create.uploadimages}{\" \"}\r\n                          </h5>\r\n                          <h6 class=\"card-subtitle mb-2 text-muted create-title\">\r\n                            {context.data.create.uploadimagedescription}\r\n                          </h6>\r\n                          <p class=\"card-text create-title\">\r\n                            <b>{context.data.create.uploadmenu}</b>\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </LanguageContext.Consumer>\r\n                  }\r\n                  <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                      <form\r\n                        class=\"create-title\"\r\n                        onSubmit={this.handleFireBaseUpload}\r\n                        style={{ display: \"inline\" }}\r\n                      >\r\n                        <div\r\n                          class=\"custom-file\"\r\n                          onChange={(event) => this.handleImageAsFile(event)}\r\n                          style={{ \"margin-top\": \"10px\" }}\r\n                        >\r\n                          {this.state.image1 ? (\r\n                            <label for=\"imageFile1\">\r\n                              <img\r\n                                src={this.state.image1}\r\n                                style={{\r\n                                  width: \"80px\",\r\n                                  height: \"80px\",\r\n                                  \"object-fit\": \"cover\",\r\n                                }}\r\n                                name=\"imageFile1\"\r\n                                alt=\"\"\r\n                              ></img>\r\n                            </label>\r\n                          ) : this.state.imageFile1 ? (\r\n                            <span\r\n                              style={{\r\n                                alignContent: \"center\",\r\n                                position: \"relative\",\r\n                                top: \"25px\",\r\n                                left: \"25px\",\r\n                              }}\r\n                            >\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </span>\r\n                          ) : (\r\n                            <label for=\"imageFile1\">{icon}</label>\r\n                          )}\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"custom-file-input\"\r\n                            id=\"imageFile1\"\r\n                            name=\"imageFile1\"\r\n                          ></input>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                      <form\r\n                        class=\"create-title\"\r\n                        onSubmit={this.handleFireBaseUpload}\r\n                        style={{ display: \"inline\" }}\r\n                      >\r\n                        <div\r\n                          class=\"custom-file\"\r\n                          onChange={this.handleImageAsFile}\r\n                          style={{ \"margin-top\": \"10px\" }}\r\n                        >\r\n                          {this.state.image2 ? (\r\n                            <label for=\"imageFile2\">\r\n                              <img\r\n                                src={this.state.image2}\r\n                                style={{\r\n                                  width: \"80px\",\r\n                                  height: \"80px\",\r\n                                  \"object-fit\": \"cover\",\r\n                                }}\r\n                                name=\"imageFile2\"\r\n                                alt=\"\"\r\n                              ></img>\r\n                            </label>\r\n                          ) : this.state.imageFile2 ? (\r\n                            <span\r\n                              style={{\r\n                                alignContent: \"center\",\r\n                                position: \"relative\",\r\n                                top: \"25px\",\r\n                                left: \"25px\",\r\n                              }}\r\n                            >\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </span>\r\n                          ) : (\r\n                            <label for=\"imageFile2\">{icon}</label>\r\n                          )}\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"custom-file-input\"\r\n                            id=\"imageFile2\"\r\n                            name=\"imageFile2\"\r\n                          ></input>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                      <form\r\n                        class=\"create-title\"\r\n                        onSubmit={this.handleFireBaseUpload}\r\n                        style={{ display: \"inline\" }}\r\n                      >\r\n                        <div\r\n                          class=\"custom-file\"\r\n                          onChange={this.handleImageAsFile}\r\n                          style={{ \"margin-top\": \"10px\" }}\r\n                        >\r\n                          {this.state.image3 ? (\r\n                            <label for=\"imageFile3\">\r\n                              <img\r\n                                src={this.state.image3}\r\n                                style={{\r\n                                  width: \"80px\",\r\n                                  height: \"80px\",\r\n                                  \"object-fit\": \"cover\",\r\n                                }}\r\n                                name=\"imageFile3\"\r\n                                alt=\"\"\r\n                              ></img>\r\n                            </label>\r\n                          ) : this.state.imageFile3 ? (\r\n                            <span\r\n                              style={{\r\n                                alignContent: \"center\",\r\n                                position: \"relative\",\r\n                                top: \"25px\",\r\n                                left: \"25px\",\r\n                              }}\r\n                            >\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </span>\r\n                          ) : (\r\n                            <label for=\"imageFile3\">{icon}</label>\r\n                          )}\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"custom-file-input\"\r\n                            id=\"imageFile3\"\r\n                            name=\"imageFile3\"\r\n                          ></input>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                      <form\r\n                        class=\"create-title\"\r\n                        onSubmit={this.handleFireBaseUpload}\r\n                        style={{ display: \"inline\" }}\r\n                      >\r\n                        <div\r\n                          class=\"custom-file\"\r\n                          onChange={this.handleImageAsFile}\r\n                          style={{ \"margin-top\": \"10px\" }}\r\n                        >\r\n                          {this.state.image4 ? (\r\n                            <label for=\"imageFile4\">\r\n                              <img\r\n                                src={this.state.image4}\r\n                                style={{\r\n                                  width: \"80px\",\r\n                                  height: \"80px\",\r\n                                  \"object-fit\": \"cover\",\r\n                                }}\r\n                                name=\"imageFile4\"\r\n                                alt=\"\"\r\n                              ></img>\r\n                            </label>\r\n                          ) : this.state.imageFile4 ? (\r\n                            <span\r\n                              style={{\r\n                                alignContent: \"center\",\r\n                                position: \"relative\",\r\n                                top: \"25px\",\r\n                                left: \"25px\",\r\n                              }}\r\n                            >\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </span>\r\n                          ) : (\r\n                            <label for=\"imageFile4\">{icon}</label>\r\n                          )}\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"custom-file-input\"\r\n                            id=\"imageFile4\"\r\n                            name=\"imageFile4\"\r\n                          ></input>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                      <form\r\n                        class=\"create-title\"\r\n                        onSubmit={this.handleFireBaseUpload}\r\n                        style={{ display: \"inline\" }}\r\n                      >\r\n                        <div\r\n                          class=\"custom-file\"\r\n                          onChange={this.handleImageAsFile}\r\n                          style={{ \"margin-top\": \"10px\" }}\r\n                        >\r\n                          {this.state.image5 ? (\r\n                            <label for=\"imageFile5\">\r\n                              <img\r\n                                src={this.state.image5}\r\n                                style={{\r\n                                  width: \"80px\",\r\n                                  height: \"80px\",\r\n                                  \"object-fit\": \"cover\",\r\n                                }}\r\n                                name=\"imageFile5\"\r\n                                alt=\"\"\r\n                              ></img>\r\n                            </label>\r\n                          ) : this.state.imageFile5 ? (\r\n                            <span\r\n                              style={{\r\n                                alignContent: \"center\",\r\n                                position: \"relative\",\r\n                                top: \"25px\",\r\n                                left: \"25px\",\r\n                              }}\r\n                            >\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </span>\r\n                          ) : (\r\n                            <label for=\"imageFile5\">{icon}</label>\r\n                          )}\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"custom-file-input\"\r\n                            id=\"imageFile5\"\r\n                            name=\"imageFile5\"\r\n                          ></input>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                      <form\r\n                        class=\"create-title\"\r\n                        onSubmit={this.handleFireBaseUpload}\r\n                        style={{ display: \"inline\" }}\r\n                      >\r\n                        <div\r\n                          class=\"custom-file\"\r\n                          onChange={this.handleImageAsFile}\r\n                          style={{ \"margin-top\": \"10px\" }}\r\n                        >\r\n                          {this.state.image6 ? (\r\n                            <label for=\"imageFile6\">\r\n                              <img\r\n                                src={this.state.image6}\r\n                                style={{\r\n                                  width: \"80px\",\r\n                                  height: \"80px\",\r\n                                  \"object-fit\": \"cover\",\r\n                                }}\r\n                                name=\"imageFile6\"\r\n                                alt=\"\"\r\n                              ></img>\r\n                            </label>\r\n                          ) : this.state.imageFile6 ? (\r\n                            <span\r\n                              style={{\r\n                                alignContent: \"center\",\r\n                                position: \"relative\",\r\n                                top: \"25px\",\r\n                                left: \"25px\",\r\n                              }}\r\n                            >\r\n                              <div class=\"spinner-border\" role=\"status\">\r\n                                <span class=\"sr-only\">Loading...</span>\r\n                              </div>\r\n                            </span>\r\n                          ) : (\r\n                            <label for=\"imageFile6\">{icon}</label>\r\n                          )}\r\n                          <input\r\n                            type=\"file\"\r\n                            class=\"custom-file-input\"\r\n                            id=\"imageFile6\"\r\n                            name=\"imageFile6\"\r\n                          ></input>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                class=\"card shadow d-none d-md-block d-sm-block d-lg-block\"\r\n                style={{ width: \"100%\", \"margin-top\": \"10px\" }}\r\n              >\r\n                <div class=\"card-body\">\r\n                  {\r\n                    <LanguageContext.Consumer>\r\n                      {(context) => (\r\n                        <div>\r\n                          <h5 class=\"card-title create-title\">\r\n                            {\" \"}\r\n                            {context.data.create.preview}\r\n                          </h5>\r\n                          <p class=\"card-text create-title\">\r\n                            {context.data.create.previewdescription}{\" \"}\r\n                          </p>\r\n                          <p class=\"d-flex justify-content-center\">\r\n                            <Item\r\n                              promo={this.state.promo}\r\n                              name={this.state.name}\r\n                              pic={this.state.image1}\r\n                              summary={this.state.description}\r\n                            />\r\n                          </p>\r\n                          <p class=\"card-text create-title\">\r\n                            {context.data.create.notsatisfied}{\" \"}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </LanguageContext.Consumer>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-12 col-xs-4 col-md-6 col-lg-8\">\r\n              {\r\n                <LanguageContext.Consumer>\r\n                  {(context) => (\r\n                    <div\r\n                      class=\"card shadow\"\r\n                      style={{ width: \"100%\", \"margin-top\": \"10px\" }}\r\n                    >\r\n                      <form>\r\n                        <div class=\"card-body\">\r\n                          <hr\r\n                            style={{\r\n                              color: \"black\",\r\n                              backgroundColor: \"black\",\r\n                              height: 3,\r\n                            }}\r\n                          />{\" \"}\r\n                          <h5 class=\"card-title create-title\">\r\n                            {context.data.create.step1}\r\n                          </h5>\r\n                          <h6 class=\"card-subtitle mb-2 text-muted create-title\">\r\n                            {context.data.create.pleaseenter}{\" \"}\r\n                          </h6>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"name\">\r\n                              {context.data.create.stallname}\r\n                            </label>\r\n                            <div class=\"input-group\">\r\n                              <input\r\n                                onChange={this.handleChange}\r\n                                value={this.state.name}\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"name\"\r\n                                placeholder={\r\n                                  context.data.create.placeholderstallname\r\n                                }\r\n                                required\r\n                              ></input>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"street\">\r\n                              {context.data.create.cuisinecategory}{\" \"}\r\n                              <b>{context.data.create.selectmultiple}</b>\r\n                            </label>\r\n                            {this.cuisineSearch(context)}\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"unit\">\r\n                              {context.data.create.contactnumber}\r\n                            </label>\r\n                            <div class=\"input-group\">\r\n                              <div class=\"input-group-prepend\">\r\n                                <span\r\n                                  class=\"input-group-text\"\r\n                                  id=\"basic-addon1\"\r\n                                >\r\n                                  +65\r\n                                </span>\r\n                              </div>\r\n                              <input\r\n                                onChange={this.handleChange}\r\n                                value={this.state.contact}\r\n                                type=\"tel\"\r\n                                class=\"form-control\"\r\n                                name=\"contact\"\r\n                                placeholder=\"9xxxxxxx\"\r\n                                maxLength=\"8\"\r\n                                // minlength=\"8\"\r\n                                // pattern=\"[6-9]{1}[0-9]{7}\"\r\n                                required\r\n                              ></input>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"postalcode\">\r\n                              {context.data.create.postalcode}\r\n                            </label>\r\n                            <div class=\"input-group\">\r\n                              <input\r\n                                onChange={this.handleChange.bind(this)}\r\n                                value={this.state.postal}\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"postal\"\r\n                                placeholder={\r\n                                  context.data.create.placeholderpostalcode\r\n                                }\r\n                                maxLength=\"6\"\r\n                                required\r\n                              ></input>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"street\">\r\n                              {context.data.create.streetname}\r\n                              <b> {context.data.create.autofill}</b>\r\n                            </label>\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              value={this.state.street}\r\n                              type=\"text\"\r\n                              class=\"form-control\"\r\n                              name=\"street\"\r\n                              placeholder={\r\n                                context.data.create.placeholderstreetname\r\n                              }\r\n                            ></input>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"unit\">{context.data.create.unit}</label>\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              value={this.state.unit}\r\n                              type=\"text\"\r\n                              class=\"form-control\"\r\n                              name=\"unit\"\r\n                              placeholder={context.data.create.placeholderunit}\r\n                            ></input>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"description\">\r\n                              {context.data.create.briefdescription}{\" \"}\r\n                              <b>{context.data.create.max45chars}</b>\r\n                            </label>\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              value={this.state.description}\r\n                              type=\"text\"\r\n                              class=\"form-control\"\r\n                              name=\"description\"\r\n                              placeholder={\r\n                                context.data.create.placeholderbriefdescription\r\n                              }\r\n                            ></input>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"description\">\r\n                              {context.data.create.selfcollectordelivery}{\" \"}\r\n                              <b>{context.data.create.important}</b>\r\n                            </label>\r\n                            <div class=\"form-check create-title\">\r\n                              <label class=\"checkbox-inline\">\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  type=\"checkbox\"\r\n                                  checked={this.state.pickup_option}\r\n                                  value={this.state.pickup_option}\r\n                                  name=\"pickup_option\"\r\n                                  class=\"form-check-input\"\r\n                                ></input>\r\n                                {context.data.create.selfcollection}\r\n                              </label>\r\n                              <br />\r\n                              <label class=\"checkbox-inline\">\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  type=\"checkbox\"\r\n                                  checked={this.state.delivery_option}\r\n                                  name=\"delivery_option\"\r\n                                  class=\"form-check-input\"\r\n                                ></input>\r\n                                {context.data.create.delivery}\r\n                              </label>\r\n                              <br />\r\n                            </div>\r\n                            {this.state.delivery_option === false ? null : (\r\n                              <div>\r\n                                <div class=\"card shadow\">\r\n                                  <div class=\"card-body\">\r\n                                    <h5 class=\"card-title create-title\">\r\n                                      {\" \"}\r\n                                      {context.data.create.deliveryoptions}\r\n                                    </h5>\r\n                                    <div class=\" form-group create-title\">\r\n                                      <label for=\"description\">\r\n                                        {context.data.create.whichregion}\r\n                                      </label>\r\n                                      {this.regionSearch()}\r\n                                      {/* <div class=\"form-check create-title\">\r\n                          <label class=\"checkbox-inline\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              type=\"checkbox\"\r\n                              value={this.state.north}\r\n                              name=\"north\"\r\n                              class=\"form-check-input\"\r\n                            ></input>\r\n                            North\r\n                          </label>\r\n                          <br />\r\n                          <label class=\"checkbox-inline\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              type=\"checkbox\"\r\n                              value={this.state.south}\r\n                              name=\"south\"\r\n                              class=\"form-check-input\"\r\n                            ></input>\r\n                            South\r\n                          </label>\r\n                          <br />\r\n                          <label class=\"checkbox-inline\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              type=\"checkbox\"\r\n                              value={this.state.east}\r\n                              name=\"east\"\r\n                              class=\"form-check-input\"\r\n                            ></input>\r\n                            East\r\n                          </label>\r\n                          <br />\r\n                          <label class=\"checkbox-inline\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              type=\"checkbox\"\r\n                              value={this.state.west}\r\n                              name=\"west\"\r\n                              class=\"form-check-input\"\r\n                            ></input>\r\n                            West\r\n                          </label>\r\n                          <br />\r\n                          <label class=\"checkbox-inline\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              type=\"checkbox\"\r\n                              value={this.state.islandwide}\r\n                              name=\"islandwide\"\r\n                              class=\"form-check-input\"\r\n                            ></input>\r\n                            Island-wide\r\n                          </label>\r\n                        </div> */}\r\n                                    </div>\r\n                                    {/* <div class=\"form-group create-title \">\r\n                            <label for=\"street\">\r\n                              Which nearest MRT do you deliver to? (Can select\r\n                              multiple)\r\n                            </label>\r\n                            {this.deliverySearch()}\r\n                          </div> */}\r\n                                    <div class=\"form-group create-title \">\r\n                                      <label for=\"price\">\r\n                                        {context.data.create.deliveryfees}\r\n                                      </label>\r\n                                      <div class=\"input-group\">\r\n                                        <input\r\n                                          onChange={this.handleChange}\r\n                                          value={this.state.price}\r\n                                          type=\"text\"\r\n                                          class=\"form-control\"\r\n                                          name=\"price\"\r\n                                          placeholder={\r\n                                            context.data.create.placeholderfees\r\n                                          }\r\n                                        ></input>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div class=\"form-group create-title\">\r\n                                      <label for=\"unit\">\r\n                                        {context.data.create.free_delivery}\r\n                                      </label>\r\n                                      <div class=\"input-group\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                          <span\r\n                                            class=\"input-group-text\"\r\n                                            id=\"basic-addon1\"\r\n                                          >\r\n                                            $\r\n                                          </span>\r\n                                        </div>\r\n                                        <input\r\n                                          onChange={this.handleChange}\r\n                                          value={this.state.free_delivery}\r\n                                          type=\"number\"\r\n                                          class=\"form-control\"\r\n                                          name=\"free_delivery\"\r\n                                          placeholder=\"e.g. 20\"\r\n                                        ></input>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div class=\"form-group create-title\">\r\n                                      <label for=\"unit\">\r\n                                        {context.data.create.minumum_order}\r\n                                      </label>\r\n                                      <div class=\"input-group\">\r\n                                        <div class=\"input-group-prepend\">\r\n                                          <span\r\n                                            class=\"input-group-text\"\r\n                                            id=\"basic-addon1\"\r\n                                          >\r\n                                            $\r\n                                          </span>\r\n                                        </div>\r\n                                        <input\r\n                                          onChange={this.handleChange}\r\n                                          value={this.state.minumum_order}\r\n                                          type=\"number\"\r\n                                          class=\"form-control\"\r\n                                          name=\"minumum_order\"\r\n                                          placeholder=\"e.g. 20\"\r\n                                        ></input>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"form-group create-title\">\r\n                                      <label for=\"delivery_detail\">\r\n                                        {context.data.create.deliverydetails}{\" \"}\r\n                                      </label>\r\n                                      <textarea\r\n                                        onChange={this.handleChange}\r\n                                        value={this.state.delivery_detail}\r\n                                        type=\"text\"\r\n                                        class=\"form-control\"\r\n                                        name=\"delivery_detail\"\r\n                                        placeholder={\r\n                                          context.data.create\r\n                                            .placeholderdeliverydetails\r\n                                        }\r\n                                        rows=\"3\"\r\n                                      ></textarea>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <br />\r\n                              </div>\r\n                            )}\r\n                            <div class=\"create-title\">\r\n                              <Button\r\n                                class=\"shadow-sm\"\r\n                                style={{\r\n                                  backgroundColor: \"blue\",\r\n                                  borderColor: \"blue\",\r\n                                }}\r\n                                onClick={this.handleMenu}\r\n                                name=\"menu\"\r\n                              >\r\n                                {context.data.create.additem}\r\n                              </Button>\r\n                              <br />\r\n                            </div>\r\n                            {this.state.menu ? (\r\n                              <div>\r\n                                <p>{this.handleMenuDisplay(context)} </p>\r\n                                {/* Option to add additional menu items, display only if menu is already shown */}\r\n                                <div class=\"create-title\">\r\n                                  <Button\r\n                                    class=\"shadow-sm\"\r\n                                    style={{\r\n                                      backgroundColor: \"blue\",\r\n                                      borderColor: \"blue\",\r\n                                    }}\r\n                                    onClick={this.handleMenu}\r\n                                    name=\"moreMenuItems\"\r\n                                  >\r\n                                    {context.data.create.addmoreitem}\r\n                                  </Button>\r\n                                  <br />\r\n                                </div>\r\n                              </div>\r\n                            ) : null}\r\n                          </div>\r\n                          <hr\r\n                            style={{\r\n                              color: \"black\",\r\n                              backgroundColor: \"black\",\r\n                              height: 3,\r\n                            }}\r\n                          />{\" \"}\r\n                          <h5 class=\"card-title create-title\">\r\n                            {context.data.create.step2}\r\n                          </h5>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"description_detail\">\r\n                              {context.data.create.additional}{\" \"}\r\n                            </label>\r\n                            <textarea\r\n                              onChange={this.handleChange}\r\n                              value={this.state.description_detail}\r\n                              type=\"text\"\r\n                              class=\"form-control\"\r\n                              name=\"description_detail\"\r\n                              placeholder={\r\n                                context.data.create.placeholderadditional\r\n                              }\r\n                              rows=\"3\"\r\n                            ></textarea>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"street\">\r\n                              {context.data.create.tags}{\" \"}\r\n                              <b>{context.data.create.entermultiple}</b>\r\n                            </label>\r\n                            {this.tagsSearch(context)}\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"website\">\r\n                              {context.data.create.generalpromo}{\" \"}\r\n                            </label>\r\n                            <div class=\"form-row\">\r\n                              <div class=\"col-5\">\r\n                                <small>\r\n                                  {context.data.create.discount}{\" \"}\r\n                                  <b>{context.data.create.eightchars}</b>\r\n                                </small>\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  value={this.state.promo}\r\n                                  name=\"promo\"\r\n                                  type=\"text\"\r\n                                  class=\"form-control\"\r\n                                  placeholder={\r\n                                    context.data.create.placeholderdiscount\r\n                                  }\r\n                                  maxlength=\"8\"\r\n                                />\r\n                              </div>\r\n                              <div class=\"col-7\">\r\n                                <small>{context.data.create.condition}</small>\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  value={this.state.condition}\r\n                                  name=\"condition\"\r\n                                  type=\"text\"\r\n                                  class=\"form-control\"\r\n                                  placeholder={\r\n                                    context.data.create.placeholdercondition\r\n                                  }\r\n                                  maxlength=\"40\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"website\">\r\n                              {context.data.create.website}\r\n                            </label>\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              value={this.state.website}\r\n                              type=\"text\"\r\n                              class=\"form-control\"\r\n                              name=\"website\"\r\n                              placeholder=\"www.example.com\"\r\n                              rows=\"3\"\r\n                            ></input>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"description\">\r\n                              {context.data.create.hours}\r\n                            </label>\r\n                            <textarea\r\n                              onChange={this.handleChange}\r\n                              value={this.state.opening}\r\n                              type=\"text\"\r\n                              class=\"form-control\"\r\n                              name=\"opening\"\r\n                              placeholder={context.data.create.placeholderhours}\r\n                              rows=\"3\"\r\n                            ></textarea>\r\n                          </div>\r\n                          <br />\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"unit\">WeChat ID(微信号): </label>\r\n                            <div class=\"input-group\">\r\n                              <input\r\n                                onChange={this.handleChange}\r\n                                value={this.state.wechatid}\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"wechatid\"\r\n                                placeholder=\"e.g. abc123\"\r\n                              ></input>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"form-group create-title\">\r\n                            <label for=\"unit\">\r\n                              {context.data.create.contact}\r\n                            </label>\r\n                            <div class=\"form-check create-title\">\r\n                              <label class=\"checkbox-inline\">\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  type=\"checkbox\"\r\n                                  checked={this.state.call}\r\n                                  value={this.state.call}\r\n                                  name=\"call\"\r\n                                  class=\"form-check-input\"\r\n                                ></input>\r\n                                {context.data.create.call}\r\n                              </label>\r\n                              <br />\r\n                              <label class=\"checkbox-inline\">\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  type=\"checkbox\"\r\n                                  checked={this.state.whatsapp}\r\n                                  value={this.state.whatsapp}\r\n                                  name=\"whatsapp\"\r\n                                  class=\"form-check-input\"\r\n                                ></input>\r\n                                WhatsApp\r\n                              </label>\r\n                              <br />\r\n                              <label class=\"checkbox-inline\">\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  type=\"checkbox\"\r\n                                  checked={this.state.sms}\r\n                                  value={this.state.sms}\r\n                                  name=\"sms\"\r\n                                  class=\"form-check-input\"\r\n                                ></input>\r\n                                SMS\r\n                              </label>\r\n                              <br />\r\n                              <label class=\"checkbox-inline\">\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  type=\"checkbox\"\r\n                                  checked={this.state.inperson}\r\n                                  value={this.state.inperson}\r\n                                  name=\"inperson\"\r\n                                  class=\"form-check-input\"\r\n                                ></input>\r\n                                {context.data.create.inperson}\r\n                              </label>\r\n                              <br />\r\n                            </div>\r\n                          </div>\r\n                          <hr\r\n                            style={{\r\n                              color: \"black\",\r\n                              backgroundColor: \"black\",\r\n                              height: 3,\r\n                            }}\r\n                          />{\" \"}\r\n                          {this.props.option === \"website\" ? (\r\n                            <React.Fragment>\r\n                              <h5 class=\"card-title create-title\">\r\n                                Step 3: Create website (required)\r\n                              </h5>\r\n                              <div class=\"form-group create-title\">\r\n                                <div>\r\n                                  <label for=\"website\">\r\n                                    What your website can look like:{\" \"}\r\n                                    <a\r\n                                      target=\"blank\"\r\n                                      href=\"https://shidefu.foodleh.app\"\r\n                                    >\r\n                                      shidefu.foodleh.app\r\n                                    </a>\r\n                                  </label>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"form-group create-title\">\r\n                                <div>\r\n                                  <label for=\"website\">\r\n                                    Choose your website link name\r\n                                  </label>\r\n                                </div>\r\n                                <div>\r\n                                  <TextField\r\n                                    label=\"Name\"\r\n                                    name=\"website_name\"\r\n                                    placeholder=\"e.g. huathuat\"\r\n                                    InputProps={{\r\n                                      endAdornment: (\r\n                                        <InputAdornment position=\"end\">\r\n                                          .foodleh.app\r\n                                        </InputAdornment>\r\n                                      ),\r\n                                    }}\r\n                                    value={this.state.website_name}\r\n                                    onChange={this.handleChange}\r\n                                  />\r\n                                  <Button\r\n                                    onClick={this.checkAvailable}\r\n                                    variant=\"contained\"\r\n                                    color={\"primary\"}\r\n                                    style={{\r\n                                      backgroundColor: \"#b48300\",\r\n                                      borderColor: \"#b48300\",\r\n                                      color: \"white\",\r\n                                      margin: \"10px\",\r\n                                    }}\r\n                                  >\r\n                                    Check Availability\r\n                                  </Button>\r\n                                  {this.state.invalid ? (\r\n                                    <div style={{ color: \"red\" }}>\r\n                                      Must not be empty, contain spaces, or\r\n                                      contain punctuation.\r\n                                    </div>\r\n                                  ) : null}\r\n                                  {this.state.available !== null ? (\r\n                                    <div>\r\n                                      {this.state.available ? (\r\n                                        <div style={{ color: \"green\" }}>\r\n                                          {this.state.website_name}.foodleh.app\r\n                                          is <b>Available</b>\r\n                                        </div>\r\n                                      ) : (\r\n                                        <div style={{ color: \"red\" }}>\r\n                                          {this.state.website_name}.foodleh.app\r\n                                          is <b>Not Available</b>\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  ) : null}\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"form-group create-title\">\r\n                                <label>\r\n                                  Create your account to modify your website\r\n                                </label>\r\n                                {this.state.firebaseUser ? (\r\n                                  <div style={{ color: \"green\" }}>\r\n                                    <p>\r\n                                      <b>\r\n                                        Verified: <br />\r\n                                        {this.state.firebaseUser.displayName}\r\n                                        <br />\r\n                                        {this.state.firebaseUser.email}\r\n                                        <br />\r\n                                        <Button\r\n                                          variant=\"contained\"\r\n                                          onClick={() => {\r\n                                            firebase.auth().signOut();\r\n                                            this.setState({\r\n                                              firebaseUser: null,\r\n                                            });\r\n                                          }}\r\n                                          style={{\r\n                                            backgroundColor: \"grey\",\r\n                                            borderColor: \"grey\",\r\n                                            color: \"white\",\r\n                                            margin: \"10px\",\r\n                                          }}\r\n                                        >\r\n                                          Sign-out\r\n                                        </Button>\r\n                                      </b>\r\n                                    </p>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    {!this.state.login && (\r\n                                      <div>\r\n                                        <Button\r\n                                          color=\"primary\"\r\n                                          variant=\"contained\"\r\n                                          onClick={() =>\r\n                                            this.setState({ login: true })\r\n                                          }\r\n                                          style={{\r\n                                            backgroundColor: \"#b48300\",\r\n                                            borderColor: \"#b48300\",\r\n                                            color: \"white\",\r\n                                            margin: \"10px\",\r\n                                          }}\r\n                                        >\r\n                                          Create Account/ Login\r\n                                        </Button>\r\n                                      </div>\r\n                                    )}\r\n                                    {this.state.login && (\r\n                                      <StyledFirebaseAuth\r\n                                        uiConfig={uiConfigPage}\r\n                                        firebaseAuth={firebase.auth()}\r\n                                      />\r\n                                    )}\r\n                                    <br />\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </React.Fragment>\r\n                          ) : null}\r\n                          <div\r\n                            class=\"card shadow d-block d-md-none\"\r\n                            style={{ width: \"100%\", \"margin-top\": \"10px\" }}\r\n                          >\r\n                            <div class=\"card-body\">\r\n                              <h5 class=\"card-title create-title\">\r\n                                {\" \"}\r\n                                {context.data.create.preview}\r\n                              </h5>\r\n                              <p class=\"card-text create-title\">\r\n                                {context.data.create.previewdescription}{\" \"}\r\n                              </p>\r\n                              <p class=\"d-flex justify-content-center\">\r\n                                <Item\r\n                                  promo={this.state.promo}\r\n                                  name={this.state.name}\r\n                                  pic={this.state.image1}\r\n                                  summary={this.state.description}\r\n                                />\r\n                              </p>\r\n                              <p class=\"card-text create-title\">\r\n                                {context.data.create.notsatisfied}{\" \"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          <br />\r\n                          <div class=\"create-title\">\r\n                            {this.props.toggle === \"edit\" ? (\r\n                              <span>\r\n                                <b>\r\n                                  To protect our owners, edits will be manually\r\n                                  reviewed and implemented within 24 hours.\r\n                                </b>\r\n                                <br />\r\n                              </span>\r\n                            ) : null}\r\n                            <div>\r\n                              By listing via this platform, you agree to our{\" \"}\r\n                              <a href=\"https://foodleh.app/privacy\">\r\n                                Privacy Policy\r\n                              </a>\r\n                            </div>\r\n                            <br />\r\n                            <Button\r\n                              class=\"shadow-sm\"\r\n                              style={{\r\n                                backgroundColor: \"#b48300\",\r\n                                borderColor: \"#b48300\",\r\n                              }}\r\n                              type=\"Submit\"\r\n                              // onClick={this.handleSubmit}\r\n                              disabled={this.state.isLoading}\r\n                            >\r\n                              {this.state.isLoading ? (\r\n                                <Spinner\r\n                                  as=\"span\"\r\n                                  animation=\"border\"\r\n                                  size=\"sm\"\r\n                                  role=\"status\"\r\n                                  aria-hidden=\"true\"\r\n                                />\r\n                              ) : (\r\n                                context.data.create.submit\r\n                              )}\r\n                            </Button>\r\n                            <Button\r\n                              class=\"shadow-sm\"\r\n                              style={{\r\n                                backgroundColor: \"#ffffff\",\r\n                                borderColor: \"#b48300\",\r\n                                color: \"#b48300\",\r\n                                marginLeft: \"10px\",\r\n                              }}\r\n                              onClick={this.handleClear}\r\n                              disabled={this.state.isLoading}\r\n                            >\r\n                              Clear\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  )}\r\n                </LanguageContext.Consumer>\r\n              }\r\n            </div>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ListForm);\r\n","import React, { PureComponent } from \"react\";\r\nimport Item from \"./Item\";\r\n\r\nclass ItemRendered extends PureComponent {\r\n  render() {\r\n    // Access the items array using the \"data\" prop:\r\n    const data = this.props.data[this.props.index];\r\n\r\n    return (\r\n      <div>\r\n        <Item\r\n          promo={data[\"promo\"]}\r\n          id={data[\"id\"]}\r\n          name={data[\"name\"]}\r\n          street={data[\"street\"]}\r\n          pic={data[\"url\"]}\r\n          summary={data[\"description\"]}\r\n          claps={data[\"claps\"]}\r\n          // distance={data[\"distance\"]}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ItemRendered;\r\n","import React from \"react\";\r\nimport \"../App.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport firebase from \"./Firestore\";\r\nimport { Form, Modal, Spinner } from \"react-bootstrap\";\r\nimport { db, uiConfig } from \"./Firestore\";\r\nimport driver from \"../driver.png\";\r\nimport question from \"../question.png\";\r\nimport store_address from \"../store_address.png\";\r\nimport delivery_address from \"../delivery_address.png\";\r\nimport summary from \"../summary.png\";\r\nimport instructions from \"../infographic.jpg\";\r\nimport check_rates from \"../check-delivry-rates.png\";\r\nimport Cookies from \"universal-cookie\";\r\nimport Helpers from \"../Helpers/helpers\";\r\nimport GetApp from \"@material-ui/icons/GetApp\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport queryString from \"query-string\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nconst cookies = new Cookies();\r\nconst API_KEY = `${process.env.REACT_APP_GKEY}`;\r\nconst analytics = firebase.analytics();\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\n\r\nconst marks = [\r\n  {\r\n    value: 6,\r\n    label: \"$6\",\r\n  },\r\n  {\r\n    value: 8,\r\n    label: \"$8\",\r\n  },\r\n  {\r\n    value: 10,\r\n    label: \"$10\",\r\n  },\r\n  {\r\n    value: 12,\r\n    label: \"$12\",\r\n  },\r\n  {\r\n    value: 14,\r\n    label: \"$14\",\r\n  },\r\n  {\r\n    value: 16,\r\n    label: \"$16\",\r\n  },\r\n  {\r\n    value: 18,\r\n    label: \"$18\",\r\n  },\r\n  {\r\n    value: 20,\r\n    label: \"$20\",\r\n  },\r\n];\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nfunction getPhoneNumberFromUserInput() {\r\n  return document.getElementById(\"phone-number\").value;\r\n}\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nconst addData = async ({\r\n  postal,\r\n  postal_to,\r\n  latitude,\r\n  longitude,\r\n  latitude_to,\r\n  longitude_to,\r\n  street,\r\n  street_to,\r\n  cost,\r\n  distance,\r\n  unit,\r\n  unit_to,\r\n  contact,\r\n  contact_to,\r\n  time,\r\n  note,\r\n  arrival,\r\n  duration,\r\n}) => {\r\n  let now = new Date();\r\n  var field = {\r\n    postal: postal,\r\n    postal_to: postal_to,\r\n    latitude: latitude,\r\n    longitude: longitude,\r\n    latitude_to: latitude_to,\r\n    longitude_to: longitude_to,\r\n    street: street,\r\n    street_to: street_to,\r\n    cost: cost,\r\n    distance: distance,\r\n    unit: unit,\r\n    unit_to: unit_to,\r\n    contact: contact,\r\n    contact_to: contact_to,\r\n    lastmodified: now,\r\n    viewed: false,\r\n    time: time,\r\n    note: note,\r\n    expired: false,\r\n    cancelled: false,\r\n    arrival: arrival,\r\n    duration: duration,\r\n  };\r\n  let id = await db\r\n    .collection(\"deliveries\")\r\n    .add(field)\r\n    .then(function (docRef) {\r\n      return docRef.id;\r\n    })\r\n    .catch(function (error) {\r\n      console.error(\"Error adding document: \", error);\r\n    });\r\n  return id;\r\n};\r\n\r\nconst time_now = new Date();\r\ntime_now.setMinutes(time_now.getMinutes() + 30);\r\n// var time_now_plus = time_now.toLocaleString('en-US')\r\n\r\nexport class Driver extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(queryString.parse(this.props.location.search).note);\r\n    this.state = {\r\n      firebaseUser: null,\r\n      postal: queryString.parse(this.props.location.search).postal\r\n        ? queryString.parse(this.props.location.search).postal\r\n        : cookies.get(\"postal\")\r\n        ? cookies.get(\"postal\")\r\n        : \"\",\r\n      postal_to: queryString.parse(this.props.location.search).postal_to\r\n        ? queryString.parse(this.props.location.search).postal_to\r\n        : \"\",\r\n      latitude: \"\",\r\n      longitude: \"\",\r\n      latitude_to: \"\",\r\n      longitude_to: \"\",\r\n      street: queryString.parse(this.props.location.search).street\r\n        ? queryString.parse(this.props.location.search).street\r\n        : cookies.get(\"street\")\r\n        ? cookies.get(\"street\")\r\n        : \"\",\r\n      street_to: queryString.parse(this.props.location.search).street_to\r\n        ? queryString.parse(this.props.location.search).street_to\r\n        : \"\",\r\n      minCost: \"\",\r\n      cost: \"\",\r\n      isCostBelowMin: false,\r\n      distance: \"\",\r\n      unit: queryString.parse(this.props.location.search).unit\r\n        ? queryString.parse(this.props.location.search).unit\r\n        : cookies.get(\"unit\")\r\n        ? cookies.get(\"unit\")\r\n        : \"\",\r\n      unit_to: queryString.parse(this.props.location.search).unit_to\r\n        ? queryString.parse(this.props.location.search).unit_to\r\n        : \"\",\r\n      contact: queryString.parse(this.props.location.search).contact\r\n        ? queryString.parse(this.props.location.search).contact\r\n        : cookies.get(\"contact\")\r\n        ? cookies.get(\"contact\")\r\n        : \"\",\r\n      contact_to: queryString.parse(this.props.location.search).contact_to\r\n        ? queryString.parse(this.props.location.search).contact_to\r\n        : \"\",\r\n      time: time_now.getHours() + \":\" + time_now.getMinutes(),\r\n      date: time_now,\r\n      datetime: time_now,\r\n      note: queryString.parse(this.props.location.search).note\r\n        ? queryString.parse(this.props.location.search).note\r\n        : cookies.get(\"note\")\r\n        ? cookies.get(\"note\")\r\n        : \"\",\r\n      pickup_option: false,\r\n      submitted: false,\r\n      show: false,\r\n      directions: false,\r\n      loadingDir: false,\r\n      loadingMap: false,\r\n      retrievedDir: false,\r\n      retrievedMap: false,\r\n      regionFrom: \"\",\r\n      planningDetails: \"\",\r\n      status: \"\",\r\n    };\r\n  }\r\n\r\n  getMap = async () => {\r\n    this.setState({ loadingMap: true });\r\n    var regionFrom = await Helpers.postalPlanningRegion(this.state.postal);\r\n    var regionTo;\r\n    var cost;\r\n    if (this.state.postal_to) {\r\n      regionTo = await Helpers.postalPlanningRegion(this.state.postal_to);\r\n      cost = await Helpers.getPlanningDetails(\r\n        regionFrom.planningarea,\r\n        regionTo.planningarea\r\n      );\r\n    }\r\n    if (regionFrom.planningarea === \"WESTERN WATER CATCHMENT\")\r\n      regionFrom.planningarea = \"JURONG WEST\";\r\n    if (regionFrom.planningarea === \"SOUTHERN ISLANDS\")\r\n      regionFrom.planningarea = \"BUKIT MERAH\";\r\n    this.setState({\r\n      cost: cost ? cost : null,\r\n      regionFrom: regionFrom,\r\n      loadingMap: false,\r\n      retrievedMap: true,\r\n    });\r\n  };\r\n\r\n  getDirections = async () => {\r\n    this.setState({ loadingDir: true });\r\n    var regionFrom = await Helpers.postalPlanningRegion(this.state.postal);\r\n    var regionTo = await Helpers.postalPlanningRegion(this.state.postal_to);\r\n    var cost = await Helpers.getPlanningDetails(\r\n      regionFrom.planningarea,\r\n      regionTo.planningarea\r\n    );\r\n    const query =\r\n      \"https://fathomless-falls-12833.herokuapp.com/https://maps.googleapis.com/maps/api/directions/json?\" +\r\n      \"mode=driving\" +\r\n      \"&\" +\r\n      \"region=sg\" +\r\n      \"&\" +\r\n      \"units=metric\" +\r\n      \"&\" +\r\n      \"origin=\" +\r\n      this.state.street +\r\n      \"&\" +\r\n      \"destination=\" +\r\n      this.state.street_to +\r\n      \"&departure_time=\" +\r\n      parseInt(this.state.datetime.valueOf() / 1000) +\r\n      \"&\" +\r\n      \"key=\" +\r\n      API_KEY;\r\n\r\n    return fetch(query, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      referrerPolicy: \"no-referrer\",\r\n    })\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((contents) => {\r\n        if (cost) {\r\n          var distance =\r\n            contents && contents.routes.length > 0\r\n              ? contents.routes[0].legs[0].distance.value\r\n              : 0;\r\n          this.setState({\r\n            minCost: cost ? cost : null,\r\n            cost: cost,\r\n            isCostBelowMin: false,\r\n            directions: contents,\r\n            distance: distance,\r\n            loadingDir: false,\r\n            retrievedDir: true,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error:\" + error.toString());\r\n      });\r\n  };\r\n\r\n  callPostal = (postal) => {\r\n    return fetch(\r\n      \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n        postal +\r\n        \"&returnGeom=Y&getAddrDetails=Y\"\r\n    )\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(\r\n        function (jsonResponse) {\r\n          if (\r\n            jsonResponse !== undefined &&\r\n            jsonResponse[\"results\"] !== undefined\r\n          ) {\r\n            return jsonResponse[\"results\"][0];\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  sendData = (query) => {\r\n    let urls = [\r\n      \"https://asia-east2-hawkercentral.cloudfunctions.net/telegramSend\",\r\n    ];\r\n    try {\r\n      return Promise.all(\r\n        urls.map((url) =>\r\n          fetch(url, {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(query),\r\n          })\r\n            .then((response) => {\r\n              return response;\r\n            })\r\n            .then((data) => {\r\n              return data;\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n              return error;\r\n            })\r\n        )\r\n      ).then((data) => {\r\n        return data[0];\r\n      });\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  async getPostal(postal, direction) {\r\n    // event.preventDefault();\r\n    let data = await this.callPostal(postal);\r\n    if (data !== undefined) {\r\n      if (direction === \"to\") {\r\n        this.setState({\r\n          street_to: data[\"ADDRESS\"],\r\n          longitude_to: data[\"LONGITUDE\"],\r\n          latitude_to: data[\"LATITUDE\"],\r\n          invalidPostal_to: false,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          street: data[\"ADDRESS\"],\r\n          longitude: data[\"LONGITUDE\"],\r\n          latitude: data[\"LATITUDE\"],\r\n          invalidPostal: false,\r\n        });\r\n      }\r\n    } else {\r\n      if (direction === \"to\") {\r\n        this.setState({\r\n          invalidPostal_to: true,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          invalidPostal: true,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ submitting: true, status: \"sending\" });\r\n\r\n    if (this.state.datetime < time_now) {\r\n      alert(\r\n        <LanguageContext.Consumer>\r\n          {(context) => <div>{context.data.driver.timelimit}</div>}\r\n        </LanguageContext.Consumer>\r\n      );\r\n    }\r\n    if (!this.state.retrievedDir) {\r\n      alert(\"Please wait for directions to load\");\r\n    }\r\n    await this.getPostal(this.state.postal_to, \"to\");\r\n    await this.getPostal(this.state.postal, \"from\");\r\n    cookies.set(\"postal\", this.state.postal, { path: \"/\" });\r\n    cookies.set(\"street\", this.state.street, { path: \"/\" });\r\n    cookies.set(\"unit\", this.state.unit, { path: \"/\" });\r\n    cookies.set(\"contact\", this.state.contact, { path: \"/\" });\r\n    cookies.set(\"note\", this.state.note, { path: \"/\" });\r\n    var arrival = new Date(this.state.datetime);\r\n    arrival.setMinutes(\r\n      arrival.getMinutes() +\r\n        15 +\r\n        this.state.directions.routes[0].legs[0].duration.value / 60\r\n    );\r\n    arrival =\r\n      dayName[arrival.getDay()] +\r\n      \" \" +\r\n      arrival.getDate() +\r\n      \" \" +\r\n      monthNames[arrival.getMonth()] +\r\n      \" \" +\r\n      formatAMPM(arrival);\r\n    await addData({\r\n      origin: this.state.street,\r\n      destination: this.state.street_to,\r\n      distance: this.state.directions.routes[0].legs[0].distance.text,\r\n      cost: this.state.cost,\r\n      postal: this.state.postal,\r\n      postal_to: this.state.postal_to,\r\n      latitude: this.state.latitude,\r\n      longitude: this.state.longitude,\r\n      latitude_to: this.state.latitude_to,\r\n      longitude_to: this.state.longitude_to,\r\n      street: this.state.street,\r\n      street_to: this.state.street_to,\r\n      unit: this.state.unit,\r\n      unit_to: this.state.unit_to,\r\n      contact: this.state.contact,\r\n      contact_to: this.state.contact_to,\r\n      time: this.state.datetime,\r\n      note: this.state.note,\r\n      arrival: arrival,\r\n      duration: this.state.directions.routes[0].legs[0].duration.text,\r\n    }).then(async (id) => {\r\n      await this.sendData({\r\n        origin: this.state.street,\r\n        destination: this.state.street_to,\r\n        distance: this.state.directions.routes[0].legs[0].distance.text,\r\n        requester_mobile: this.state.contact,\r\n        cost: \"$\" + this.state.cost,\r\n        id: id,\r\n        url: \"www.foodleh.app/delivery?id=\" + id,\r\n        time:\r\n          dayName[this.state.datetime.getDay()] +\r\n          \" \" +\r\n          this.state.datetime.getDate() +\r\n          \" \" +\r\n          monthNames[this.state.datetime.getMonth()] +\r\n          \" \" +\r\n          formatAMPM(this.state.datetime),\r\n        duration: this.state.directions.routes[0].legs[0].duration.text,\r\n        arrival: arrival,\r\n      }).then((d) => {\r\n        if (d && d.status && d.status === 200) {\r\n          this.setState({\r\n            submitted: true,\r\n            submitting: false,\r\n            status: \"succeeded\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            submitted: true,\r\n            submitting: false,\r\n            status: \"failed\",\r\n          });\r\n        }\r\n        // setTimeout(() => {\r\n        //   this.setState({ submitted: false });\r\n        // }, 5000);\r\n      });\r\n    });\r\n  };\r\n\r\n  componentWillMount() {\r\n    if (this.state.postal) {\r\n      this.getMap();\r\n      if (this.state.postal_to) this.getDirections();\r\n    }\r\n    onLoad(\"find_driver\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Set up Firebase reCAPTCHA\r\n    // To apply the default browser preference instead of explicitly setting it.\r\n    firebase.auth().useDeviceLanguage();\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"recaptcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function (response) {\r\n          // reCAPTCHA solved\r\n        },\r\n      }\r\n    );\r\n\r\n    firebase.auth().onAuthStateChanged(\r\n      function (user) {\r\n        if (user) {\r\n          // User is signed in, set state\r\n          // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n          this.setState({\r\n            firebaseUser: user,\r\n            contact: user.phoneNumber.slice(3),\r\n          });\r\n          onLoad(\"driverleh\", user.phoneNumber.slice(3));\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      }.bind(this)\r\n    );\r\n  }\r\n\r\n  handleVerify = async (event) => {\r\n    event.preventDefault();\r\n    // Handle Firebase phone number-OTP verification\r\n    var phoneNumber = getPhoneNumberFromUserInput();\r\n    var appVerifier = window.recaptchaVerifier;\r\n    firebase\r\n      .auth()\r\n      .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n      .then(function (confirmationResult) {\r\n        // SMS sent\r\n        window.confirmationResult = confirmationResult;\r\n      })\r\n      .catch(function (error) {\r\n        // Error; SMS not sent\r\n        // Reset reCAPTCHA so user can try again\r\n        console.log(\"error, sms not sent\");\r\n      });\r\n  };\r\n\r\n  handleTime = async (time) => {\r\n    this.setState({\r\n      time: time,\r\n      datetime: new Date(\r\n        this.state.date.getMonth() +\r\n          1 +\r\n          \"/\" +\r\n          this.state.date.getDate() +\r\n          \"/\" +\r\n          this.state.date.getFullYear() +\r\n          \" \" +\r\n          time\r\n      ),\r\n    });\r\n  };\r\n\r\n  handleDate = async (date) => {\r\n    this.setState({\r\n      date: date,\r\n      datetime: new Date(\r\n        date.getMonth() +\r\n          1 +\r\n          \"/\" +\r\n          date.getDate() +\r\n          \"/\" +\r\n          date.getFullYear() +\r\n          \" \" +\r\n          this.state.time\r\n      ),\r\n    });\r\n  };\r\n\r\n  handleSlider = (event, value) => {\r\n    this.setState({ cost: value });\r\n    if (value !== \"\" && parseInt(value) < parseInt(this.state.minCost)) {\r\n      this.setState({ isCostBelowMin: true });\r\n    } else {\r\n      this.setState({ isCostBelowMin: false });\r\n    }\r\n  };\r\n\r\n  handleChange = async (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({ [name]: value });\r\n    console.log(value);\r\n    if (name === \"postal\" && value.toString().length === 6) {\r\n      await this.getPostal(value, \"from\");\r\n      this.getMap();\r\n    }\r\n    if (name === \"postal_to\" && value.toString().length === 6) {\r\n      await this.getPostal(value, \"to\");\r\n    }\r\n    if (\r\n      (name === \"postal\" || name === \"postal_to\") &&\r\n      this.state.street !== \"\" &&\r\n      this.state.street_to !== \"\"\r\n    ) {\r\n      this.getDirections();\r\n    }\r\n    if (\r\n      name === \"cost\" &&\r\n      value.trim() !== \"\" &&\r\n      parseInt(value) < parseInt(this.state.minCost)\r\n    ) {\r\n      this.setState({ isCostBelowMin: true });\r\n    } else if (name === \"cost\") {\r\n      this.setState({ isCostBelowMin: false });\r\n    }\r\n  };\r\n\r\n  setShow = () => {\r\n    this.setState({ show: true });\r\n  };\r\n\r\n  setHide = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  handleClickOpen = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    var arrival;\r\n    if (\r\n      this.state.retrievedDir &&\r\n      this.state.directions &&\r\n      this.state.directions.routes.length > 0\r\n    ) {\r\n      arrival = new Date(this.state.datetime);\r\n      arrival.setMinutes(\r\n        arrival.getMinutes() +\r\n          15 +\r\n          this.state.directions.routes[0].legs[0].duration.value / 60\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <Modal\r\n          size=\"xl\"\r\n          onHide={this.setHide}\r\n          show={this.state.show}\r\n          className=\"modal\"\r\n          dialogClassName=\"modal-dialog modal-100w modal-dialog-centered\"\r\n          style={{ marginTop: \"30px\" }}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"example-custom-modal-styling-title\">\r\n              How DriverLeh? Works\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <img\r\n              src={instructions}\r\n              alt=\"\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n            />\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n        <div\r\n          class=\"jumbotron\"\r\n          style={{\r\n            \"padding-top\": \"70px\",\r\n            \"padding-bottom\": \"240px\",\r\n            height: \"100%\",\r\n            \"background-color\": \"white\",\r\n          }}\r\n        >\r\n          <div class=\"align-items-center\" style={{ width: \"100%\" }}></div>\r\n          <LanguageContext.Consumer>\r\n            {(context) => (\r\n              <Form onSubmit={this.handleClickOpen.bind(this)}>\r\n                <Dialog\r\n                  fullScreen\r\n                  open={this.state.open}\r\n                  onClose={this.handleClose}\r\n                  TransitionComponent={Transition}\r\n                >\r\n                  <AppBar\r\n                    style={{\r\n                      position: \"relative\",\r\n                      backgroundColor: \"white\",\r\n                    }}\r\n                  >\r\n                    <Toolbar>\r\n                      <IconButton\r\n                        edge=\"start\"\r\n                        onClick={this.handleClose}\r\n                        aria-label=\"close\"\r\n                      >\r\n                        <CloseIcon />\r\n                      </IconButton>\r\n                      <Typography\r\n                        variant=\"h6\"\r\n                        style={{ flex: 1, color: \"black\" }}\r\n                      >\r\n                        {context.data.driver.confirm}\r\n                      </Typography>\r\n                    </Toolbar>\r\n                    <List component=\"nav\" aria-label=\"mailbox folders\">\r\n                      <ListItem divider>\r\n                        <ListItemText\r\n                          style={{ color: \"black\" }}\r\n                          primary={context.data.driver.deliveryfrom}\r\n                          secondary={\r\n                            this.state.street + \" \" + this.state.postal\r\n                          }\r\n                        />\r\n                      </ListItem>\r\n                      <ListItem divider>\r\n                        <ListItemText\r\n                          style={{ color: \"black\" }}\r\n                          primary={context.data.driver.deliveryto}\r\n                          secondary={\r\n                            this.state.street_to + \" \" + this.state.postal_to\r\n                          }\r\n                        />\r\n                      </ListItem>\r\n                      <ListItem divider>\r\n                        <ListItemText\r\n                          style={{ color: \"black\" }}\r\n                          primary={context.data.driver.mobilenumber}\r\n                          secondary={this.state.contact_to}\r\n                        />\r\n                      </ListItem>\r\n                      <ListItem divider>\r\n                        <ListItemText\r\n                          style={{ color: \"black\" }}\r\n                          primary={context.data.driver.pickuptime}\r\n                          secondary={\r\n                            dayName[this.state.datetime.getDay()] +\r\n                            \" \" +\r\n                            this.state.datetime.getDate() +\r\n                            \" \" +\r\n                            monthNames[this.state.datetime.getMonth()] +\r\n                            \" \" +\r\n                            formatAMPM(this.state.datetime)\r\n                          }\r\n                        />\r\n                      </ListItem>\r\n                      <ListItem divider>\r\n                        <ListItemText\r\n                          style={{ color: \"black\" }}\r\n                          primary={context.data.driver.drivernote}\r\n                          secondary={this.state.note}\r\n                        />\r\n                      </ListItem>\r\n                      <ListItem divider>\r\n                        <ListItemText\r\n                          style={{ color: \"black\" }}\r\n                          primary={context.data.driver.deliverycost}\r\n                          secondary={\"$\" + this.state.cost}\r\n                        />\r\n                      </ListItem>\r\n                    </List>\r\n                    <div\r\n                      class=\"row d-flex justify-content-center align-items-center\"\r\n                      style={{ margin: \"10px\" }}\r\n                    >\r\n                      {this.state.submitting ? (\r\n                        <div style={{ color: \"black\" }}>\r\n                          Loading...\r\n                          <Spinner animation=\"grow\" />\r\n                        </div>\r\n                      ) : this.state.status === \"succeeded\" ? (\r\n                        <div>\r\n                          {this.state.submitted ? (\r\n                            <div>\r\n                              <div\r\n                                class=\"shadow-lg\"\r\n                                style={{\r\n                                  backgroundColor: \"green\",\r\n                                  borderColor: \"white\",\r\n                                  fontSize: \"25px\",\r\n                                  color: \"white\",\r\n                                }}\r\n                              >\r\n                                {context.data.driver.submitted}\r\n                              </div>\r\n                              <h5 style={{ color: \"black\" }}>\r\n                                To arrange a new delivery, please refresh the\r\n                                page.\r\n                              </h5>\r\n                            </div>\r\n                          ) : (\r\n                            <Button\r\n                              variant=\"contained\"\r\n                              color={\"primary\"}\r\n                              type=\"Submit\"\r\n                              style={{ justifyContent: \"center\" }}\r\n                            >\r\n                              {context.data.menu.searchlabel}\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      ) : (\r\n                        <div>\r\n                          {this.state.submitted ? (\r\n                            <div>\r\n                              <div\r\n                                class=\"shadow-lg\"\r\n                                style={{\r\n                                  backgroundColor: \"red\",\r\n                                  borderColor: \"white\",\r\n                                  fontSize: \"25px\",\r\n                                  color: \"white\",\r\n                                }}\r\n                              >\r\n                                ERROR PLEASE SUBMIT AGAIN\r\n                              </div>\r\n                              <h5>\r\n                                To arrange a new delivery, please refresh the\r\n                                page.\r\n                              </h5>\r\n                            </div>\r\n                          ) : (\r\n                            <Button\r\n                              variant=\"contained\"\r\n                              color={\"primary\"}\r\n                              type=\"Submit\"\r\n                              onClick={this.handleSubmit.bind(this)}\r\n                            >\r\n                              {context.data.driver.clicktosearch}\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </AppBar>\r\n                </Dialog>\r\n                <div class=\"container-fluid col-md-10 content col-xs-offset-2\">\r\n                  <div class=\"d-flex row justify-content-center\">\r\n                    <img\r\n                      src={driver}\r\n                      alt=\"\"\r\n                      style={{ width: \"100%\", height: \"100%\" }}\r\n                    />\r\n                    <div class=\"row\" style={{ marginTop: \"10px\" }}>\r\n                      <div style={{ padding: \"10px\", width: \"100%\" }}>\r\n                        <hr\r\n                          style={{\r\n                            color: \"orange\",\r\n                            backgroundColor: \"orange\",\r\n                            height: 5,\r\n                            width: \"50%\",\r\n                          }}\r\n                        />\r\n                        A non-profit community delivery initiative <br /> Click\r\n                        To Learn How It Works: <br />\r\n                        <img\r\n                          onClick={() => this.setShow()}\r\n                          style={{\r\n                            cursor: \"pointer\",\r\n                            height: \"40px\",\r\n                            width: \"34px\",\r\n                          }}\r\n                          src={question}\r\n                          alt=\"question\"\r\n                        />\r\n                      </div>\r\n                      <div style={{ fontSize: \"12px\" }}>\r\n                        <span style={{ fontWeight: \"bold\" }}>\r\n                          {context.data.driver.rules}\r\n                        </span>{\" \"}\r\n                        <br />\r\n                        {context.data.driver.rules1}\r\n                        <br />\r\n                        <br />\r\n                        {context.data.driver.rules2}\r\n                        <br />\r\n                        <br />\r\n                        {context.data.driver.rules3}\r\n                        <br />\r\n                        <br />\r\n                        {context.data.driver.thankyou}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      class=\"card row\"\r\n                      style={{ width: \"100%\", padding: \"\", marginTop: \"10px\" }}\r\n                    >\r\n                      <div\r\n                        class=\"shadow-lg\"\r\n                        style={{\r\n                          backgroundColor: \"white\",\r\n                          padding: \"20px\",\r\n                          marginBottom: \"20px\",\r\n                          alignContent: \"center\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <img\r\n                          class=\"d-none d-md-inline-block\"\r\n                          src={check_rates}\r\n                          alt=\"\"\r\n                          style={{ width: \"30%\" }}\r\n                        />\r\n                        <img\r\n                          class=\"d-inline-block d-md-none\"\r\n                          src={check_rates}\r\n                          alt=\"\"\r\n                          style={{ width: \"50%\" }}\r\n                        />\r\n                        <div\r\n                          class=\"d-flex flex-row justify-content-center\"\r\n                          style={{ margin: \"10px\" }}\r\n                        >\r\n                          <div\r\n                            class=\"d-flex p-6 justify-content-center align-items-center\"\r\n                            style={{ padding: \"0px 10px\" }}\r\n                          >\r\n                            <div class=\"form-group create-title\">\r\n                              <label for=\"postalcode\">\r\n                                {context.data.driver.deliveryfrom}\r\n                              </label>\r\n                              <div class=\"input-group\">\r\n                                <input\r\n                                  onChange={this.handleChange.bind(this)}\r\n                                  value={this.state.postal}\r\n                                  type=\"text\"\r\n                                  class={\r\n                                    !this.state.postal\r\n                                      ? \"form-control is-invalid\"\r\n                                      : \"form-control\"\r\n                                  }\r\n                                  name=\"postal\"\r\n                                  placeholder={\r\n                                    context.data.driver.placeholderpostalcode\r\n                                  }\r\n                                  min=\"0\"\r\n                                  required\r\n                                  autocomplete=\"postal\"\r\n                                  maxLength=\"6\"\r\n                                />\r\n                              </div>\r\n                              {this.state.invalidPostal ? (\r\n                                <div\r\n                                  class=\"badge badge-danger\"\r\n                                  style={{ fontSize: \"15px\" }}\r\n                                >\r\n                                  Postal Code is invalid\r\n                                </div>\r\n                              ) : (\r\n                                <div>\r\n                                  <br />\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"p-6\" style={{ padding: \"0px 10px\" }}>\r\n                            <div class=\"form-group create-title\">\r\n                              <label for=\"postalcode\">\r\n                                {context.data.driver.deliveryto}\r\n                              </label>\r\n                              <div class=\"input-group\">\r\n                                <input\r\n                                  onChange={this.handleChange.bind(this)}\r\n                                  value={this.state.postal_to}\r\n                                  type=\"text\"\r\n                                  class={\r\n                                    !this.state.postal_to\r\n                                      ? \"form-control is-invalid\"\r\n                                      : \"form-control\"\r\n                                  }\r\n                                  name=\"postal_to\"\r\n                                  placeholder={\r\n                                    context.data.driver.placeholderpostalcode\r\n                                  }\r\n                                  min=\"0\"\r\n                                  required\r\n                                  maxLength=\"6\"\r\n                                  autocomplete=\"postal_to\"\r\n                                  style={{ padding: \"0px 10px\" }}\r\n                                />\r\n                              </div>\r\n                              {this.state.invalidPostal_to ? (\r\n                                <div\r\n                                  class=\"badge badge-danger\"\r\n                                  style={{ fontSize: \"15px\" }}\r\n                                >\r\n                                  Postal Code is invalid\r\n                                </div>\r\n                              ) : (\r\n                                <div>\r\n                                  <br />\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          class=\"d-flex flex-row justify-content-center align-items-center\"\r\n                          style={{ padding: \"0px 10px\" }}\r\n                        >\r\n                          {this.state.loadingDir ? (\r\n                            <Spinner class=\"\" animation=\"grow\" />\r\n                          ) : (\r\n                            <div\r\n                              style={{\r\n                                fontSize: \"14px\",\r\n                                textAlign: \"left\",\r\n                              }}\r\n                            >\r\n                              {this.state.retrievedDir &&\r\n                              this.state.directions &&\r\n                              this.state.directions.routes.length > 0 ? (\r\n                                <div\r\n                                  class=\"p-6 align-items-center\"\r\n                                  style={{\r\n                                    padding: \"15px\",\r\n                                  }}\r\n                                >\r\n                                  <div>\r\n                                    <b>{context.data.driver.estduration}: </b>\r\n                                    {this.state.directions.routes.length > 0\r\n                                      ? this.state.directions.routes[0].legs[0]\r\n                                          .duration.text\r\n                                      : null}\r\n                                    <br />\r\n                                    <b style={{ display: \"inline-block\" }}>\r\n                                      {context.data.driver.deliverycost}:\r\n                                    </b>\r\n                                    {this.state.minCost ? (\r\n                                      <div\r\n                                        style={{\r\n                                          display: \"inline-block\",\r\n                                          width: \"50px\",\r\n                                        }}\r\n                                      >\r\n                                        <p style={{ display: \"inline-block\" }}>\r\n                                          $\r\n                                        </p>\r\n                                        <input\r\n                                          style={{\r\n                                            display: \"inline-block\",\r\n                                            width: \"80%\",\r\n                                          }}\r\n                                          type=\"number\"\r\n                                          name=\"cost\"\r\n                                          value={this.state.cost}\r\n                                          onChange={this.handleChange}\r\n                                          min=\"6\"\r\n                                        ></input>\r\n                                      </div>\r\n                                    ) : null}\r\n                                    <br />\r\n                                    {this.state.isCostBelowMin ? (\r\n                                      <span\r\n                                        class=\"badge badge-danger\"\r\n                                        style={{ fontSize: \"12px\" }}\r\n                                      >\r\n                                        Recommended delivery <br />\r\n                                        cost is above ${this.state.minCost}\r\n                                      </span>\r\n                                    ) : null}\r\n                                  </div>\r\n                                </div>\r\n                              ) : null}\r\n                            </div>\r\n                          )}\r\n                          <div class=\"p-6 d-flex flex-row justify-content-center align-items-center\">\r\n                            {this.state.loadingMap ? (\r\n                              <div>\r\n                                <br />\r\n                                <Spinner class=\"\" animation=\"grow\" />\r\n                              </div>\r\n                            ) : (\r\n                              <div>\r\n                                {this.state.retrievedMap &&\r\n                                this.state.regionFrom.planningarea ? (\r\n                                  <span>\r\n                                    <div>\r\n                                      <img\r\n                                        src={\r\n                                          \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/maps%2F\" +\r\n                                          this.state.regionFrom.planningarea\r\n                                            .replace(/ /g, \"\")\r\n                                            .toLowerCase() +\r\n                                          \".png?alt=media&token=5942b166-0826-41e2-9a33-268dce1e9aac\"\r\n                                        }\r\n                                        alt=\"map\"\r\n                                        style={{\r\n                                          width: \"100px\",\r\n                                          height: \"auto\",\r\n                                        }}\r\n                                      />\r\n                                      <Button\r\n                                        variant=\"contained\"\r\n                                        color={\"secondary\"}\r\n                                        size=\"large\"\r\n                                        startIcon={<GetApp />}\r\n                                        style={{\r\n                                          fontSize: \"10px\",\r\n                                          width: \"auto\",\r\n                                          margin: \"10px\",\r\n                                          // position: \"absolute\",\r\n                                          // right: \"40px\",\r\n                                        }}\r\n                                        target=\"blank\"\r\n                                        href={\r\n                                          \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/maps%2F\" +\r\n                                          this.state.regionFrom.planningarea\r\n                                            .replace(/ /g, \"\")\r\n                                            .toLowerCase() +\r\n                                          \".png?alt=media&token=5942b166-0826-41e2-9a33-268dce1e9aac\"\r\n                                        }\r\n                                        download\r\n                                      >\r\n                                        <div>{context.data.driver.viewmap}</div>\r\n                                      </Button>\r\n                                    </div>\r\n                                  </span>\r\n                                ) : (\r\n                                  <div>{context.data.driver.mapwillload}</div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div style={{ paddingTop: \"20px\" }}>\r\n                          <b>{context.data.driver.arrangedelivery}</b>\r\n                        </div>\r\n                        {/* Check if user is already logged in with Firebase */}\r\n                        <div\r\n                          style={{\r\n                            display: this.state.firebaseUser ? \"none\" : \"block\",\r\n                          }}\r\n                        >\r\n                          <br />\r\n                          <div style={{ color: \"red\" }}>\r\n                            <p>\r\n                              <b>Verify Mobile Number with OTP: </b>To prevent\r\n                              scams, this MUST be your legitimate phone number\r\n                              as an F&B owner. It will be the contact number\r\n                              given to drivers who accept your request. We will\r\n                              not hesitate to track you and make a police report\r\n                              if you submit a fake request to harass others.\r\n                            </p>\r\n                            <StyledFirebaseAuth\r\n                              uiConfig={uiConfig}\r\n                              firebaseAuth={firebase.auth()}\r\n                            />\r\n                          </div>\r\n                          <div id=\"recaptcha-container\"></div>\r\n                          <br />\r\n                        </div>\r\n                        <br />\r\n                        {this.state.firebaseUser ? (\r\n                          <div style={{ color: \"green\" }}>\r\n                            <p>\r\n                              <b>\r\n                                {context.data.driver.verified}{\" \"}\r\n                                {this.state.firebaseUser.phoneNumber}\r\n                              </b>\r\n                            </p>\r\n                          </div>\r\n                        ) : null}\r\n                      </div>\r\n                      {this.state.firebaseUser !== null ? (\r\n                        <div>\r\n                          <img\r\n                            class=\"d-none d-md-inline-block\"\r\n                            src={store_address}\r\n                            alt=\"\"\r\n                            style={{ width: \"40%\" }}\r\n                          />\r\n                          <img\r\n                            class=\"d-inline-block d-md-none\"\r\n                            src={store_address}\r\n                            alt=\"\"\r\n                            style={{ width: \"80%\" }}\r\n                          />\r\n                          <div style={{ padding: \"20px\" }}>\r\n                            <div class=\"row\">\r\n                              {\" \"}\r\n                              <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                                {\" \"}\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"postalcode\">\r\n                                    {context.data.driver.postalcode}\r\n                                  </label>\r\n                                  <div class=\"input-group\">\r\n                                    <input\r\n                                      onChange={this.handleChange.bind(this)}\r\n                                      value={this.state.postal}\r\n                                      type=\"text\"\r\n                                      class={\r\n                                        !this.state.postal\r\n                                          ? \"form-control is-invalid\"\r\n                                          : \"form-control\"\r\n                                      }\r\n                                      name=\"postal\"\r\n                                      placeholder={\r\n                                        context.data.driver\r\n                                          .placeholderpostalcode\r\n                                      }\r\n                                      min=\"0\"\r\n                                      required\r\n                                      maxLength=\"6\"\r\n                                    ></input>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\">\r\n                                {\" \"}\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"street\">\r\n                                    {context.data.create.streetname}\r\n                                    <b> {context.data.create.autofill}</b>\r\n                                  </label>\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.street}\r\n                                    type=\"text\"\r\n                                    class={\r\n                                      !this.state.street\r\n                                        ? \"form-control is-invalid\"\r\n                                        : \"form-control\"\r\n                                    }\r\n                                    name=\"street\"\r\n                                    placeholder={\r\n                                      context.data.create.placeholderstreetname\r\n                                    }\r\n                                    required\r\n                                  ></input>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"unit\">\r\n                                    {context.data.create.unit}\r\n                                  </label>\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.unit}\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    name=\"unit\"\r\n                                    placeholder={\r\n                                      context.data.create.placeholderunit\r\n                                    }\r\n                                  ></input>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                                {context.data.driver.mobilenumber}:\r\n                                <br />\r\n                                <div style={{ color: \"green\", margin: \"10px\" }}>\r\n                                  <b>\r\n                                    {this.state.firebaseUser.phoneNumber.slice(\r\n                                      3\r\n                                    )}\r\n                                  </b>\r\n                                </div>\r\n                                {/* <div class=\"form-group create-title\">\r\n                              <label for=\"unit\">Mobile Number 手机号: </label>\r\n                              <div class=\"input-group\">\r\n                                <div class=\"input-group-prepend\">\r\n                                  <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                    +65\r\n                              </span>\r\n                                </div>\r\n                                <input\r\n                                  onChange={this.handleChange}\r\n                                  value={this.state.contact}\r\n                                  type=\"tel\"\r\n                                  class={\r\n                                    !this.state.contact\r\n                                      ? \"form-control is-invalid\"\r\n                                      : \"form-control\"\r\n                                  }\r\n                                  name=\"contact\"\r\n                                  placeholder=\"9xxxxxxx\"\r\n                                  maxLength=\"8\"\r\n                                  minlength=\"8\"\r\n                                  pattern=\"[8-9]{1}[0-9]{7}\"\r\n                                  required\r\n                                ></input>\r\n                              </div>\r\n                            </div> */}\r\n                              </div>\r\n                              {/* <div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"note\">\r\n                                    {context.data.driver.drivernote}\r\n                                  </label>\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.note}\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    name=\"note\"\r\n                                    placeholder={context.data.driver.placeholderdrivernote}\r\n                                    maxLength=\"40\"\r\n                                  ></input>\r\n                                </div>\r\n                              </div> */}\r\n                            </div>\r\n                          </div>\r\n                          <img\r\n                            class=\"d-none d-md-inline-block\"\r\n                            src={delivery_address}\r\n                            alt=\"\"\r\n                            style={{ width: \"40%\" }}\r\n                          />\r\n                          <img\r\n                            class=\"d-inline-block d-md-none\"\r\n                            src={delivery_address}\r\n                            alt=\"\"\r\n                            style={{ width: \"80%\" }}\r\n                          />\r\n                          <div style={{ padding: \"20px\" }}>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"postal_to\">\r\n                                    {context.data.driver.postalcode}\r\n                                  </label>\r\n                                  <div class=\"input-group\">\r\n                                    <input\r\n                                      onChange={this.handleChange.bind(this)}\r\n                                      value={this.state.postal_to}\r\n                                      type=\"text\"\r\n                                      class={\r\n                                        !this.state.postal_to\r\n                                          ? \"form-control is-invalid\"\r\n                                          : \"form-control\"\r\n                                      }\r\n                                      name=\"postal_to\"\r\n                                      placeholder={\r\n                                        context.data.driver\r\n                                          .placeholderpostalcode\r\n                                      }\r\n                                      min=\"0\"\r\n                                      required\r\n                                      maxLength=\"6\"\r\n                                    ></input>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"street_to\">\r\n                                    {context.data.create.streetname}\r\n                                    <b> {context.data.create.autofill}</b>\r\n                                  </label>\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.street_to}\r\n                                    type=\"text\"\r\n                                    class={\r\n                                      !this.state.street_to\r\n                                        ? \"form-control is-invalid\"\r\n                                        : \"form-control\"\r\n                                    }\r\n                                    name=\"street_to\"\r\n                                    placeholder={\r\n                                      context.data.create.placeholderstreetname\r\n                                    }\r\n                                    required\r\n                                  ></input>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              {\" \"}\r\n                              <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                                {\" \"}\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"unit\">\r\n                                    {context.data.create.unit}\r\n                                  </label>\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.unit_to}\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    name=\"unit_to\"\r\n                                    placeholder={\r\n                                      context.data.create.placeholderunit\r\n                                    }\r\n                                  ></input>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"unit\">\r\n                                    {context.data.driver.mobilenumber}:\r\n                                  </label>\r\n                                  <div class=\"input-group\">\r\n                                    <div class=\"input-group-prepend\">\r\n                                      <span\r\n                                        class=\"input-group-text\"\r\n                                        id=\"basic-addon1\"\r\n                                      >\r\n                                        +65\r\n                                      </span>\r\n                                    </div>\r\n                                    <input\r\n                                      onChange={this.handleChange}\r\n                                      value={this.state.contact_to}\r\n                                      type=\"tel\"\r\n                                      name=\"contact_to\"\r\n                                      placeholder=\"9xxxxxxx\"\r\n                                      maxLength=\"8\"\r\n                                      pattern=\"[8-9]{1}[0-9]{7}\"\r\n                                      minlength=\"8\"\r\n                                      class={\r\n                                        !this.state.contact_to\r\n                                          ? \"form-control is-invalid\"\r\n                                          : \"form-control\"\r\n                                      }\r\n                                      required\r\n                                    ></input>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"time\">\r\n                                    {context.data.driver.pickupdate}\r\n                                  </label>\r\n                                  <DatePicker\r\n                                    class=\"form-control is-invalid\"\r\n                                    dayPlaceholder=\"dd\"\r\n                                    monthPlaceholder=\"mm\"\r\n                                    yearPlaceholder=\"yyyy\"\r\n                                    onChange={this.handleDate}\r\n                                    value={this.state.date}\r\n                                    format=\"dd/MMM/yyyy\"\r\n                                    required\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col-xs-2 col-sm-2 col-md-2 col-lg-2\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"time\">\r\n                                    {context.data.driver.pickuptime}\r\n                                  </label>\r\n                                  <TimePicker\r\n                                    class=\"form-control is-invalid\"\r\n                                    dayPlaceholder=\"dd\"\r\n                                    monthPlaceholder=\"mm\"\r\n                                    yearPlaceholder=\"yyyy\"\r\n                                    hourPlaceholder=\"hh\"\r\n                                    minutePlaceholder=\"mm\"\r\n                                    onChange={this.handleTime}\r\n                                    value={this.state.time}\r\n                                    format=\"hh:mma\"\r\n                                    disableClock\r\n                                    required\r\n                                  />\r\n                                  {time_now > this.state.datetime ? (\r\n                                    <span class=\"badge badge-danger\">\r\n                                      <LanguageContext.Consumer>\r\n                                        {(context) => (\r\n                                          <div>\r\n                                            {context.data.driver.timelimit}\r\n                                          </div>\r\n                                        )}\r\n                                      </LanguageContext.Consumer>\r\n                                    </span>\r\n                                  ) : null}\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col-xs-7 col-sm-7 col-md-7 col-lg-7\">\r\n                                <div class=\"form-group create-title\">\r\n                                  <label for=\"note\">\r\n                                    {context.data.driver.drivernote}\r\n                                  </label>\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    value={this.state.note}\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    name=\"note\"\r\n                                    placeholder={\r\n                                      context.data.driver.placeholderdrivernote\r\n                                    }\r\n                                    maxLength=\"40\"\r\n                                  ></input>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <br />\r\n                          <div>\r\n                            <div\r\n                              class=\"shadow-lg\"\r\n                              style={{\r\n                                backgroundColor: \"white\",\r\n                                padding: \"20px\",\r\n                              }}\r\n                            >\r\n                              <img\r\n                                class=\"d-none d-md-inline-block\"\r\n                                src={summary}\r\n                                alt=\"\"\r\n                                style={{ width: \"20%\" }}\r\n                              />\r\n                              <img\r\n                                class=\"d-inline-block d-md-none\"\r\n                                src={summary}\r\n                                alt=\"\"\r\n                                style={{ width: \"40%\" }}\r\n                              />\r\n                              {this.state.loadingDir ? (\r\n                                <div>\r\n                                  <br />\r\n                                  <Spinner class=\"\" animation=\"grow\" />\r\n                                </div>\r\n                              ) : (\r\n                                <div>\r\n                                  {this.state.retrievedDir &&\r\n                                  this.state.directions &&\r\n                                  this.state.directions.routes.length > 0 ? (\r\n                                    <span>\r\n                                      <p\r\n                                        style={{\r\n                                          textAlign: \"center\",\r\n                                          fontSize: \"20px\",\r\n                                        }}\r\n                                      >\r\n                                        <b>\r\n                                          {context.data.driver.distance} (Google\r\n                                          Maps):{\" \"}\r\n                                        </b>\r\n                                        <br />\r\n                                        {this.state.directions.routes.length > 0\r\n                                          ? this.state.directions.routes[0]\r\n                                              .legs[0].distance.text\r\n                                          : null}\r\n                                        <br />\r\n                                        <b>\r\n                                          {context.data.driver.estduration}:{\" \"}\r\n                                        </b>\r\n                                        <br />\r\n                                        {this.state.directions.routes.length > 0\r\n                                          ? this.state.directions.routes[0]\r\n                                              .legs[0].duration.text\r\n                                          : null}\r\n                                        <br />\r\n                                        <b>\r\n                                          {context.data.driver.estarrival}{\" \"}\r\n                                          <br />{\" \"}\r\n                                          <small style={{ color: \"grey\" }}>\r\n                                            (Pickup Time + Duration + 15 min\r\n                                            Buffer):\r\n                                          </small>\r\n                                        </b>\r\n                                        <br />\r\n                                        {this.state.directions.routes.length > 0\r\n                                          ? dayName[arrival.getDay()] +\r\n                                            \" \" +\r\n                                            arrival.getDate() +\r\n                                            \" \" +\r\n                                            monthNames[arrival.getMonth()] +\r\n                                            \" \" +\r\n                                            formatAMPM(arrival)\r\n                                          : null}\r\n\r\n                                        <br />\r\n                                        <b>\r\n                                          {context.data.driver.deliverycost}:{\" \"}\r\n                                        </b>\r\n                                        <br />\r\n                                        {this.state.cost\r\n                                          ? \"$\" + this.state.cost.toString()\r\n                                          : null}\r\n                                        <br />\r\n                                        <br />\r\n                                        <Slider\r\n                                          // defaultValue={this.state.cost}\r\n                                          // getAriaValueText={10}\r\n                                          aria-labelledby=\"discrete-slider\"\r\n                                          valueLabelDisplay=\"on\"\r\n                                          step={1}\r\n                                          marks={marks}\r\n                                          min={6}\r\n                                          max={20}\r\n                                          name=\"cost\"\r\n                                          value={this.state.cost}\r\n                                          style={{ width: \"90%\" }}\r\n                                          onChange={this.handleSlider.bind(\r\n                                            this\r\n                                          )}\r\n                                        />\r\n                                        {this.state.isCostBelowMin ? (\r\n                                          <div\r\n                                            class=\"badge badge-danger\"\r\n                                            style={{ fontSize: \"12px\" }}\r\n                                          >\r\n                                            Recommended delivery cost is above $\r\n                                            {this.state.minCost}\r\n                                          </div>\r\n                                        ) : null}\r\n                                      </p>\r\n                                    </span>\r\n                                  ) : (\r\n                                    <div>\r\n                                      {context.data.driver.fillindetails}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                              <div\r\n                                class=\"form-check create-title\"\r\n                                style={{ textAlign: \"center\" }}\r\n                              >\r\n                                <label class=\"checkbox-inline\">\r\n                                  <input\r\n                                    onChange={this.handleChange}\r\n                                    type=\"checkbox\"\r\n                                    checked={this.state.pickup_option}\r\n                                    value={this.state.pickup_option}\r\n                                    name=\"pickup_option\"\r\n                                    class=\"form-check-input\"\r\n                                    required\r\n                                  ></input>\r\n                                  {context.data.driver.iagree}\r\n                                </label>\r\n                                <br />\r\n                                <br />\r\n                              </div>\r\n                              <Button\r\n                                variant=\"contained\"\r\n                                color={\"primary\"}\r\n                                type=\"Submit\"\r\n                              >\r\n                                {context.data.driver.review}\r\n                              </Button>\r\n                              <br />\r\n                              <br />\r\n                              <small>\r\n                                {\" \"}\r\n                                Disclaimer: FoodLeh is only responsible for\r\n                                broadcasting deliveries to potential drivers and\r\n                                is not responsible for any inaccuracies,\r\n                                misrepresentation, damage, delay, losses or\r\n                                otherwise. Contact us at foodleh@outlook.com if\r\n                                you have any suggestions or notice anything we\r\n                                could improve!\r\n                              </small>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </LanguageContext.Consumer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Driver);\r\n","import React from \"react\";\r\nimport \"../App.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { firebase, uiConfig } from \"./Firestore\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport queryString from \"query-string\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport driver from \"../driver.png\";\r\nimport Cookies from \"universal-cookie\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nconst cookies = new Cookies();\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction getPhoneNumberFromUserInput() {\r\n  return document.getElementById(\"phone-number\").value;\r\n}\r\n\r\nfunction onLoad(name) {\r\n  analytics.logEvent(name);\r\n}\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst updateData = async ({ viewed, driver_contact, id, paynow_alternate }) => {\r\n  let now = new Date();\r\n  var field = {\r\n    viewed: viewed,\r\n    driver_contact: driver_contact ? driver_contact : \"\",\r\n    timeaccepted: now,\r\n    paynow_alternate: paynow_alternate ? paynow_alternate : \"\",\r\n  };\r\n  return db\r\n    .collection(\"deliveries\")\r\n    .doc(id)\r\n    .update(field)\r\n    .then(function (docRef) {\r\n      return docRef.id;\r\n    })\r\n    .catch(function (error) {\r\n      console.error(\"Error adding document: \", error);\r\n    });\r\n};\r\n\r\nexport class Delivery extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      postal: \"\",\r\n      latitude: \"\",\r\n      longitude: \"\",\r\n      latitude_to: \"\",\r\n      longitude_to: \"\",\r\n      street: \"\",\r\n      street_to: \"\",\r\n      cost: \"\",\r\n      distance: \"\",\r\n      unit: \"\",\r\n      unit_to: \"\",\r\n      contact: \"\",\r\n      contact_to: \"\",\r\n      retrieved: false,\r\n      id: queryString.parse(this.props.location.search).id,\r\n      cancel: queryString.parse(this.props.location.search).cancel,\r\n      pickup_option: false,\r\n      submitted: false,\r\n      submitting: false,\r\n      firebaseUser: null,\r\n      driver_contact: cookies.get(\"driver_contact\")\r\n        ? cookies.get(\"driver_contact\")\r\n        : \"\",\r\n      driver_name: cookies.get(\"driver_name\") ? cookies.get(\"driver_name\") : \"\",\r\n      payment: cookies.get(\"payment\") ? cookies.get(\"payment\") : \"\",\r\n      paynow_alternate: cookies.get(\"paynow_alternate\")\r\n        ? cookies.get(\"paynow_alternate\")\r\n        : \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Set up Firebase reCAPTCHA\r\n    // To apply the default browser preference instead of explicitly setting it.\r\n    firebase.auth().useDeviceLanguage();\r\n    console.log(firebase.auth().languageCode);\r\n\r\n    if (!this.state.cancel) {\r\n      window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n        \"recaptcha-container\",\r\n        {\r\n          size: \"invisible\",\r\n          callback: function (response) {\r\n            // reCAPTCHA solved\r\n          },\r\n        }\r\n      );\r\n\r\n      firebase.auth().onAuthStateChanged(\r\n        function (user) {\r\n          if (user) {\r\n            // User is signed in, set state\r\n            // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n            this.setState({\r\n              firebaseUser: user,\r\n              driver_contact: user.phoneNumber.slice(3),\r\n            });\r\n          } else {\r\n            // No user is signed in.\r\n          }\r\n        }.bind(this)\r\n      );\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    onLoad(\"find_delivery\");\r\n    if (this.state.cancel) {\r\n      this.cancelDoc();\r\n    }\r\n  }\r\n\r\n  cancelDoc = async () => {\r\n    this.setState({ loadingCancel: true });\r\n    await db\r\n      .collection(\"deliveries\")\r\n      .doc(this.state.cancel)\r\n      .get()\r\n      .then((snapshot) => {\r\n        console.log(snapshot.data());\r\n        if (snapshot.data().viewed === true) {\r\n          this.setState({ cancel: \"denied\", loadingCancel: false });\r\n        } else {\r\n          snapshot.ref.update({ cancelled: true });\r\n          this.setState({ loadingCancel: false });\r\n          this.cancelData({ data: snapshot.data() });\r\n        }\r\n      });\r\n  };\r\n\r\n  getDoc = () => {\r\n    return db\r\n      .collection(\"deliveries\")\r\n      .doc(this.state.id)\r\n      .get()\r\n      .then(async (snapshot) => {\r\n        this.setState({ data: snapshot.data(), retrieved: true });\r\n        return snapshot.data();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  cancelData = async (query) => {\r\n    let urls = [\r\n      \"https://asia-east2-hawkercentral.cloudfunctions.net/telegramCancel\",\r\n    ];\r\n    try {\r\n      Promise.all(\r\n        urls.map((url) =>\r\n          fetch(url, {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(query),\r\n          })\r\n            .then((response) => {\r\n              return response.json();\r\n            })\r\n            .then((data) => {\r\n              return data;\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n              return error;\r\n            })\r\n        )\r\n      ).then((data) => {\r\n        // window.location.reload();\r\n      });\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  sendData = (query) => {\r\n    let urls = [\r\n      \"https://asia-east2-hawkercentral.cloudfunctions.net/telegramEdit\",\r\n    ];\r\n    try {\r\n      return Promise.all(\r\n        urls.map((url) =>\r\n          fetch(url, {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(query),\r\n          })\r\n            .then((response) => {\r\n              return response.json();\r\n            })\r\n            .then((data) => {\r\n              return data;\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n              return error;\r\n            })\r\n        )\r\n      ).then((data) => {\r\n        console.log(\"Message Requested\");\r\n      });\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  handleVerify = async (event) => {\r\n    event.preventDefault();\r\n    //cookies.set(\"driver_contact\", this.state.driver_contact, { path: \"/\" });\r\n    // Handle Firebase phone number-OTP verification\r\n    var phoneNumber = getPhoneNumberFromUserInput();\r\n    var appVerifier = window.recaptchaVerifier;\r\n    firebase\r\n      .auth()\r\n      .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n      .then(function (confirmationResult) {\r\n        // SMS sent\r\n        window.confirmationResult = confirmationResult;\r\n      })\r\n      .catch(function (error) {\r\n        // Error; SMS not sent\r\n        // Reset reCAPTCHA so user can try again\r\n        console.log(\"error, sms not sent\");\r\n      });\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      driver_contact: this.state.firebaseUser.phoneNumber.slice(3),\r\n      submitting: true,\r\n    });\r\n    cookies.set(\"driver_contact\", this.state.driver_contact, { path: \"/\" });\r\n    cookies.set(\"driver_name\", this.state.driver_name, { path: \"/\" });\r\n    cookies.set(\"paynow_alternate\", this.state.paynow_alternate, { path: \"/\" });\r\n    cookies.set(\"payment\", this.state.payment, { path: \"/\" });\r\n    this.getDoc()\r\n      .then(async (data) => {\r\n        if (!data.viewed && !data.cancelled && !data.expired) {\r\n          await updateData({\r\n            viewed: true,\r\n            id: this.state.id,\r\n            driver_contact: this.state.driver_contact,\r\n            driver_name: this.state.driver_name,\r\n            paynow_alternate: this.state.paynow_alternate,\r\n          }).then(async (d) => {\r\n            await this.sendData({\r\n              foodleh_id: data.message_id.foodleh,\r\n              deliverysg_id: data.message_id.deliverysg,\r\n              driver_mobile: this.state.driver_contact,\r\n              driver_name: this.state.driver_name,\r\n              requester_mobile: data.contact,\r\n              customer_mobile: data.contact_to,\r\n              // origin: data.unit + \" \" + data.street,\r\n              // destination: data.unit_to + \" \" + data.street_to,\r\n              origin: data.street,\r\n              destination: data.street_to,\r\n              time:\r\n                data.time && typeof data.time !== \"string\"\r\n                  ? dayName[data.time.toDate().getDay()] +\r\n                    \" \" +\r\n                    data.time.toDate().getDate() +\r\n                    \" \" +\r\n                    monthNames[data.time.toDate().getMonth()] +\r\n                    \" \" +\r\n                    formatAMPM(data.time.toDate())\r\n                  : null,\r\n              note: data.note,\r\n              cost: data.cost,\r\n              arrival: data.arrival,\r\n              duration: data.duration,\r\n              paynow_alternate: this.state.paynow_alternate,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .then((d) => {\r\n        this.setState({\r\n          submitted: true,\r\n          submitting: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    if (name === \"payment\") {\r\n      const checked = target.checked;\r\n      this.setState({ [name]: checked });\r\n    } else {\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          class=\"jumbotron\"\r\n          style={{\r\n            \"padding-top\": \"70px\",\r\n            \"padding-bottom\": \"240px\",\r\n            height: \"100%\",\r\n            \"background-color\": \"white\",\r\n          }}\r\n        >\r\n          <div class=\"container-fluid col-md-10 content col-xs-offset-2\">\r\n            <div class=\"d-flex row justify-content-center\">\r\n              <img\r\n                src={driver}\r\n                alt=\"\"\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              />\r\n              <div\r\n                class=\"card shadow row\"\r\n                style={{ width: \"100%\", padding: \"20px\", margin: \"20px\" }}\r\n              >\r\n                {this.state.cancel ? (\r\n                  this.state.loadingCancel ? (\r\n                    <div class=\"d-flex row justify-content-center\">\r\n                      <Spinner class=\"\" animation=\"grow\" />\r\n                    </div>\r\n                  ) : this.state.cancel === \"denied\" ? (\r\n                    <h2>\r\n                      A driver has already picked up this order. Please contact\r\n                      him/her to cancel.\r\n                    </h2>\r\n                  ) : (\r\n                    <h2>You have successfully cancelled the request</h2>\r\n                  )\r\n                ) : (\r\n                  <div>\r\n                    {!this.state.submitted ? (\r\n                      <Form onSubmit={this.handleSubmit.bind(this)}>\r\n                        {/* <br />\r\n                        <label for=\"unit\">Your Name:</label>\r\n                        <div class=\"input-group\">\r\n                          <input\r\n                            onChange={this.handleChange}\r\n                            value={this.state.driver_name}\r\n                            type=\"text\"\r\n                            class=\"form-control\"\r\n                            name=\"driver_name\"\r\n                            placeholder=\"e.g. Tan Xiao Ming\"\r\n                            required\r\n                          ></input>\r\n                        </div> */}\r\n                        {/* <br />\r\n                        <label for=\"unit\">Mobile Number:</label>\r\n                        <div class=\"input-group\">\r\n                          <div class=\"input-group-prepend\">\r\n                            <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                              +65\r\n                            </span>\r\n                          </div>\r\n                          <input\r\n                            onChange={this.handleChange}\r\n                            value={this.state.driver_contact}\r\n                            type=\"number\"\r\n                            class=\"form-control\"\r\n                            name=\"driver_contact\"\r\n                            placeholder=\"9xxxxxxx\"\r\n                            required\r\n                          ></input>\r\n                        </div> */}\r\n                        <br />\r\n\r\n                        {/* Separate handler for verifying mobile number with OTP */}\r\n                        {/* Check if user is already logged in with Firebase */}\r\n                        <div\r\n                          style={{\r\n                            display: this.state.firebaseUser ? \"none\" : \"block\",\r\n                          }}\r\n                        >\r\n                          <div>\r\n                            <p>Verify Mobile Number</p>\r\n                            <StyledFirebaseAuth\r\n                              uiConfig={uiConfig}\r\n                              firebaseAuth={firebase.auth()}\r\n                            />\r\n                          </div>\r\n                          <div id=\"recaptcha-container\"></div>\r\n                          <br />\r\n                        </div>\r\n                        <br />\r\n                        {this.state.firebaseUser ? (\r\n                          <div>\r\n                            <p>\r\n                              Already verified phone number:{\" \"}\r\n                              {this.state.firebaseUser.phoneNumber}\r\n                            </p>\r\n                          </div>\r\n                        ) : null}\r\n\r\n                        <label for=\"unit\">Your Name:</label>\r\n                        <div class=\"input-group\">\r\n                          <input\r\n                            onChange={this.handleChange}\r\n                            value={this.state.driver_name}\r\n                            type=\"text\"\r\n                            class=\"form-control\"\r\n                            name=\"driver_name\"\r\n                            placeholder=\"e.g. Tan Xiao Ming\"\r\n                            required\r\n                          ></input>\r\n                        </div>\r\n                        <br />\r\n                        <div class=\"form-check create-title\">\r\n                          <label class=\"checkbox-inline\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              type=\"checkbox\"\r\n                              checked={this.state.payment}\r\n                              // value={this.state.payment}\r\n                              name=\"payment\"\r\n                              class=\"form-check-input\"\r\n                            ></input>\r\n                            Prefer a different PayNow number/UEN?\r\n                          </label>\r\n                          <br />\r\n                        </div>\r\n                        {this.state.payment ? (\r\n                          <div class=\"input-group\">\r\n                            <input\r\n                              onChange={this.handleChange}\r\n                              value={this.state.paynow_alternate}\r\n                              type=\"number\"\r\n                              class=\"form-control\"\r\n                              name=\"paynow_alternate\"\r\n                              placeholder=\"UEN/PayNow Number\"\r\n                            ></input>\r\n                          </div>\r\n                        ) : null}\r\n                        <br />\r\n                        {this.state.submitting ? (\r\n                          <Spinner class=\"\" animation=\"grow\" />\r\n                        ) : (\r\n                          <Button\r\n                            class=\"shadow-lg\"\r\n                            disabled={this.state.firebaseUser === null}\r\n                            style={{\r\n                              backgroundColor: !(\r\n                                this.state.firebaseUser === null\r\n                              )\r\n                                ? \"green\"\r\n                                : \"grey\",\r\n                              borderColor: !(this.state.firebaseUser === null)\r\n                                ? \"green\"\r\n                                : \"grey\",\r\n                              fontSize: \"25px\",\r\n                              cursor: !(this.state.firebaseUser === null)\r\n                                ? \"pointer\"\r\n                                : \"not-allowed\",\r\n                            }}\r\n                            type=\"Submit\"\r\n                          >\r\n                            Accept Order\r\n                          </Button>\r\n                        )}\r\n                      </Form>\r\n                    ) : this.state.retrieved ? (\r\n                      <div>\r\n                        {!this.state.data.viewed &&\r\n                        !this.state.data.expired &&\r\n                        !this.state.data.cancelled ? (\r\n                          <div>\r\n                            <br />\r\n                            <h3>\r\n                              Congratulations, you got the order!\r\n                              <br />\r\n                            </h3>\r\n                            <br />\r\n                            <h5>\r\n                              Please take a screenshot of this page as the\r\n                              following information will be deleted after\r\n                              refresh.{\" \"}\r\n                            </h5>\r\n                            <br />\r\n                            <b>Delivery From:</b> {this.state.data.unit}{\" \"}\r\n                            <a\r\n                              href={\r\n                                \"https://maps.google.com/?q=\" +\r\n                                this.state.data.street\r\n                              }\r\n                            >\r\n                              {this.state.data.street}\r\n                            </a>\r\n                            <br />\r\n                            <b>Delivery To:</b> {this.state.data.unit_to}{\" \"}\r\n                            <a\r\n                              href={\r\n                                \"https://maps.google.com/?q=\" +\r\n                                this.state.data.street_to\r\n                              }\r\n                            >\r\n                              {this.state.data.street_to}\r\n                            </a>\r\n                            <br />\r\n                            <b>Hawker Contact:</b> {this.state.data.contact}\r\n                            <br />\r\n                            <b>Customer Contact:</b>{\" \"}\r\n                            {this.state.data.contact_to}\r\n                            <br />\r\n                            {this.state.data.time ? (\r\n                              <div>\r\n                                <b>Pickup Time:</b>\r\n                                {dayName[\r\n                                  this.state.data.time.toDate().getDay()\r\n                                ] +\r\n                                  \" \" +\r\n                                  this.state.data.time.toDate().getDate() +\r\n                                  \" \" +\r\n                                  monthNames[\r\n                                    this.state.data.time.toDate().getMonth()\r\n                                  ] +\r\n                                  \" \" +\r\n                                  formatAMPM(this.state.data.time.toDate())}\r\n                              </div>\r\n                            ) : null}\r\n                            <b>Note from Requester:</b> {this.state.data.note}\r\n                            <br />\r\n                            <b>Distance:</b> {this.state.data.distance}\r\n                            <br />\r\n                            {this.state.data.duration ? (\r\n                              <div>\r\n                                <b>Est. Duration:</b> {this.state.data.duration}\r\n                                <br />{\" \"}\r\n                              </div>\r\n                            ) : null}\r\n                            {this.state.data.arrival ? (\r\n                              <div>\r\n                                <b>Est. Arrival Time:</b>{\" \"}\r\n                                {this.state.data.arrival}\r\n                                <br />{\" \"}\r\n                              </div>\r\n                            ) : null}\r\n                            <b>Estimated Fee:</b> ${this.state.data.cost}\r\n                            <br /> <br />\r\n                            <b>\r\n                              <h4>\r\n                                Contact the hawker directly to arrange delivery.\r\n                                Provide last 4 digits of customer number.\r\n                              </h4>\r\n                            </b>\r\n                            <br /> <br />\r\n                            <small>\r\n                              For technical problems, please email us at\r\n                              foodleh@outlook.com\r\n                            </small>\r\n                          </div>\r\n                        ) : (\r\n                          <div>\r\n                            {this.state.data.viewed ? (\r\n                              <h3>\r\n                                <br />\r\n                                <br />\r\n                                Sorry, someone has already taken the order\r\n                                <br />\r\n                              </h3>\r\n                            ) : (\r\n                              <h3>\r\n                                <br />\r\n                                <br />\r\n                                Sorry, this order has expired\r\n                                <br />\r\n                              </h3>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <br />\r\n                        <br />\r\n                        <h3>Loading</h3>\r\n                        <Spinner class=\"\" animation=\"grow\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Delivery);\r\n","import React from \"react\";\r\nimport \"../App.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { firebase, uiConfig } from \"./Firestore\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport queryString from \"query-string\";\r\nimport Cookies from \"universal-cookie\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { BitlyClient } from \"bitly\";\r\nconst REACT_APP_BITLY_KEY = `${process.env.REACT_APP_BITLY_KEY}`;\r\nconst bitly = new BitlyClient(REACT_APP_BITLY_KEY, {});\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nconst shorten = (url) => {\r\n  return bitly.shorten(url).then((d) => {\r\n    return d.link;\r\n  });\r\n};\r\n\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nfunction getPhoneNumberFromUserInput() {\r\n  return document.getElementById(\"phone-number\").value;\r\n}\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nexport class Orders extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: queryString.parse(this.props.location.search).id,\r\n      submitted: false,\r\n      firebaseUser: null,\r\n      hawker_contact: cookies.get(\"hawker_contact\")\r\n        ? cookies.get(\"hawker_contact\")\r\n        : \"\",\r\n      deliveryData: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Set up Firebase reCAPTCHA\r\n    // To apply the default browser preference instead of explicitly setting it.\r\n    firebase.auth().useDeviceLanguage();\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"recaptcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function (response) {\r\n          // reCAPTCHA solved\r\n        },\r\n      }\r\n    );\r\n\r\n    firebase.auth().onAuthStateChanged(\r\n      function (user) {\r\n        if (user) {\r\n          // User is signed in, set state\r\n          // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n          this.setState({\r\n            firebaseUser: user,\r\n            hawker_contact: user.phoneNumber.slice(3),\r\n          });\r\n          onLoad(\"hawker_dashboard\", user.phoneNumber.slice(3));\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      }.bind(this)\r\n    );\r\n  }\r\n  componentWillMount() {\r\n    // onLoad(\"find_delivery\");\r\n    // if (this.state.cancel) {\r\n    //   this.cancelDoc();\r\n    // }\r\n  }\r\n\r\n  getDoc = () => {\r\n    return db\r\n      .collection(\"deliveries\")\r\n      .where(\r\n        \"contact\",\r\n        \"==\",\r\n        this.state.firebaseUser.phoneNumber.slice(3).toString()\r\n      )\r\n      .get()\r\n      .then(async (snapshot) => {\r\n        var dataToReturn = [];\r\n        snapshot.forEach((d) => {\r\n          console.log(typeof d.data().time);\r\n          // Push entire entry if firebase data is valid, sort and format before rendering\r\n          if (typeof d.data().time !== \"string\" && d.data().time) {\r\n            var data = d.data()\r\n            data.id = d.id\r\n            dataToReturn.push(data)\r\n          }\r\n\r\n          // if (typeof d.data().time !== \"string\" && d.data().time) {\r\n          //   var pickupTime = d.data().time.toDate();\r\n          //   var time =\r\n          //     dayName[pickupTime.getDay()] +\r\n          //     \" \" +\r\n          //     \" \" +\r\n          //     monthNames[pickupTime.getMonth()] +\r\n          //     \" \" +\r\n          //     pickupTime.getDate() +\r\n          //     \" \" +\r\n          //     formatAMPM(pickupTime);\r\n          //   dataToReturn.push(\r\n          //     <div style={{ textAlign: \"left\" }}>\r\n          //       <br />\r\n          //       <b>Driver contact: </b>\r\n          //       {d.data().driver_contact}\r\n          //       <br />\r\n          //       <b>Customer address: </b>\r\n          //       {d.data().street_to}\r\n          //       <br />\r\n          //       <b>Note: </b>\r\n          //       {d.data().note}\r\n          //       <br />\r\n          //       <b>Delivery fee: </b>${d.data().cost}\r\n          //       <br />\r\n          //       <b>Pickup Time: </b>\r\n          //       {time}\r\n          //       <hr\r\n          //         style={{\r\n          //           color: \"#b48300\",\r\n          //           backgroundColor: \"#b48300\",\r\n          //           height: \"1px\",\r\n          //           borderColor: \"#b48300\",\r\n          //           width: \"100%\",\r\n          //           alignItems: \"center\",\r\n          //         }}\r\n          //       />\r\n          //     </div>\r\n          //   );\r\n          // }\r\n        });\r\n        this.setState({ deliveryData: dataToReturn });\r\n        return dataToReturn;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  handleVerify = async (event) => {\r\n    event.preventDefault();\r\n    //cookies.set(\"driver_contact\", this.state.driver_contact, { path: \"/\" });\r\n    // Handle Firebase phone number-OTP verification\r\n    var phoneNumber = getPhoneNumberFromUserInput();\r\n    var appVerifier = window.recaptchaVerifier;\r\n    firebase\r\n      .auth()\r\n      .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n      .then(function (confirmationResult) {\r\n        // SMS sent\r\n        window.confirmationResult = confirmationResult;\r\n      })\r\n      .catch(function (error) {\r\n        // Error; SMS not sent\r\n        // Reset reCAPTCHA so user can try again\r\n        console.log(\"error, sms not sent\");\r\n      });\r\n  };\r\n\r\n  // When hawker clicks resubmit link, format shortened URL from urlData value of button clicked\r\n  handleResubmit = async (event) => {\r\n    event.preventDefault();\r\n    var shortenedURL = await shorten(event.target.value);\r\n    window.location = shortenedURL;\r\n  };\r\n\r\n  // After hawker is verified, let them enter dashboard page\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ submitted: true });\r\n    cookies.set(\"hawker_contact\", this.state.hawker_contact, { path: \"/\" });\r\n    await this.getDoc().then(async (data) => { });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    let dataToDisplay = [];\r\n    let sortedDeliveryData = [];\r\n    if (this.state.deliveryData !== null) {\r\n      // sort the data by descending order of time\r\n      sortedDeliveryData = this.state.deliveryData.sort((a, b) => b.time - a.time)\r\n      dataToDisplay = sortedDeliveryData.map((data) => {\r\n        var pickupTime = data.time.toDate();\r\n        var time =\r\n          dayName[pickupTime.getDay()] +\r\n          \" \" +\r\n          \" \" +\r\n          pickupTime.getDate() +\r\n          \" \" +\r\n          monthNames[pickupTime.getMonth()] +\r\n          \" \" +\r\n          formatAMPM(pickupTime);\r\n        const storeData = new URLSearchParams();\r\n        storeData.append(\"postal\", data.postal);\r\n        storeData.append(\"street\", data.street);\r\n        storeData.append(\"unit\", data.unit);\r\n        storeData.append(\"contact\", data.contact);\r\n        storeData.append(\"postal_to\", data.postal_to);\r\n        storeData.append(\"street_to\", data.street_to);\r\n        storeData.append(\"unit_to\", data.unit_to);\r\n        storeData.append(\"contact_to\", data.contact_to);\r\n        storeData.append(\"note\", data.note);\r\n        var urlData = \"https://foodleh.app/driver?\" + storeData.toString();\r\n        //var shortenedURL = shorten(urlData);\r\n        // let now = new Date();\r\n        // if (now.is) {\r\n        //   console.log(\"pickup time has passed\")\r\n        // }\r\n        return (\r\n          <div style={{ textAlign: \"left\" }}>\r\n            <div>\r\n              {data.viewed === true ? (\r\n                <div style={{ color: \"green\" }}>\r\n                  <b>Driver Accepted!</b>\r\n                  <br />\r\n                </div>\r\n              ) : (\r\n                  <div style={{ color: \"red\" }}>\r\n                    <b>No Driver Yet</b>\r\n                    <br />\r\n                  </div>\r\n                )}\r\n              {data.cancelled === true ? (\r\n                <div style={{ color: \"red\" }}>\r\n                  <b>You Cancelled</b> {data.viewed === true ? (<b>(Please Inform Driver)</b>) : null}\r\n                  <br />\r\n                </div>\r\n              ) : null}\r\n              {data.expired === true ? (\r\n                <div style={{ color: \"red\" }}>\r\n                  <b>Request Expired</b>\r\n                  <br />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n            {/* CANCEL option if request is 1. not cancelled, not expired, and no driver yet */}\r\n            {data.cancelled !== true && data.expired !== true && data.viewed === false ? (\r\n              <div>\r\n                <a\r\n                  href={\r\n                    \"https://www.foodleh.app/delivery?cancel=\" +\r\n                    data.id\r\n                  }\r\n                >\r\n                  Cancel this Delivery Request\r\n                <br />\r\n                </a>\r\n              </div>\r\n            ) : null}\r\n\r\n            {/* RESUBMIT option if request is 1. cancelled or 2. expired. Pass urlData via button value */}\r\n            {data.cancelled === true || data.expired === true ? (\r\n              <div>\r\n                <button \r\n                  onClick={this.handleResubmit.bind(this)}\r\n                  value={urlData}> \r\n                  Resubmit this Delivery Request?\r\n                </button>\r\n                <br />\r\n                <br />\r\n              </div>\r\n            ) : <br />}\r\n\r\n            {data.viewed === true ? (\r\n              <div>\r\n                <b>Driver contact: </b>\r\n                {data.driver_contact}\r\n                <br />\r\n              </div>\r\n            ) : null}\r\n            <b>Customer address: </b>\r\n            {data.street_to}\r\n            <br />\r\n            <b>Note: </b>\r\n            {data.note}\r\n            <br />\r\n            <b>Delivery fee: </b>${data.cost}\r\n            <br />\r\n            {data.paynow_alternate !== \"\" ? (\r\n              <div>\r\n                <b>Alternate PayNow number/UEN: </b>\r\n                {data.paynow_alternate}\r\n                <br />\r\n              </div>\r\n            ) : null}\r\n            <b>Pickup Time: </b>\r\n            {time}\r\n            <hr\r\n              style={{\r\n                color: \"#b48300\",\r\n                backgroundColor: \"#b48300\",\r\n                height: \"1px\",\r\n                borderColor: \"#b48300\",\r\n                width: \"100%\",\r\n                alignItems: \"center\",\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        <div\r\n          class=\"jumbotron\"\r\n          style={{\r\n            \"padding-top\": \"70px\",\r\n            \"padding-bottom\": \"240px\",\r\n            height: \"100%\",\r\n            \"background-color\": \"white\",\r\n          }}\r\n        >\r\n          <div class=\"container-fluid col-md-10 content col-xs-offset-2\">\r\n            <div class=\"d-flex row justify-content-center\">\r\n              Hawker Dashboard - Manage All Delivery Requests\r\n              <div\r\n                class=\"card shadow row\"\r\n                style={{ width: \"100%\", padding: \"20px\", margin: \"20px\" }}\r\n              >\r\n                {/* Separate handler for verifying mobile number with OTP */}\r\n                {/* Check if user is already logged in with Firebase */}\r\n                <div\r\n                  style={{\r\n                    display: this.state.firebaseUser ? \"none\" : \"block\",\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <p>Verify Mobile Number</p>\r\n                    <StyledFirebaseAuth\r\n                      uiConfig={uiConfig}\r\n                      firebaseAuth={firebase.auth()}\r\n                    />\r\n                  </div>\r\n                  <div id=\"recaptcha-container\"></div>\r\n                  <br />\r\n                </div>\r\n                <br />\r\n                {this.state.firebaseUser ? (\r\n                  <div>\r\n                    <p>\r\n                      Verified your phone number:{\" \"}\r\n                      {this.state.firebaseUser.phoneNumber}\r\n                    </p>\r\n                  </div>\r\n                ) : null}\r\n                <Button\r\n                  onClick={this.handleSubmit.bind(this)}\r\n                  class=\"shadow-lg\"\r\n                  disabled={this.state.firebaseUser === null}\r\n                  style={{\r\n                    backgroundColor: !(this.state.firebaseUser === null)\r\n                      ? \"green\"\r\n                      : \"grey\",\r\n                    borderColor: !(this.state.firebaseUser === null)\r\n                      ? \"green\"\r\n                      : \"grey\",\r\n                    fontSize: \"25px\",\r\n                    cursor: !(this.state.firebaseUser === null)\r\n                      ? \"pointer\"\r\n                      : \"not-allowed\",\r\n                  }}\r\n                >\r\n                  Click to See Your Delivery Requests\r\n                </Button>\r\n                <br />\r\n                <div>{dataToDisplay}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Orders);\r\n","// This is the dashboard for drivers to track their deliveries. Similar to Orders.js\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { firebase, uiConfig } from \"./Firestore\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport queryString from \"query-string\";\r\nimport Cookies from \"universal-cookie\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nfunction getPhoneNumberFromUserInput() {\r\n  return document.getElementById(\"phone-number\").value;\r\n}\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nexport class Deliveries extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: queryString.parse(this.props.location.search).id,\r\n      submitted: false,\r\n      firebaseUser: null,\r\n      hawker_contact: cookies.get(\"hawker_contact\")\r\n        ? cookies.get(\"hawker_contact\")\r\n        : \"\",\r\n      deliveryData: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Set up Firebase reCAPTCHA\r\n    // To apply the default browser preference instead of explicitly setting it.\r\n    firebase.auth().useDeviceLanguage();\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"recaptcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function (response) {\r\n          // reCAPTCHA solved\r\n        },\r\n      }\r\n    );\r\n\r\n    firebase.auth().onAuthStateChanged(\r\n      function (user) {\r\n        if (user) {\r\n          // User is signed in, set state\r\n          // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n          this.setState({\r\n            firebaseUser: user,\r\n            hawker_contact: user.phoneNumber.slice(3),\r\n          });\r\n          onLoad(\"hawker_dashboard\", user.phoneNumber.slice(3));\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      }.bind(this)\r\n    );\r\n  }\r\n  componentWillMount() {\r\n    // onLoad(\"find_delivery\");\r\n    // if (this.state.cancel) {\r\n    //   this.cancelDoc();\r\n    // }\r\n  }\r\n\r\n  getDoc = () => {\r\n    return db\r\n      .collection(\"deliveries\")\r\n      .where(\r\n        \"driver_contact\",\r\n        \"==\",\r\n        this.state.firebaseUser.phoneNumber.slice(3).toString()\r\n      )\r\n      .get()\r\n      .then(async (snapshot) => {\r\n        var dataToReturn = [];\r\n        snapshot.forEach((d) => {\r\n          console.log(typeof d.data().time);\r\n          // Push entire entry if firebase data is valid, sort and format before rendering\r\n          if (typeof d.data().time !== \"string\" && d.data().time) {\r\n            dataToReturn.push(d.data());\r\n          }\r\n\r\n          // if (typeof d.data().time !== \"string\" && d.data().time) {\r\n          //   var pickupTime = d.data().time.toDate();\r\n          //   var time =\r\n          //     dayName[pickupTime.getDay()] +\r\n          //     \" \" +\r\n          //     \" \" +\r\n          //     monthNames[pickupTime.getMonth()] +\r\n          //     \" \" +\r\n          //     pickupTime.getDate() +\r\n          //     \" \" +\r\n          //     formatAMPM(pickupTime);\r\n          //   dataToReturn.push(\r\n          //     <div style={{ textAlign: \"left\" }}>\r\n          //       <br />\r\n          //       <b>Delivery from: </b>\r\n          //       {d.data().street}\r\n          //       <br />\r\n          //       <b>Delivery to: </b>\r\n          //       {d.data().street_to}\r\n          //       <br />\r\n          //       <b>Hawker contact (Pickup): </b>\r\n          //       {d.data().contact}\r\n          //       <br />\r\n          //       <b>Customer contact (Dropoff): </b>\r\n          //       {d.data().contact_to}\r\n          //       <br />\r\n          //       <b>Pickup Time: </b>\r\n          //       {time}\r\n          //       <br />\r\n          //       <b>Note: </b>\r\n          //       {d.data().note}\r\n          //       <br />\r\n          //       <b>Distance: </b>\r\n          //       {d.data().distance}\r\n          //       <br />\r\n          //       <b>Est. Duration: </b>\r\n          //       {d.data().duration}\r\n          //       <br />\r\n          //       <b>Est. Arrival Time: </b>\r\n          //       {d.data().arrival}\r\n          //       <br />\r\n          //       <b>Delivery fee: </b>${d.data().cost}\r\n          //       <hr\r\n          //         style={{\r\n          //           color: \"#b48300\",\r\n          //           backgroundColor: \"#b48300\",\r\n          //           height: \"1px\",\r\n          //           borderColor: \"#b48300\",\r\n          //           width: \"100%\",\r\n          //           alignItems: \"center\",\r\n          //         }}\r\n          //       />\r\n          //     </div>\r\n          //   );\r\n          // }\r\n        });\r\n        this.setState({ deliveryData: dataToReturn });\r\n        return dataToReturn;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  handleVerify = async (event) => {\r\n    event.preventDefault();\r\n    //cookies.set(\"driver_contact\", this.state.driver_contact, { path: \"/\" });\r\n    // Handle Firebase phone number-OTP verification\r\n    var phoneNumber = getPhoneNumberFromUserInput();\r\n    var appVerifier = window.recaptchaVerifier;\r\n    firebase\r\n      .auth()\r\n      .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n      .then(function (confirmationResult) {\r\n        // SMS sent\r\n        window.confirmationResult = confirmationResult;\r\n      })\r\n      .catch(function (error) {\r\n        // Error; SMS not sent\r\n        // Reset reCAPTCHA so user can try again\r\n        console.log(\"error, sms not sent\");\r\n      });\r\n  };\r\n\r\n  // After hawker is verified, let them enter dashboard page\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ submitted: true });\r\n    cookies.set(\"hawker_contact\", this.state.hawker_contact, { path: \"/\" });\r\n    await this.getDoc().then(async (data) => { });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    let dataToDisplay = [];\r\n    let sortedDeliveryData = [];\r\n    if (this.state.deliveryData !== null) {\r\n      // sort the data by descending order of time\r\n      sortedDeliveryData = this.state.deliveryData.sort((a, b) => b.time - a.time)\r\n      dataToDisplay = sortedDeliveryData.map((data) => {\r\n        var pickupTime = data.time.toDate();\r\n        var time =\r\n          dayName[pickupTime.getDay()] +\r\n          \" \" +\r\n          \" \" +\r\n          pickupTime.getDate() +\r\n          \" \" +\r\n          monthNames[pickupTime.getMonth()] +\r\n\r\n          \" \" +\r\n          formatAMPM(pickupTime);\r\n\r\n        return (\r\n          <div style={{ textAlign: \"left\" }}>\r\n            <br />\r\n            <b>Delivery from: </b>\r\n            {data.street}\r\n            <br />\r\n            <b>Delivery to: </b>\r\n            {data.street_to}\r\n            <br />\r\n            <b>Hawker contact (Pickup): </b>\r\n            {data.contact}\r\n            <br />\r\n            <b>Customer contact (Dropoff): </b>\r\n            {data.contact_to}\r\n            <br />\r\n            <b>Pickup Time: </b>\r\n            {time}\r\n            <br />\r\n            <b>Note: </b>\r\n            {data.note}\r\n            <br />\r\n            <b>Distance: </b>\r\n            {data.distance}\r\n            <br />\r\n            <b>Est. Duration: </b>\r\n            {data.duration}\r\n            <br />\r\n            <b>Est. Arrival Time: </b>\r\n            {data.arrival}\r\n            <br />\r\n            <b>Delivery fee: </b>${data.cost}\r\n            <hr\r\n              style={{\r\n                color: \"#b48300\",\r\n                backgroundColor: \"#b48300\",\r\n                height: \"1px\",\r\n                borderColor: \"#b48300\",\r\n                width: \"100%\",\r\n                alignItems: \"center\",\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n          <div\r\n            class=\"jumbotron\"\r\n            style={{\r\n              \"padding-top\": \"70px\",\r\n              \"padding-bottom\": \"240px\",\r\n              height: \"100%\",\r\n              \"background-color\": \"white\",\r\n            }}\r\n          >\r\n            <div class=\"container-fluid col-md-10 content col-xs-offset-2\">\r\n              <div class=\"d-flex row justify-content-center\">\r\n                Driver Dashboard - Manage All Delivery Jobs\r\n              <div\r\n                  class=\"card shadow row\"\r\n                  style={{ width: \"100%\", padding: \"20px\", margin: \"20px\" }}\r\n                >\r\n                  {/* Separate handler for verifying mobile number with OTP */}\r\n                  {/* Check if user is already logged in with Firebase */}\r\n                  <div\r\n                    style={{\r\n                      display: this.state.firebaseUser ? \"none\" : \"block\",\r\n                    }}\r\n                  >\r\n                    <div>\r\n                      <p>Verify Mobile Number</p>\r\n                      <StyledFirebaseAuth\r\n                        uiConfig={uiConfig}\r\n                        firebaseAuth={firebase.auth()}\r\n                      />\r\n                    </div>\r\n                    <div id=\"recaptcha-container\"></div>\r\n                    <br />\r\n                  </div>\r\n                  <br />\r\n                  {this.state.firebaseUser ? (\r\n                    <div>\r\n                      <p>\r\n                        Verified your phone number:{\" \"}\r\n                        {this.state.firebaseUser.phoneNumber}\r\n                      </p>\r\n                    </div>\r\n                  ) : null}\r\n                  <Button\r\n                    onClick={this.handleSubmit.bind(this)}\r\n                    class=\"shadow-lg\"\r\n                    disabled={this.state.firebaseUser === null}\r\n                    style={{\r\n                      backgroundColor: !(this.state.firebaseUser === null)\r\n                        ? \"green\"\r\n                        : \"grey\",\r\n                      borderColor: !(this.state.firebaseUser === null)\r\n                        ? \"green\"\r\n                        : \"grey\",\r\n                      fontSize: \"25px\",\r\n                      cursor: !(this.state.firebaseUser === null)\r\n                        ? \"pointer\"\r\n                        : \"not-allowed\",\r\n                    }}\r\n                  >\r\n                    Click to See Your Delivery Jobs\r\n                </Button>\r\n                  <div>{dataToDisplay}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default withRouter(Deliveries);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\n// import {Typeahead} from 'react-bootstrap-typeahead';\r\n// import {  Button } from \"react-bootstrap\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport class Search extends React.Component {\r\n//  state = {\r\n//      postal: cookies.get(\"postal_search\"),\r\n//      loading: false,\r\n//  };\r\n    \r\n// Get IVs from URL\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const queryParams = new URLSearchParams(props.location.search);\r\n\r\n        this.state = {\r\n            postal: cookies.get(\"postal_search\"),\r\n            loading: false,\r\n            iv2: queryParams.get(\"iv2\"),\r\n            iv3: queryParams.get(\"iv3\"),\r\n        };\r\n    }\r\n\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async getPostal() {\r\n    this.setState({ loading: true });\r\n\r\n    try {\r\n      return await this.callPostal();\r\n    } finally {\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  callPostal = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n          this.state.postal +\r\n          \"&returnGeom=Y&getAddrDetails=Y\"\r\n      );\r\n\r\n      return (await response.json()).results[0];\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    cookies.set(\"postal_search\", this.state.postal, { path: \"/\" });\r\n\r\n    if (this.props.option === \"\") {\r\n      alert(\"Please choose either da bao or delivery thank you :)\");\r\n      return;\r\n    }\r\n\r\n    const postal = await this.getPostal();\r\n    if (!postal || postal.ADDRESS === \"\") {\r\n      alert(\"Please enter a valid postal code thank you :)\");\r\n      return;\r\n    }\r\n\r\n    const search = new URLSearchParams();\r\n    search.append(\"postal\", this.state.postal);\r\n    search.append(\"street\", postal.ADDRESS);\r\n    search.append(\"lng\", postal.LONGITUDE);\r\n    search.append(\"lat\", postal.LATITUDE);\r\n    search.append(\"option\", this.props.option); \r\n\r\n/*\r\n    this.props.history.push({\r\n        pathname: \"/searchall\",\r\n        search: search.toString(),\r\n    });\r\n*/\r\n    if (this.state.iv2 === \"dynamic\" && (this.state.iv3 === \"short\" || this.state.iv3 === \"long\")) {\r\n        search.append(\"iv3\", this.state.iv3);       \r\n        this.props.history.push({\r\n            pathname: \"/searchall_modified\",\r\n            search: search.toString(),\r\n        });\r\n    } else if (this.state.iv2 === \"dynamic\" && this.state.iv3 === \"none\") {      \r\n        this.props.history.push({\r\n            pathname: \"/searchall_iv2\",\r\n            search: search.toString(),\r\n        });       \r\n    } else if (this.state.iv2 === \"static\" && (this.state.iv3 === \"short\" || this.state.iv3 === \"long\")) {   \r\n        search.append(\"iv3\", this.state.iv3); \r\n        this.props.history.push({\r\n            pathname: \"/searchall_iv3\",\r\n            search: search.toString(),\r\n        });\r\n    } else {\r\n        this.props.history.push({\r\n            pathname: \"/searchall\",\r\n            search: search.toString(),\r\n        });\r\n    }\r\n    \r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-xs-6 col-sm-8 col-md-8\">\r\n            <div class=\"shadow-lg\" style={{ width: \"100%\" }}>\r\n              <input\r\n                onChange={this.handleChange}\r\n                value={this.state.postal}\r\n                type=\"text\"\r\n                pattern=\"[0-9]{6}\"\r\n                maxLength={6}\r\n                minLength={6}\r\n                class=\"form-control\"\r\n                name=\"postal\"\r\n                placeholder=\"Enter Your Postal Code\"\r\n                autoComplete=\"postal-code\"\r\n                autoFocus\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row mt-4\">\r\n          <div class=\"col\">\r\n            <Button\r\n              type=\"submit\"\r\n              variant={\"contained\"}\r\n              // variant=\"outline-secondary\"\r\n              style={{\r\n                backgroundColor: \"#b48300\",\r\n                borderColor: \"#b48300\",\r\n                width: \"100px\",\r\n              }}\r\n              disabled={this.state.loading}\r\n              color={\"secondary\"}\r\n            >\r\n              <span style={{ color: \"white\" }}>\r\n                {this.state.loading ? \"Searching...\" : \"Search\"}\r\n              </span>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Search);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\n// import queryString from \"query-string\";\r\nimport // Button,\r\n// Spinner,\r\n// Form,\r\n// Popover,\r\n// OverlayTrigger,\r\n\"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\n// import ImageGallery from \"react-image-gallery\";\r\nimport Component from \"./index\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport update from \"immutability-helper\";\r\nimport whatsapp_icon from \"../assets/whatsapp_icon.png\";\r\n// import whatsapp_button from \"../assets/whatsapp_button.png\";\r\n// import menu_button from \"../assets/menu_button.png\";\r\n// import website_button from \"../assets/website_button.png\";\r\n// import menu_title from \"../assets/info_menu.png\";\r\n// import orderleh_title from \"../assets/orderleh_title.png\";\r\n// import delivery_title from \"../assets/info_delivery.png\";\r\n// import gradient from \"../assets/gradient.png\";\r\n// import revieworder from \"../assets/info_review_order.png\";\r\nimport firebase from \"./Firestore\";\r\nimport {\r\n  FacebookShareButton,\r\n  FacebookIcon,\r\n  TwitterShareButton,\r\n  TwitterIcon,\r\n  TelegramShareButton,\r\n  TelegramIcon,\r\n  // WhatsappShareButton,\r\n  // WhatsappIcon,\r\n} from \"react-share\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport { BitlyClient } from \"bitly\";\r\nimport { Navbar } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n// import { LanguageContext } from \"./themeContext\";\r\n// import name from \"../logo-header-nologo.png\";\r\nimport logo from \"../foodleh.png\";\r\nimport { CartContext } from \"./themeContext\";\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport delivery from \"../delivery_2.png\";\r\nimport self_collect from \"../dabao_2.png\";\r\nimport i_want from \"../i_want.jpeg\";\r\n\r\nconst REACT_APP_BITLY_KEY = `${process.env.REACT_APP_BITLY_KEY}`;\r\nconst bitly = new BitlyClient(REACT_APP_BITLY_KEY, {});\r\nconst analytics = firebase.analytics();\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nconst shorten = (url) => {\r\n  return bitly.shorten(url).then((d) => {\r\n    return d.link;\r\n  });\r\n};\r\n\r\nconst InfoMenu = (props) => {\r\n  const menu_color =\r\n    props.data && props.data.css && props.data.css.menu_color\r\n      ? props.data.css.menu_color\r\n      : \"#b48300\";\r\n  const menu_font_color =\r\n    props.data && props.data.css ? props.data.css.menu_font_color : \"#ffffff\";\r\n  return (\r\n    <Navbar\r\n      //   bg=\"light\"\r\n      variant=\"dark\"\r\n      style={{\r\n        position: \"fixed\",\r\n        width: \"100vw\",\r\n        zIndex: \"100\",\r\n        backgroundColor: menu_color,\r\n      }}\r\n    >\r\n      <Navbar.Brand as={Link} to=\"/\" style={{ color: menu_font_color }}>\r\n        <img\r\n          alt=\"\"\r\n          src={props.data.logo ? props.data.logo : logo}\r\n          width=\"auto\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n        />{\" \"}\r\n        <div class=\"d-none d-md-inline-block\">{props.data.pageData.name}</div>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle />\r\n      {props.data.pageData.whatsapp ? (\r\n        <Navbar.Brand style={{ color: menu_font_color }}>\r\n          <Component.PageCart toggleDialog={props.toggleDialog} />\r\n        </Navbar.Brand>\r\n      ) : null}\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nconst ResponsiveDialog = (props) => {\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const context = React.useContext(CartContext);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={context.channelDialog}\r\n        onClose={context.toggleDialog}\r\n        aria-labelledby=\"responsive-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"responsive-dialog-title\">\r\n          {\"Which dining method would you like?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <div class=\"row\">\r\n              <div class=\"d-flex col-xs-12 col-sm-12 col-md-12 col-lg-12 justify-content-center align-items-center\">\r\n                <img\r\n                  alt=\"\"\r\n                  src={i_want}\r\n                  style={{\r\n                    flexShrink: \"0\",\r\n                    minWidth: \"5vw\",\r\n                    maxWidth: \"15vw\",\r\n                    marginBottom: \"20px\",\r\n                  }}\r\n                />\r\n              </div>\r\n              <div class=\"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-end align-items-center\">\r\n                <img\r\n                  alt=\"\"\r\n                  class={\r\n                    context.channel === \"collect\"\r\n                      ? \"home-option-clicked\"\r\n                      : \"home-option\"\r\n                  }\r\n                  onClick={() => context.changeChannel(\"collect\")}\r\n                  src={self_collect}\r\n                  style={{ flexShrink: \"0\", minWidth: \"100%\" }}\r\n                />\r\n              </div>\r\n              <div class=\"d-flex col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 justify-content-start align-items-center\">\r\n                <img\r\n                  alt=\"\"\r\n                  onClick={() => context.changeChannel(\"delivery\")}\r\n                  class={\r\n                    context.channel === \"delivery\"\r\n                      ? \"home-option-clicked\"\r\n                      : \"home-option\"\r\n                  }\r\n                  src={delivery}\r\n                  style={{ flexShrink: \"0\", minWidth: \"100%\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n            {context.channel ? (\r\n              <Component.PageConfirm toggle=\"channel\" />\r\n            ) : null}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={context.toggleDialog}\r\n            color=\"primary\"\r\n            variant={\"contained\"}\r\n          >\r\n            Save\r\n          </Button>\r\n          <Button onClick={context.toggleDialog} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  // const menu_color = props && props.css ? props.css.menu_color : null;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    const anchor = (event.target.ownerDocument || document).querySelectorAll(\r\n      \"#back-to-top-anchor\"\r\n    )[0];\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div\r\n        onClick={handleClick}\r\n        role=\"presentation\"\r\n        style={{ position: \"fixed\", bottom: \"50px\", right: \"30px\" }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nexport class Page extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: {},\r\n      orderData: [],\r\n      totalPrice: 0.0,\r\n      wantToOrder: false,\r\n      name: \"\",\r\n      unit: \"\",\r\n      street: \"\",\r\n      postal: \"\",\r\n      notes: \"\",\r\n      customerNumber: \"\",\r\n      deliveryTime: \"\",\r\n      id: \"\",\r\n      galleryOpened: false,\r\n      retrieved: true,\r\n      activePhoto: 1,\r\n      hasReviewEditMessage: false,\r\n      hasReviewDeleteMessage: false,\r\n      shouldRememberDetails: false,\r\n      channelDialog: false,\r\n      css: { menu_color: \"\", menu_font_color: \"\" },\r\n    };\r\n    this.enterDetails = this.enterDetails.bind(this);\r\n    this.handleCustomerDetails = this.handleCustomerDetails.bind(this);\r\n    this.updateCustomerDetails = this.updateCustomerDetails.bind(this);\r\n    this.setOrderText = this.setOrderText.bind(this);\r\n    this.formatSummary = this.formatSummary.bind(this);\r\n    this.toggleShouldRememberDetails = this.toggleShouldRememberDetails.bind(\r\n      this\r\n    );\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log(\"run\");\r\n    this.setState({ data: this.context.data });\r\n    if (localStorage.getItem(\"userDetails\")) {\r\n      const userDetails = JSON.parse(localStorage.getItem(\"userDetails\"));\r\n      this.setState(userDetails);\r\n      this.setState({ shouldRememberDetails: true });\r\n    }\r\n  }\r\n\r\n  getDoc = async () => {\r\n    await db\r\n      .collection(\"pages\")\r\n      .doc(this.props.pageName)\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (snapshot.exists) {\r\n          // After querying db for data, initialize orderData if menu info is available\r\n          this.setState(snapshot.data());\r\n          console.log(this.state);\r\n        }\r\n        //   onLoad(\"info_load\", snapshot.data().name);\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        window.location.reload(true);\r\n        console.log(error);\r\n      });\r\n\r\n    await db\r\n      .collection(\"hawkers\")\r\n      .doc(this.state.docid)\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (snapshot.exists) {\r\n          // After querying db for data, initialize orderData if menu info is available\r\n          this.setState({\r\n            data: snapshot.data(),\r\n            retrieved: true,\r\n            orderData: new Array(snapshot.data().menu_combined.length).fill(0),\r\n          });\r\n        }\r\n        onLoad(\"info_load\", snapshot.data().name);\r\n        console.log(\"Fetched successfully!\");\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        // window.location.reload(true);\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  updateSavedData(isChecked) {\r\n    if (!isChecked) {\r\n      localStorage.clear();\r\n    } else {\r\n      const userDetails = {\r\n        name: this.state.name,\r\n        customerNumber: this.state.customerNumber,\r\n        postal: this.state.postal,\r\n        unit: this.state.unit,\r\n        street: this.state.street,\r\n      };\r\n      localStorage.setItem(\"userDetails\", JSON.stringify(userDetails));\r\n    }\r\n  }\r\n\r\n  toggleShouldRememberDetails(event) {\r\n    const isChecked = event.target.checked;\r\n    this.setState({ shouldRememberDetails: isChecked });\r\n    this.updateSavedData(isChecked);\r\n  }\r\n\r\n  updateCustomerDetails = async (event) => {\r\n    const inputValue = event.target.value;\r\n    const inputField = event.target.name;\r\n    if (inputField === \"name\") {\r\n      this.setState({\r\n        name: inputValue,\r\n      });\r\n    } else if (inputField === \"address\") {\r\n      this.setState({\r\n        address: inputValue,\r\n      });\r\n    } else if (inputField === \"notes\") {\r\n      this.setState({\r\n        notes: inputValue,\r\n      });\r\n    } else if (inputField === \"customerNumber\") {\r\n      this.setState({\r\n        customerNumber: inputValue,\r\n      });\r\n    } else if (inputField === \"deliveryTime\") {\r\n      this.setState({\r\n        deliveryTime: inputValue,\r\n      });\r\n    } else if (inputField === \"unit\") {\r\n      this.setState({\r\n        unit: inputValue,\r\n      });\r\n    } else if (inputField === \"street\") {\r\n      this.setState({\r\n        street: inputValue, // TODO: autofill\r\n      });\r\n    } else if (inputField === \"postal\") {\r\n      this.setState({\r\n        postal: inputValue,\r\n      });\r\n      if (inputValue.length === 6) {\r\n        await this.getPostal(inputValue);\r\n      }\r\n    }\r\n  };\r\n\r\n  handleCustomerDetails = async (event) => {\r\n    await this.updateCustomerDetails(event).then(() => {\r\n      this.updateSavedData(this.state.shouldRememberDetails);\r\n    });\r\n  };\r\n\r\n  async getPostal(postal) {\r\n    // event.preventDefault();\r\n    let data = await this.callPostal(postal);\r\n    if (data !== undefined) {\r\n      this.setState({\r\n        street: data[\"ADDRESS\"],\r\n      });\r\n    }\r\n  }\r\n\r\n  getSocialSharing = () => {\r\n    return (\r\n      <div>\r\n        Share this with friends!\r\n        <br />\r\n        <FacebookShareButton\r\n          url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n          quote={\"Hungry? Try out \" + this.context.pageData.name + \" now!\"}\r\n          hashtag={\"#saveourFnB\"}\r\n        >\r\n          <FacebookIcon size={32} round={true} />\r\n        </FacebookShareButton>{\" \"}\r\n        <span class=\"\" style={{ marginRight: \"5px\" }}>\r\n          <a\r\n            href={\r\n              \"whatsapp://send?text=\" +\r\n              encodeURIComponent(\r\n                \"Hungry? Try out \" +\r\n                  this.context.pageData.name +\r\n                  \" now! Order form / more information at www.foodleh.app/info?id=\" +\r\n                  this.state.id\r\n              )\r\n            }\r\n          >\r\n            <img\r\n              alt=\"\"\r\n              src={whatsapp_icon}\r\n              style={{ width: \"32px\", cursor: \"pointer\" }}\r\n            />\r\n          </a>\r\n        </span>\r\n        {/* <WhatsappShareButton\r\n                    url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n                    title={\"Hungry? Try out \" + this.context.pageData.name + \" now!\"}\r\n                  >\r\n                    <WhatsappIcon size={32} round={true} />\r\n                  </WhatsappShareButton>{\" \"} */}\r\n        <TelegramShareButton\r\n          url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n          title={\"Hungry? Try out \" + this.context.pageData.name + \" now!\"}\r\n        >\r\n          <TelegramIcon size={32} round={true} />\r\n        </TelegramShareButton>{\" \"}\r\n        <TwitterShareButton\r\n          url={\"www.foodleh.app/info?id=\" + this.state.id}\r\n          title={\"Hungry? Try out \" + this.context.pageData.name + \" now!\"}\r\n        >\r\n          <TwitterIcon size={32} round={true} />\r\n        </TwitterShareButton>{\" \"}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  callPostal = (postal) => {\r\n    return fetch(\r\n      \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n        postal +\r\n        \"&returnGeom=Y&getAddrDetails=Y\"\r\n    )\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(\r\n        function (jsonResponse) {\r\n          if (\r\n            jsonResponse !== undefined &&\r\n            jsonResponse[\"results\"] !== undefined\r\n          ) {\r\n            return jsonResponse[\"results\"][0];\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  formatSummary() {\r\n    let text = \"\";\r\n    text = text + \"New order from \" + this.state.name + \"\\n\";\r\n    for (let i = 0; i < this.context.pageData.menu_combined.length; i = i + 1) {\r\n      if (\r\n        this.context.pageData.menu_combined !== undefined &&\r\n        this.context.pageData.menu_combined[i].name !== \"\" &&\r\n        this.state.orderData[i] !== 0\r\n      ) {\r\n        // customer ordered this item\r\n        const numItems = parseInt(this.state.orderData[i]);\r\n        const thisPrice = parseFloat(\r\n          this.context.pageData.menu_combined[i].price\r\n            ? this.context.pageData.menu_combined[i].price\r\n            : 0\r\n        );\r\n        text =\r\n          text +\r\n          \"*\" +\r\n          numItems +\r\n          \"x* _\" +\r\n          this.context.pageData.menu_combined[i].name +\r\n          \"_: $\" +\r\n          (numItems * thisPrice).toFixed(2) +\r\n          \"\\n\";\r\n      }\r\n    }\r\n    return text;\r\n  }\r\n\r\n  setOrderText = async () => {\r\n    let text = \"\";\r\n    text = text + \"New order from \" + this.state.name + \"\\n\";\r\n    for (let i = 0; i < this.context.pageData.menu_combined.length; i = i + 1) {\r\n      if (\r\n        this.context.pageData.menu_combined !== undefined &&\r\n        this.context.pageData.menu_combined[i].name !== \"\" &&\r\n        this.state.orderData[i] !== 0\r\n      ) {\r\n        // customer ordered this item\r\n        const numItems = parseInt(this.state.orderData[i]);\r\n        const thisPrice = parseFloat(\r\n          this.context.pageData.menu_combined[i].price\r\n            ? this.context.pageData.menu_combined[i].price\r\n            : 0\r\n        );\r\n        text =\r\n          text +\r\n          \"*\" +\r\n          numItems +\r\n          \"x* _\" +\r\n          this.context.pageData.menu_combined[i].name +\r\n          \"_: $\" +\r\n          (numItems * thisPrice).toFixed(2) +\r\n          \"\\n\";\r\n      }\r\n    }\r\n    text =\r\n      text +\r\n      \"\\n\\nTotal Price (not including delivery): *$\" +\r\n      this.state.totalPrice.toFixed(2) +\r\n      \"*\";\r\n    text =\r\n      text +\r\n      \"\\nDelivery address: *\" +\r\n      this.state.street +\r\n      \" #\" +\r\n      this.state.unit +\r\n      \" \" +\r\n      this.state.postal +\r\n      \"*\";\r\n    text = text + \"\\nDelivery Date/Time: *\" + this.state.deliveryTime + \"*\";\r\n    if (this.state.notes !== \"\") {\r\n      // only display notes if customer added\r\n      text = text + \"\\nAdditional notes: _\" + this.state.notes + \"_\";\r\n    }\r\n    text =\r\n      text + \"\\nCustomer phone number: *\" + this.state.customerNumber + \"*\";\r\n    text = text + \"\\nOrdering from: www.foodleh.app/info?id=\" + this.state.id;\r\n\r\n    const storeData = new URLSearchParams();\r\n    storeData.append(\"postal\", this.context.pageData.postal);\r\n    storeData.append(\"street\", this.context.pageData.street);\r\n    storeData.append(\"unit\", this.context.pageData.unit);\r\n    storeData.append(\"contact\", this.context.pageData.contact);\r\n    storeData.append(\"postal_to\", this.state.postal);\r\n    storeData.append(\"street_to\", this.state.street);\r\n    storeData.append(\"unit_to\", this.state.unit);\r\n    storeData.append(\"contact_to\", this.state.customerNumber);\r\n    var shortenedURL = await shorten(\r\n      \"https://foodleh.app/driver?\" + storeData.toString()\r\n    );\r\n    text =\r\n      text + \"\\n For F&B Owner, request for a driver here: \" + shortenedURL;\r\n    return encodeURIComponent(text);\r\n  };\r\n\r\n  enterDetails() {\r\n    console.log(\"enterDetails\");\r\n    onLoad(\"view_menu\", this.context.pageData.name);\r\n    if (this.state.wantToOrder) {\r\n      this.setState({ wantToOrder: false });\r\n    } else {\r\n      this.setState({ wantToOrder: true });\r\n    }\r\n  }\r\n\r\n  addItem = async (event) => {\r\n    console.log(\"addItem\");\r\n    const idx = event.target.name;\r\n    this.setState({\r\n      totalPrice:\r\n        parseFloat(this.state.totalPrice) +\r\n        parseFloat(\r\n          this.context.pageData.menu_combined[idx].price\r\n            ? this.context.pageData.menu_combined[idx].price\r\n            : 0\r\n        ),\r\n      orderData: update(this.state.orderData, {\r\n        [idx]: { $set: parseInt(this.state.orderData[idx]) + 1 },\r\n      }),\r\n    });\r\n  };\r\n\r\n  minusItem = async (event) => {\r\n    console.log(\"minusItem\");\r\n    const idx = event.target.name;\r\n    this.setState({\r\n      // if customer did not order this item previously, do not change total price, keep # item at 0\r\n      totalPrice:\r\n        this.state.orderData[idx] === 0.0\r\n          ? this.state.totalPrice\r\n          : parseFloat(this.state.totalPrice) -\r\n            parseFloat(\r\n              this.context.pageData.menu_combined[idx].price\r\n                ? this.context.pageData.menu_combined[idx].price\r\n                : 0\r\n            ),\r\n      orderData: update(this.state.orderData, {\r\n        [idx]: {\r\n          $set:\r\n            this.state.orderData[idx] === 0\r\n              ? 0\r\n              : parseInt(this.state.orderData[idx]) - 1,\r\n        },\r\n      }),\r\n    });\r\n  };\r\n\r\n  getMenu = () => {\r\n    if (this.context.pageData.menu_combined) {\r\n      let data = [];\r\n      this.context.pageData.menu_combined.forEach((element, i) => {\r\n        // If without_first_item, condition should be (element.name && element.price && i !== 0)) [1]\r\n        // Else condition should only be (element.name && element.price) [2]\r\n        let toPush = true;\r\n        element.name ? (toPush = true) : (toPush = false);\r\n        if (toPush) {\r\n          data.push(\r\n            <Component.PageItem\r\n              quantity={element[\"quantity\"]}\r\n              name={element[\"name\"]}\r\n              price={element[\"price\"]}\r\n              pic={element[\"pic\"]}\r\n              summary={element[\"description\"]}\r\n              css={this.context.css}\r\n              index={i}\r\n              addon={element[\"addon\"]}\r\n            />\r\n          );\r\n        }\r\n      });\r\n      return data;\r\n    }\r\n  };\r\n\r\n  renderFullscreenButton = (onClick, isFullscreen) => {\r\n    if (!isFullscreen) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            backgroundColor: \"black\",\r\n            position: \"absolute\",\r\n            opacity: \"0\",\r\n          }}\r\n          value=\"click\"\r\n          className={`image-gallery-fullscreen-button${\r\n            isFullscreen ? \" active\" : \"\"\r\n          }`}\r\n          onClick={onClick}\r\n        />\r\n      );\r\n    } else if (isFullscreen) {\r\n      return (\r\n        <div\r\n          style={{\r\n            width: \"15%\",\r\n            height: \"15%\",\r\n            top: \"10%\",\r\n            right: \"10%\",\r\n            position: \"absolute\",\r\n            opacity: \"0.8\",\r\n          }}\r\n          onClick={onClick}\r\n          value=\"click\"\r\n        >\r\n          <svg\r\n            class=\"bi bi-x-circle-fill\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            viewBox=\"0 0 16 16\"\r\n            fill=\"#b48300\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M16 8A8 8 0 110 8a8 8 0 0116 0zm-4.146-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708-.708L8.707 8l3.147-3.146z\"\r\n              clip-rule=\"evenodd\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  showReviewEditMessage = () => {\r\n    this.setState({\r\n      hasReviewEditMessage: true,\r\n      hasReviewDeleteMessage: false,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({ hasReviewEditMessage: false });\r\n    }, 10000);\r\n  };\r\n\r\n  showReviewDeleteMessage = () => {\r\n    this.setState({\r\n      hasReviewDeleteMessage: true,\r\n      hasReviewEditMessage: false,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({ hasReviewDeleteMessage: false });\r\n    }, 10000);\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(\"submit\");\r\n    var text = await this.setOrderText();\r\n    var url =\r\n      \"https://wa.me/65\" + this.context.pageData.contact + \"?text=\" + text;\r\n    window.location = url;\r\n  };\r\n\r\n  render() {\r\n    let cuisine = [];\r\n    let regions = [];\r\n    let photos = [];\r\n    // let link = \"https://wa.me/65\" + this.context.pageData.contact;\r\n    if (this.state.retrieved) {\r\n      if (this.context.pageData.categories) {\r\n        this.context.pageData.categories.forEach((element) => {\r\n          cuisine.push(<span class=\"badge badge-info\">{element}</span>);\r\n        });\r\n      }\r\n      if (this.context.pageData.tagsValue) {\r\n        this.context.pageData.tagsValue.forEach((element) => {\r\n          cuisine.push(<span class=\"badge badge-secondary\">{element}</span>);\r\n        });\r\n      }\r\n      if (this.context.pageData.regions) {\r\n        this.context.pageData.regions.forEach((element) => {\r\n          regions.push(<span class=\"badge badge-warning\">{element}</span>);\r\n        });\r\n      }\r\n      if (this.context.pageData.url) {\r\n        photos.push({\r\n          original: this.context.pageData.url,\r\n          thumbnail: this.context.pageData.url,\r\n        });\r\n      }\r\n      if (this.context.pageData.image1) {\r\n        photos.push({\r\n          original: this.context.pageData.url,\r\n          thumbnail: this.context.pageData.url,\r\n        });\r\n      }\r\n      if (this.context.pageData.image2) {\r\n        photos.push({\r\n          original: this.context.pageData.image2,\r\n          thumbnail: this.context.pageData.image2,\r\n        });\r\n      }\r\n      if (this.context.pageData.image3) {\r\n        photos.push({\r\n          original: this.context.pageData.image3,\r\n          thumbnail: this.context.pageData.image3,\r\n        });\r\n      }\r\n      if (this.context.pageData.image4) {\r\n        photos.push({\r\n          original: this.context.pageData.image4,\r\n          thumbnail: this.context.pageData.image4,\r\n        });\r\n      }\r\n      if (this.context.pageData.image5) {\r\n        photos.push({\r\n          original: this.context.pageData.image5,\r\n          thumbnail: this.context.pageData.image5,\r\n        });\r\n      }\r\n      if (photos.length === 0) {\r\n        photos.push({\r\n          original:\r\n            \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a\",\r\n          thumbnail:\r\n            \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/images%2Fplaceholder.png?alt=media&token=29588604-3e5f-4c15-b109-89115227b19a\",\r\n        });\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <InfoMenu\r\n          data={this.context}\r\n          toggleDialog={this.context.toggleDialog}\r\n        />\r\n        <div\r\n          class=\"container-fluid\"\r\n          style={{\r\n            paddingTop: \"56px\",\r\n            width: \"100%\",\r\n            paddingLeft: \"0px\",\r\n            paddingRight: \"0px\",\r\n            margin: \"0px 0px\",\r\n            marginBottom: \"50px\",\r\n          }}\r\n        >\r\n          <div>\r\n            {this.context.cover ? (\r\n              <div\r\n                class=\"container-fluid row align-items-center justify-content-center no-gutters\"\r\n                style={{\r\n                  background:\r\n                    \"linear-gradient(rgba(0,0,0,0.5), rgba(255,255,255,0.3)), url(\" +\r\n                    this.context.cover +\r\n                    \") no-repeat center center\",\r\n                  backgroundSize: \"cover\",\r\n                  minHeight: \"300px\",\r\n                  width: \"100vw\",\r\n                  alignItems: \"center\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      color: \"white\",\r\n                      fontSize: \"50px\",\r\n                      fontWeight: \"bold\",\r\n                    }}\r\n                    class=\"d-none d-md-inline-block\"\r\n                    id=\"back-to-top-anchor\"\r\n                  >\r\n                    {this.context.pageData.name}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      color: \"white\",\r\n                      fontSize: \"30px\",\r\n                      fontWeight: \"bold\",\r\n                    }}\r\n                    class=\"d-inline-block d-md-none\"\r\n                    id=\"back-to-top-anchor\"\r\n                  >\r\n                    {this.context.pageData.name}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      color: \"white\",\r\n                      fontSize: \"15px\",\r\n                    }}\r\n                    id=\"back-to-top-anchor\"\r\n                  >\r\n                    {this.context.pageData.description}\r\n                  </div>\r\n                  <br />\r\n                  {regions.length > 0 ? (\r\n                    <span style={{ margin: \"5px\" }}>\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"14\"\r\n                        height=\"14\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"none\"\r\n                        stroke=\"white\"\r\n                        stroke-width=\"3\"\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        class=\"feather feather-truck\"\r\n                      >\r\n                        <rect x=\"1\" y=\"3\" width=\"15\" height=\"13\"></rect>\r\n                        <polygon points=\"16 8 20 8 23 11 23 16 16 16 16 8\"></polygon>\r\n                        <circle cx=\"5.5\" cy=\"18.5\" r=\"2.5\"></circle>\r\n                        <circle cx=\"18.5\" cy=\"18.5\" r=\"2.5\"></circle>\r\n                      </svg>{\" \"}\r\n                      {regions}\r\n                    </span>\r\n                  ) : null}\r\n                  {cuisine.length > 0 ? (\r\n                    <span style={{ margin: \"5px\" }}>\r\n                      <svg\r\n                        class=\"bi bi-tag-fill\"\r\n                        width=\"0.88em\"\r\n                        height=\"1em\"\r\n                        viewBox=\"0 0 16 16\"\r\n                        fill=\"none\"\r\n                        stroke=\"white\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          fill-rule=\"evenodd\"\r\n                          d=\"M2 1a1 1 0 00-1 1v4.586a1 1 0 00.293.707l7 7a1 1 0 001.414 0l4.586-4.586a1 1 0 000-1.414l-7-7A1 1 0 006.586 1H2zm4 3.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z\"\r\n                          clip-rule=\"evenodd\"\r\n                        />\r\n                      </svg>{\" \"}\r\n                      {cuisine}\r\n                    </span>\r\n                  ) : null}\r\n                  {this.context.pageData.pickup_option ||\r\n                  this.context.pageData.delivery_option ? (\r\n                    <span style={{ margin: \"5px\" }}>\r\n                      <svg\r\n                        class=\"bi bi-bag\"\r\n                        width=\"14\"\r\n                        height=\"14\"\r\n                        viewBox=\"0 0 16 16\"\r\n                        fill=\"currentColor\"\r\n                        stroke=\"white\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          fill-rule=\"evenodd\"\r\n                          d=\"M14 5H2v9a1 1 0 001 1h10a1 1 0 001-1V5zM1 4v10a2 2 0 002 2h10a2 2 0 002-2V4H1z\"\r\n                          clip-rule=\"evenodd\"\r\n                        />\r\n                        <path d=\"M8 1.5A2.5 2.5 0 005.5 4h-1a3.5 3.5 0 117 0h-1A2.5 2.5 0 008 1.5z\" />\r\n                      </svg>{\" \"}\r\n                      {this.context.pageData.pickup_option ? (\r\n                        <span class=\"badge badge-success\">Da Bao</span>\r\n                      ) : null}\r\n                      {this.context.pageData.delivery_option ? (\r\n                        <span class=\"badge badge-success\">Delivery</span>\r\n                      ) : null}{\" \"}\r\n                      <br />\r\n                    </span>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div\r\n                style={{\r\n                  height: \"300px\",\r\n                }}\r\n              ></div>\r\n            )}\r\n            <div\r\n              className=\"justify-content-center\"\r\n              style={{ margin: \"0px 5%\" }}\r\n            >\r\n              <ResponsiveDialog\r\n                channelDialog={this.state.channelDialog}\r\n                closeChannelDialog={this.closeChannelDialog}\r\n              />\r\n              <div className=\"row justify-content-center align-items-center mt-4\">\r\n                <ExpansionPanel\r\n                  // expanded={expanded === \"panel1\"}\r\n                  // onChange={handleChange(\"panel1\")}\r\n                  style={{ width: \"100%\" }}\r\n                >\r\n                  <ExpansionPanelSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                    style={{ backgroundColor: \"#FFFAFA\" }}\r\n                  >\r\n                    <Typography\r\n                      style={{\r\n                        flexBasis: \"33.33%\",\r\n                        flexShrink: 0,\r\n                        color: \"black\",\r\n                      }}\r\n                    >\r\n                      About\r\n                    </Typography>\r\n                    <Typography\r\n                      style={{\r\n                        flexBasis: \"66.66%\",\r\n                        flexShrink: 0,\r\n                        color: \"grey\",\r\n                        textAlign: \"right\",\r\n                      }}\r\n                    >\r\n                      See More\r\n                    </Typography>\r\n                  </ExpansionPanelSummary>\r\n                  <ExpansionPanelDetails>\r\n                    <Typography>\r\n                      {this.context.pageData.description_detail}\r\n                    </Typography>\r\n                  </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n                <ExpansionPanel\r\n                  // expanded={expanded === \"panel1\"}\r\n                  // onChange={handleChange(\"panel1\")}\r\n                  style={{ width: \"100%\" }}\r\n                >\r\n                  <ExpansionPanelSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                    style={{ backgroundColor: \"#FFFAFA\" }}\r\n                  >\r\n                    <Typography\r\n                      style={{\r\n                        flexBasis: \"33.33%\",\r\n                        flexShrink: 0,\r\n                        color: \"black\",\r\n                      }}\r\n                    >\r\n                      Delivery\r\n                    </Typography>\r\n                    <Typography\r\n                      style={{\r\n                        flexBasis: \"66.66%\",\r\n                        flexShrink: 0,\r\n                        color: \"grey\",\r\n                        textAlign: \"right\",\r\n                      }}\r\n                    >\r\n                      See More\r\n                    </Typography>\r\n                  </ExpansionPanelSummary>\r\n                  <ExpansionPanelDetails>\r\n                    <Typography>\r\n                      {this.context.pageData.delivery_detail}\r\n                    </Typography>\r\n                  </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n              </div>\r\n              <div className=\"row justify-content-center align-items-center mt-4\">\r\n                {this.getMenu()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ScrollTop>\r\n            <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n              <KeyboardArrowUpIcon />\r\n            </Fab>\r\n          </ScrollTop>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPage.contextType = CartContext;\r\nexport default withRouter(Page);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\n// import queryString from \"query-string\";\r\nimport {\r\n  Button,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport { db } from \"./Firestore\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { LanguageContext } from \"./themeContext\";\r\nimport Info from \"./Info\";\r\nimport logo from \"../foodleh.png\";\r\n\r\nconst InfoMenu = (props) => {\r\n  const menu_color = props && props.css ? props.css.menu_color : null;\r\n  const menu_font_color = props && props.css ? props.css.menu_font_color : null;\r\n  return (\r\n    <Navbar\r\n      //   bg=\"light\"\r\n      variant=\"dark\"\r\n      style={{\r\n        position: \"fixed\",\r\n        width: \"100%\",\r\n        zIndex: \"9999\",\r\n        backgroundColor: menu_color,\r\n      }}\r\n    >\r\n      <Navbar.Brand as={Link} to=\"/\" style={{ color: \"white\" }}>\r\n        <img\r\n          alt=\"\"\r\n          src={logo}\r\n          width=\"20\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n        />{\" \"}\r\n        <div class=\"d-none d-md-inline-block\">\r\n          {/* <img\r\n            alt=\"\"\r\n            src={name}\r\n            width=\"140\"\r\n            height=\"30\"\r\n            className=\"d-inline-block align-top\"\r\n          /> */}\r\n          {props.name}\r\n        </div>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\r\n        <LanguageContext.Consumer>\r\n          {({ data, language, toggleLanguage }) => (\r\n            <Button\r\n              class=\"shadow-sm\"\r\n              style={{\r\n                backgroundColor: \"#B48300\",\r\n                borderColor: \"#B48300\",\r\n                fontSize: \"10px\",\r\n                width: \"50px\",\r\n              }}\r\n              onClick={toggleLanguage}\r\n              name=\"Language\"\r\n            >\r\n              {data.menu.language_button}\r\n            </Button>\r\n          )}\r\n        </LanguageContext.Consumer>\r\n        <div class=\"d-none d-md-inline-block\">\r\n          <Nav.Link\r\n            href=\"#\"\r\n            as={Link}\r\n            to=\"/\"\r\n            id=\"menu-link\"\r\n            style={{ color: menu_font_color }}\r\n            // onClick={onClick(\"home\")}\r\n          >\r\n            <LanguageContext.Consumer>\r\n              {({ data }) => data.menu.homelabel}\r\n            </LanguageContext.Consumer>\r\n          </Nav.Link>\r\n        </div>\r\n\r\n        {/* <Nav.Link href=\"#listing\" as={Link} to=\"/listing\" id=\"menu-link\" style={{\"color\":\"grey\"}}>\r\n            Listings\r\n          </Nav.Link> */}\r\n        <Nav.Link\r\n          href=\"#searchall\"\r\n          as={Link}\r\n          to=\"/searchall\"\r\n          id=\"menu-link\"\r\n          style={{ color: menu_font_color }}\r\n          //   onClick={onClick(\"search\")}\r\n        >\r\n          <LanguageContext.Consumer>\r\n            {({ data }) => data.menu.searchlabel}\r\n          </LanguageContext.Consumer>\r\n        </Nav.Link>\r\n        <Nav.Link\r\n          href=\"#create\"\r\n          as={Link}\r\n          to=\"/create\"\r\n          id=\"menu-link\"\r\n          style={{ color: menu_font_color }}\r\n          //   onClick={onClick(\"create\")}\r\n        >\r\n          <LanguageContext.Consumer>\r\n            {({ data }) => data.menu.createlabel}\r\n          </LanguageContext.Consumer>\r\n        </Nav.Link>\r\n\r\n        <Nav.Link\r\n          href=\"#about\"\r\n          as={Link}\r\n          to=\"/about\"\r\n          id=\"menu-link\"\r\n          style={{ color: menu_font_color }}\r\n          //   onClick={onClick(\"about\")}\r\n        >\r\n          <LanguageContext.Consumer>\r\n            {({ data }) => data.menu.aboutlabel}\r\n          </LanguageContext.Consumer>\r\n        </Nav.Link>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport class PageAbout extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      orderData: [],\r\n      totalPrice: 0.0,\r\n      wantToOrder: false,\r\n      name: \"\",\r\n      unit: \"\",\r\n      street: \"\",\r\n      postal: \"\",\r\n      notes: \"\",\r\n      customerNumber: \"\",\r\n      deliveryTime: \"\",\r\n      id: \"\",\r\n      galleryOpened: false,\r\n      retrieved: false,\r\n      activePhoto: 1,\r\n      hasReviewEditMessage: false,\r\n      hasReviewDeleteMessage: false,\r\n      shouldRememberDetails: false,\r\n      css: { menu_color: \"\", menu_font_color: \"\" },\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getDoc();\r\n  }\r\n\r\n  getDoc = async () => {\r\n    await db\r\n      .collection(\"pages\")\r\n      .doc(this.props.pageName)\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (snapshot.exists) {\r\n          // After querying db for data, initialize orderData if menu info is available\r\n          this.setState({...snapshot.data(), retrieved: true });\r\n          console.log(this.state);\r\n        }\r\n        //   onLoad(\"info_load\", snapshot.data().name);\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        window.location.reload(true);\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.retrieved ? (\r\n          <div>\r\n            {InfoMenu(this.state)}\r\n            <Info className=\"\" hero={true} id={this.state.docid}/>\r\n          </div>\r\n        ) : (\r\n          <div class=\"row h-100 page-container\">\r\n            <div class=\"col-sm-12 my-auto\">\r\n              <h3>Loading</h3>\r\n              <Spinner class=\"\" animation=\"grow\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(PageAbout);\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\n\r\n// import { LanguageContext } from \"./themeContext\";\r\n\r\nimport \"../App.css\";\r\nimport { CartContext } from \"./themeContext\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\nconst ResponsiveDialog = (props) => {\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const context = React.useContext(CartContext);\r\n\r\n  const handleChange = (event) => {\r\n    const targetId = event.currentTarget.name.substring(\r\n      event.currentTarget.name.indexOf(\"-\") + 1\r\n    );\r\n    console.log(targetId, addonsList[targetId].checked);\r\n    addonsList[targetId].checked = !addonsList[targetId].checked;\r\n  };\r\n\r\n  var addonsList = [];\r\n  var addons = [];\r\n  if (props.addon) {\r\n    props.addon.forEach((element, index) => {\r\n      addonsList.push({\r\n        index: index,\r\n      });\r\n      addons.push(\r\n        <React.Fragment>\r\n          <div>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={addonsList[index].checked}\r\n                  onChange={handleChange}\r\n                  name={\"addon-\" + index}\r\n                  color={props.menu_color}\r\n                />\r\n              }\r\n              color={props.menu_font_color}\r\n              label={element.name + \" ($\" + element.price + \")\"}\r\n            />\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={props.dialog}\r\n        onClose={props.toggleDialog}\r\n        aria-labelledby=\"responsive-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"responsive-dialog-title\">\r\n          {\"Would you like the following add ons?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{addons}</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              context.addProduct(props.menuIndex, addonsList);\r\n              props.toggleDialog();\r\n            }}\r\n            variant={\"contained\"}\r\n            style={{\r\n              backgroundColor: props.menu_color,\r\n              color: props.menu_font_color,\r\n            }}\r\n          >\r\n            Add To Cart\r\n          </Button>\r\n          <Button onClick={props.toggleDialog} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport class PageItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dialog: false,\r\n    };\r\n  }\r\n  handleClick = async (event) => {\r\n    event.preventDefault();\r\n    if (\r\n      this.context.pageData.menu_combined[this.props.index].addon && this.context.pageData.menu_combined[this.props.index].addon.length > 0\r\n    ) {\r\n      this.toggleDialog();\r\n    } else {\r\n      this.props.enqueueSnackbar(\r\n        \"Added \" + event.target.getAttribute(\"name\") + \" to Cart!\",\r\n        {\r\n          variant: \"success\",\r\n        }\r\n      );\r\n      this.context.addProduct(this.props.index);\r\n    }\r\n  };\r\n\r\n  toggleDialog = () => {\r\n    this.setState({\r\n      dialog: !this.state.dialog,\r\n    });\r\n  };\r\n\r\n  thumbnail = () => {\r\n    return `https://images.weserv.nl/?w=400&url=${encodeURIComponent(\r\n      this.props.pic\r\n    )}`;\r\n  };\r\n\r\n  render() {\r\n    var menu_color =\r\n      this.props && this.props.css && this.props.css.menu_color\r\n        ? this.props.css.menu_color\r\n        : \"#b48300\";\r\n    const menu_font_color =\r\n      this.props && this.props.css ? this.props.css.menu_font_color : \"#ffffff\";\r\n    return (\r\n      <React.Fragment>\r\n        <ResponsiveDialog\r\n          dialog={this.state.dialog}\r\n          toggleDialog={this.toggleDialog}\r\n          addon={this.props.addon}\r\n          menu_color={menu_color}\r\n          menu_font_color={menu_font_color}\r\n          menuIndex={this.props.index}\r\n        />\r\n        <div class=\"page-card\">\r\n          <div\r\n            class=\"card shadow\"\r\n            style={{\r\n              paddingLeft: \"0px !important\",\r\n              paddingRight: \"0px !important\",\r\n            }}\r\n          >\r\n            <div\r\n              class=\"row no-gutters justify-content-center\"\r\n              style={{\r\n                paddingLeft: \"0px !important\",\r\n                paddingRight: \"0px !important\",\r\n                marginLeft: \"0px !important\",\r\n                marginRight: \"0px !important\",\r\n              }}\r\n            >\r\n              {this.props.pic ? (\r\n                <div class=\"col-4 col-xs-3 col-sm-3 col-md-3 col-lg-4 fill\">\r\n                  <LazyLoadImage\r\n                    src={this.props.pic ? this.thumbnail() : null}\r\n                    placeholderSrc={null}\r\n                    class=\"card-img-left\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              <div\r\n                class=\"col-8 col-xs-9 col-sm-9 col-md-9 col-lg-8 card-text\"\r\n                style={{\r\n                  padding: \"10px\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <div class=\"card-block\">\r\n                  <h4\r\n                    class=\"card-page-title align-items-center\"\r\n                    style={{\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <span>\r\n                      <span style={{ color: menu_color }}>\r\n                        {this.props.quantity\r\n                          ? this.props.quantity + \" x \"\r\n                          : null}\r\n                      </span>\r\n                      {this.props.name}\r\n                    </span>\r\n                  </h4>\r\n                  {this.props.summary ? (\r\n                    <h6\r\n                      class=\"card-page-subtitle mb-2 text-muted small d-flex justify-content-center\"\r\n                      style={{ marginBottom: \"0px\" }}\r\n                    >\r\n                      {this.props.summary}\r\n                    </h6>\r\n                  ) : null}\r\n                  <p\r\n                    class=\"card-text item-title d-flex align-items-center justify-content-center\"\r\n                    style={{ marginBottom: \"5px\", fontSize: \"20px\" }}\r\n                  >\r\n                    ${this.props.price}\r\n                  </p>\r\n                  {this.context.pageData.whatsapp ? (\r\n                    <div\r\n                      class=\"btn btn-primary\"\r\n                      style={{\r\n                        backgroundColor: menu_color,\r\n                        borderColor: menu_color,\r\n                        color: menu_font_color,\r\n                        fontSize: \"12px\",\r\n                      }}\r\n                      name={this.props.name}\r\n                      onClick={this.handleClick}\r\n                    >\r\n                      Add To Cart\r\n                    </div>\r\n                  ) : null}\r\n                  {/* {this.context.cartProducts} */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nPageItem.contextType = CartContext;\r\nexport default withSnackbar(PageItem);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport placeholder from \"../placeholder.png\";\r\n\r\nconst Thumb = (props) => (\r\n  <div className={props.classes}>\r\n    <img\r\n      src={props.src ? props.src : placeholder}\r\n      alt={props.alt}\r\n      title={props.title}\r\n    />\r\n  </div>\r\n);\r\n\r\nThumb.propTypes = {\r\n  alt: PropTypes.string,\r\n  title: PropTypes.string,\r\n  classes: PropTypes.string,\r\n  src: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Thumb;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CartContext } from \"./themeContext\";\r\nimport Thumb from \"./Thumb\";\r\n// import { formatPrice } from '../../../services/util';\r\n\r\nclass PageCartProduct extends Component {\r\n  static propTypes = {\r\n    product: PropTypes.object.isRequired,\r\n    removeProduct: PropTypes.func.isRequired,\r\n    changeProductQuantity: PropTypes.func.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMouseOver: false,\r\n    };\r\n  }\r\n\r\n  handleMouseOver = () => {\r\n    this.setState({ isMouseOver: true });\r\n  };\r\n\r\n  handleMouseOut = () => {\r\n    this.setState({ isMouseOver: false });\r\n  };\r\n\r\n  handleOnIncrease = (index) => {\r\n    this.context.addProduct(index);\r\n  };\r\n\r\n  handleOnDecrease = (index, cartIndex) => {\r\n    this.context.removeProduct(index, cartIndex);\r\n  };\r\n\r\n  render() {\r\n    // const { product, img} = this.state;\r\n\r\n    const classes = [\"shelf-item\"];\r\n    const menu = this.context.pageData.menu_combined;\r\n    if (this.state.isMouseOver) {\r\n      classes.push(\"shelf-item--mouseover\");\r\n    }\r\n\r\n    var addons = [];\r\n    var addonsTotal = 0;\r\n    if (this.props.product.addons) {\r\n      this.props.product.addons.forEach((element, index) => {\r\n        addonsTotal += Number(\r\n          menu[this.props.product.index].addon[element].price\r\n        );\r\n        addons.push(\r\n          <React.Fragment>\r\n            <p className=\"desc\">\r\n              {menu[this.props.product.index].addon[element].name}\r\n              {\" (+$\"}\r\n              {menu[this.props.product.index].addon[element].price})\r\n            </p>\r\n          </React.Fragment>\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className={classes.join(\" \")}>\r\n        <Thumb\r\n          classes=\"shelf-item__thumb\"\r\n          src={this.props.img}\r\n          alt={this.props.product.title}\r\n        />\r\n        <div className=\"shelf-item__details\">\r\n          <p className=\"title\">{menu[this.props.product.index].name}</p>\r\n          {addons}\r\n          <p className=\"desc\">Quantity: {this.props.product.quantity}</p>\r\n        </div>\r\n        <div className=\"shelf-item__price\">\r\n          $\r\n          {(\r\n            (Number(menu[this.props.product.index].price) + addonsTotal) *\r\n            Number(this.props.product.quantity)\r\n          ).toFixed(2)}\r\n          <div>\r\n            <button\r\n              onClick={() => this.handleOnDecrease(this.props.product.index, this.props.cartIndex)}\r\n              className=\"change-product-button\"\r\n            >\r\n              -\r\n            </button>\r\n            <button\r\n              onClick={() => this.handleOnIncrease(this.props.product.index)}\r\n              className=\"change-product-button\"\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPageCartProduct.contextType = CartContext;\r\nexport default PageCartProduct;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport CartProduct from \"./PageCartProduct\";\r\nimport CartProgress from \"./CartProgress\";\r\nimport { CartContext } from \"./themeContext\";\r\nimport \"./style.scss\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Component from \"./index\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst PromoCodeDialog = (props) => {\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const context = React.useContext(CartContext);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={props.promoDialog}\r\n        onClose={props.closeFloatPromo}\r\n        aria-labelledby=\"responsive-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"responsive-dialog-title\">\r\n          {\"Enter Your Promo Code\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <TextField\r\n              label={\"Enter Promo Code\"}\r\n              type=\"text\"\r\n              value={context.promo_code_input}\r\n              style={{ width: \"100%\" }}\r\n              onChange={context.changePromocode}\r\n            />\r\n          </DialogContentText>\r\n          {context.promo_code_valid ? (\r\n            <p style={{ color: \"green\" }}>Promo Code Successfully Applied</p>\r\n          ) : (\r\n            <p style={{ color: \"red\" }}>Please Enter A Valid Code</p>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={props.closeFloatPromo}\r\n            color=\"primary\"\r\n            variant={\"contained\"}\r\n          >\r\n            Done\r\n          </Button>\r\n          {/* <Button onClick={props.closeFloatPromo} color=\"primary\">\r\n            Cancel\r\n          </Button> */}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass PageCart extends React.Component {\r\n  static propTypes = {\r\n    loadCart: PropTypes.func.isRequired,\r\n    updateCart: PropTypes.func.isRequired,\r\n    cartProducts: PropTypes.array.isRequired,\r\n    newProduct: PropTypes.object,\r\n    removeProduct: PropTypes.func,\r\n    productToRemove: PropTypes.object,\r\n    changeProductQuantity: PropTypes.func,\r\n    productToChange: PropTypes.object,\r\n  };\r\n\r\n  state = {\r\n    isOpen: false,\r\n    promoDialog: false,\r\n  };\r\n\r\n  openFloatCart = () => {\r\n    if (!this.context.channel) {\r\n      this.context.toggleDialog();\r\n    }\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  closeFloatCart = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  openFloatPromo = () => {\r\n    this.setState({ promoDialog: true });\r\n  };\r\n\r\n  closeFloatPromo = () => {\r\n    this.setState({ promoDialog: false });\r\n  };\r\n\r\n  changeProductQuantity = (changedProduct) => {\r\n    const { cartProducts, updateCart } = this.props;\r\n    const product = cartProducts.find((p) => p.id === changedProduct.id);\r\n    product.quantity = changedProduct.quantity;\r\n    if (product.quantity <= 0) {\r\n      this.removeProduct(product);\r\n    }\r\n    updateCart(cartProducts);\r\n  };\r\n\r\n  handleClickOpen = () => {\r\n    if (this.context.channel) {\r\n      this.setState({ open: true });\r\n    } else {\r\n      this.context.toggleDialog();\r\n    }\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    const { cartTotal, cartProducts, pageData } = this.context;\r\n\r\n    const menu_color =\r\n      this.context && this.context.css && this.context.css.menu_color\r\n        ? this.context.css.menu_color\r\n        : \"#b48300\";\r\n\r\n    const products = cartProducts.map((p, index) => {\r\n      if (p.quantity > 0) {\r\n        return (\r\n          <CartProduct\r\n            cartIndex={index}\r\n            product={p}\r\n            img={pageData.menu_combined[p.index].pic}\r\n          />\r\n        );\r\n      }\r\n      return <div></div>;\r\n    });\r\n\r\n    let classes = [\"float-cart\"];\r\n\r\n    if (this.state.isOpen) {\r\n      classes.push(\"float-cart--open\");\r\n    }\r\n\r\n    const deliveryFee =\r\n      (cartTotal.totalPrice <= this.context.pageData.free_delivery ||\r\n      this.context.pageData.free_delivery === \"0\") && this.context.delivery_fee\r\n        ? Number(this.context.delivery_fee)\r\n        : 0;\r\n\r\n    var discount = 0;\r\n    if (this.context.promo_code) {\r\n      if (this.context.promo_code_valid)\r\n        discount = this.context.all_promo\r\n          ? (Number(this.context.all_promo) / 100) *\r\n            Number(cartTotal.totalPrice)\r\n          : 0;\r\n    } else {\r\n      discount = this.context.all_promo\r\n        ? (Number(this.context.all_promo) / 100) * Number(cartTotal.totalPrice)\r\n        : 0;\r\n    }\r\n\r\n    if (this.context.channel === \"collect\") {\r\n      discount =\r\n        discount +\r\n        (Number(this.context.selfcollect_promo) / 100) *\r\n          Number(cartTotal.totalPrice);\r\n    }\r\n\r\n    discount = discount.toFixed(2);\r\n\r\n    return (\r\n      <span className={classes.join(\" \")}>\r\n        {/* If cart open, show close (x) button */}\r\n        {this.state.isOpen && (\r\n          <div\r\n            onClick={() => this.closeFloatCart()}\r\n            className=\"float-cart__close-btn\"\r\n          >\r\n            X\r\n          </div>\r\n        )}\r\n\r\n        {/* If cart is closed, show bag with quantity of product and open cart action */}\r\n        {!this.state.isOpen && (\r\n          <span\r\n            onClick={() => this.openFloatCart()}\r\n            className=\"bag bag--float-cart-closed\"\r\n          >\r\n            <span className=\"bag__quantity\">\r\n              {this.context.cartTotal.productQuantity}\r\n            </span>\r\n          </span>\r\n        )}\r\n\r\n        {!this.state.isOpen && (\r\n          <div\r\n            class=\"d-flex align-items-center justify-content-center\"\r\n            style={{\r\n              position: \"fixed\",\r\n              bottom: \"0px\",\r\n              width: \"100%\",\r\n              backgroundColor: menu_color,\r\n              right: \"0px\",\r\n              height: \"45px\",\r\n              cursor: \"pointer\",\r\n            }}\r\n            onClick={() => this.openFloatCart()}\r\n          >\r\n            {/* <span\r\n              onClick={() => this.openFloatCart()}\r\n              className=\"bag bag--float-cart-closed\"\r\n              style={{ width: \"100px\" }}\r\n            >\r\n              <span className=\"bag__quantity\">\r\n                {this.context.cartTotal.productQuantity}\r\n              </span>\r\n            </span> */}\r\n            <span\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                position: \"relative\",\r\n                display: \"inline-block\",\r\n                verticalAlign: \"middle\",\r\n                marginRight: \"15px\",\r\n              }}\r\n            >\r\n              View Cart\r\n              <span\r\n                className=\"bag__quantity\"\r\n                style={{ right: \"-80px\", bottom: \"15px\" }}\r\n              >\r\n                {this.context.cartTotal.productQuantity}\r\n              </span>\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        {/* <div\r\n          style={{\r\n            position: \"fixed\",\r\n            bottom: \"-100px\",\r\n            width: \"100%\",\r\n            height: \"50px\",\r\n            zIndex: 99999999,\r\n            backgroundColor: menu_color,\r\n            color: \"white\",\r\n          }}\r\n          // class=\"d-flex align-items-center\"\r\n        >\r\n          View Cart\r\n        </div> */}\r\n\r\n        <div className=\"float-cart__content\">\r\n          <div className=\"float-cart__header\">\r\n            <span className=\"bag\">\r\n              <span className=\"bag__quantity\">\r\n                {this.context.cartTotal.productQuantity}\r\n              </span>\r\n            </span>\r\n            <span className=\"header-title\">Cart</span>\r\n          </div>\r\n\r\n          <div className=\"float-cart__shelf-container\">\r\n            <Component.PageCartChannel />\r\n            {products}\r\n            {!products.length && (\r\n              <p className=\"shelf-empty\">\r\n                Add some products in the cart <br />\r\n                :)\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"float-cart__footer\">\r\n            <CartProgress context={this.context} deliveryFee={deliveryFee} discount={discount}/>\r\n            {this.context.promo_code ? (\r\n              <Button\r\n                onClick={this.openFloatPromo}\r\n                color={\"inherit\"}\r\n                variant={\"contained\"}\r\n                style={{ color: \"black\" }}\r\n              >\r\n                Enter Promo Code\r\n              </Button>\r\n            ) : null}\r\n            <div>\r\n              <div onClick={this.handleClickOpen} className=\"buy-btn\">\r\n                {this.context.channel ? (\r\n                  <span>Order via WhatsApp</span>\r\n                ) : (\r\n                  <span>Choose Delivery/Pick-up</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <Dialog\r\n              fullScreen\r\n              open={this.state.open}\r\n              onClose={this.handleClose}\r\n              TransitionComponent={Transition}\r\n            >\r\n              <Component.PageConfirm\r\n                handleClose={this.handleClose}\r\n                toggle=\"cart\"\r\n              />\r\n            </Dialog>\r\n            <PromoCodeDialog\r\n              promoDialog={this.state.promoDialog}\r\n              openFloatPromo={this.openFloatPromo}\r\n              closeFloatPromo={this.closeFloatPromo}\r\n            />\r\n          </div>\r\n        </div>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nPageCart.contextType = CartContext;\r\n\r\nexport default PageCart;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CartContext } from \"./themeContext\";\r\n// import { formatPrice } from '../../../services/util';\r\nimport motor from \"../assets/motor-delivery.png\";\r\nimport bag from \"../assets/styrofoam-dabao.png\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nclass PageCartChannel extends Component {\r\n  static propTypes = {\r\n    product: PropTypes.object.isRequired,\r\n    removeProduct: PropTypes.func.isRequired,\r\n    changeProductQuantity: PropTypes.func.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMouseOver: false,\r\n    };\r\n  }\r\n\r\n  handleMouseOver = () => {\r\n    this.setState({ isMouseOver: true });\r\n  };\r\n\r\n  handleMouseOut = () => {\r\n    this.setState({ isMouseOver: false });\r\n  };\r\n\r\n  handleOnIncrease = (index) => {\r\n    this.context.addProduct(index);\r\n  };\r\n\r\n  handleOnDecrease = (index) => {\r\n    this.context.removeProduct(index);\r\n  };\r\n\r\n  render() {\r\n    // const { product, img} = this.state;\r\n\r\n    const classes = [\"shelf-channel\"];\r\n\r\n    return (\r\n      <div className={classes.join(\" \")}>\r\n        <div className=\"shelf-item__details\">\r\n          {this.context.channel === \"delivery\" && (\r\n            <span>\r\n              <img\r\n                src={motor}\r\n                style={{\r\n                  flexShrink: \"0\",\r\n                  maxWidth: \"10%\",\r\n                  marginRight: \"10px\",\r\n                }}\r\n                alt=\"delivery\"\r\n              />\r\n              <b>Delivery</b>\r\n            </span>\r\n          )}\r\n          {this.context.channel === \"collect\" && (\r\n            <span>\r\n              <img\r\n                src={bag}\r\n                style={{\r\n                  flexShrink: \"0\",\r\n                  maxWidth: \"10%\",\r\n                  marginRight: \"10px\",\r\n                }}\r\n                alt=\"delivery\"\r\n              />\r\n              <b>Self-Collect</b>\r\n            </span>\r\n          )}\r\n          {this.context.customerDetails.datetime ? (\r\n            <div>\r\n              <small>\r\n                {dayName[this.context.customerDetails.datetime.getDay()] +\r\n                  \" \" +\r\n                  this.context.customerDetails.datetime.getDate() +\r\n                  \" \" +\r\n                  monthNames[this.context.customerDetails.datetime.getMonth()] +\r\n                  \" \" +\r\n                  formatAMPM(this.context.customerDetails.datetime)}\r\n              </small>\r\n            </div>\r\n          ) : null}\r\n          <Button size={\"small\"} variant={\"contained\"} onClick={()=>this.context.toggleDialog()}>Change Option</Button>\r\n          {/* <p className=\"title\">{menu[this.props.product.index].name}</p> */}\r\n          {/* <p className=\"desc\">Quantity: {this.props.product.quantity}</p> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPageCartChannel.contextType = CartContext;\r\nexport default PageCartChannel;\r\n","import React, { useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { CartContext } from \"./themeContext\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport ColorPicker from \"material-ui-color-picker\";\r\nimport firebase, { uiConfigPage } from \"./Firestore\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { db } from \"./Firestore\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nconst analytics = firebase.analytics();\r\n\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.04)\",\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  saveButton: {\r\n    marginLeft: \"auto\",\r\n    backgroundColor: \"green\",\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n  cardMedia: {\r\n    height: 100,\r\n    objectFit: \"scale-down\",\r\n  },\r\n}));\r\n\r\nconst thumbnail = (pic) => {\r\n  return `https://images.weserv.nl/?w=400&url=${encodeURIComponent(pic)}`;\r\n};\r\n\r\nconst DashboardItem = (props) => {\r\n  var addons = [];\r\n  if (props.addon) {\r\n    props.addon.forEach((element, index) => {\r\n      addons.push(\r\n        <React.Fragment>\r\n          <TextField\r\n            label={\"Addon #\" + (index + 1) + \" Name\"}\r\n            id={\"addonname+\" + index + \"-\" + props.index}\r\n            type=\"text\"\r\n            value={element.name}\r\n            style={{ width: \"170px\" }}\r\n            onChange={props.changeField}\r\n          />\r\n          <TextField\r\n            label={\"Addon #\" + (index + 1) + \" Price\"}\r\n            id={\"addonprice+\" + index + \"-\" + props.index}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">$</InputAdornment>\r\n              ),\r\n            }}\r\n            type=\"number\"\r\n            value={element.price}\r\n            style={{ width: \"170px\" }}\r\n            onChange={props.changeField}\r\n          />\r\n        </React.Fragment>\r\n      );\r\n    });\r\n  }\r\n  return (\r\n    <div class=\"page-card\">\r\n      <div\r\n        class=\"card shadow\"\r\n        style={{\r\n          paddingLeft: \"0px !important\",\r\n          paddingRight: \"0px !important\",\r\n        }}\r\n      >\r\n        <div\r\n          class=\"row no-gutters justify-content-center align-items-center\"\r\n          style={{\r\n            paddingLeft: \"0px !important\",\r\n            paddingRight: \"0px !important\",\r\n            marginLeft: \"0px !important\",\r\n            marginRight: \"0px !important\",\r\n          }}\r\n        >\r\n          {props.pic ? (\r\n            <React.Fragment>\r\n              {props.pic === \"loading\" ? (\r\n                <div class=\"col-4 col-xs-3 col-sm-3 col-md-3 col-lg-4 fill\">\r\n                  <div class=\"spinner-border\" role=\"status\">\r\n                    <span class=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div\r\n                  class=\"col-4 col-xs-3 col-sm-3 col-md-3 col-lg-4 fill\"\r\n                  style={{ height: \"180px\" }}\r\n                >\r\n                  <LazyLoadImage\r\n                    src={thumbnail(props.pic)}\r\n                    placeholderSrc={null}\r\n                    class=\"card-img-left\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </React.Fragment>\r\n          ) : null}\r\n          <div\r\n            class=\"col-8 col-xs-9 col-sm-9 col-md-9 col-lg-8 card-text\"\r\n            style={{\r\n              padding: \"10px\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <div class=\"card-block\">\r\n              <p\r\n                class=\"card-page-title align-items-center\"\r\n                style={{ marginBottom: \"0px\" }}\r\n              >\r\n                <span>\r\n                  <TextField\r\n                    required\r\n                    label=\"Name\"\r\n                    id={\"name-\" + props.index}\r\n                    value={props.name}\r\n                    type=\"text\"\r\n                    style={{ width: \"170px\" }}\r\n                    onChange={props.changeField}\r\n                  />\r\n                </span>\r\n              </p>\r\n              <p\r\n                class=\"card-page-title align-items-center\"\r\n                style={{ marginBottom: \"0px\" }}\r\n              >\r\n                <TextField\r\n                  id={\"description-\" + props.index}\r\n                  label=\"Subtitle\"\r\n                  value={props.description}\r\n                  type=\"text\"\r\n                  style={{ width: \"170px\" }}\r\n                  onChange={props.changeField}\r\n                />\r\n              </p>\r\n              <p\r\n                class=\"card-page-title align-items-center\"\r\n                style={{ marginBottom: \"0px\" }}\r\n              >\r\n                <TextField\r\n                  label=\"Price\"\r\n                  id={\"price-\" + props.index}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">$</InputAdornment>\r\n                    ),\r\n                  }}\r\n                  type=\"number\"\r\n                  value={props.price}\r\n                  style={{ width: \"170px\" }}\r\n                  onChange={props.changeField}\r\n                />\r\n              </p>\r\n              <p>\r\n                <Card\r\n                  style={{\r\n                    width: \"100%\",\r\n                    backgroundColor: \"#f5f5f5\",\r\n                    alignContent: \"center\",\r\n                  }}\r\n                >\r\n                  <CardContent>\r\n                    <div>Add Ons (e.g. extra chilli):</div>\r\n                    {addons}\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      component=\"label\"\r\n                      color=\"default\"\r\n                      startIcon={<AddBoxIcon />}\r\n                      style={{ marginBottom: \"5px\", width: \"170px\" }}\r\n                      id={\"addon-\" + props.index}\r\n                      onClick={props.addAddon}\r\n                    >\r\n                      Add One More\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      component=\"label\"\r\n                      color=\"default\"\r\n                      startIcon={<AddBoxIcon />}\r\n                      style={{\r\n                        backgroundColor: \"red\",\r\n                        color: \"white\",\r\n                        marginBottom: \"5px\",\r\n                        width: \"170px\",\r\n                      }}\r\n                      id={\"addon-\" + props.index}\r\n                      onClick={props.deleteAddon}\r\n                    >\r\n                      Delete One\r\n                    </Button>\r\n                  </CardContent>\r\n                </Card>\r\n              </p>\r\n            </div>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              component=\"label\"\r\n              color=\"default\"\r\n              startIcon={<CloudUploadIcon />}\r\n              style={{ marginBottom: \"5px\", width: \"170px\" }}\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                class=\"custom-file-input\"\r\n                id={\"image-\" + props.index}\r\n                style={{ display: \"none\" }}\r\n                onChange={props.changeField}\r\n              />\r\n              {props.pic ? (\r\n                <span>Replace Image</span>\r\n              ) : (\r\n                <span>Upload Image</span>\r\n              )}\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              component=\"label\"\r\n              startIcon={<DeleteIcon />}\r\n              style={{ backgroundColor: \"red\", color: \"white\", width: \"170px\" }}\r\n              id={\"delete-\" + props.index}\r\n              onClick={props.changeField}\r\n            >\r\n              Delete Item\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst compareCheck = (prevProps, nextProps) => {\r\n  return (\r\n    prevProps.name === nextProps.name &&\r\n    prevProps.description === nextProps.description &&\r\n    prevProps.price === nextProps.price &&\r\n    prevProps.pic === nextProps.pic &&\r\n    prevProps.addon === nextProps.addon\r\n  );\r\n};\r\n\r\nconst WrappedDashboardItem = React.memo(DashboardItem, compareCheck);\r\n\r\nconst MenuSettings = (props) => {\r\n  const classes = useStyles();\r\n  const endRef = useRef(null);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const changeField = React.useCallback(\r\n    (e) => {\r\n      props.changeField(e);\r\n      if (\r\n        e.currentTarget.id.substring(0, e.currentTarget.id.indexOf(\"-\")) ===\r\n        \"delete\"\r\n      ) {\r\n        enqueueSnackbar(\"Deleted menu item!\", {\r\n          variant: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    [enqueueSnackbar, props]\r\n  );\r\n\r\n  const scrollToBottom = () => {\r\n    endRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  const addMenuItem = async (props) => {\r\n    await props.addMenuItem();\r\n    enqueueSnackbar(\"Added new menu item!\", {\r\n      variant: \"success\",\r\n    });\r\n    scrollToBottom();\r\n  };\r\n\r\n  return (\r\n    <div className=\"row justify-content-center align-items-center mt-4\">\r\n      <Grid container direction=\"column\">\r\n        <Grid sm={12}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.button}\r\n            startIcon={<AddBoxIcon />}\r\n            onClick={() => addMenuItem(props)}\r\n          >\r\n            Add New Menu Item\r\n          </Button>\r\n        </Grid>\r\n        <Grid container sm={12}>\r\n          {props.data.menu_combined\r\n            ? props.data.menu_combined.map((element, i) => (\r\n                <WrappedDashboardItem\r\n                  name={element[\"name\"]}\r\n                  price={element[\"price\"]}\r\n                  pic={element[\"pic\"]}\r\n                  addon={element[\"addon\"]}\r\n                  description={element[\"description\"]}\r\n                  addAddon={props.addAddon}\r\n                  deleteAddon={props.deleteAddon}\r\n                  key={i}\r\n                  index={i}\r\n                  changeField={changeField}\r\n                />\r\n              ))\r\n            : null}\r\n        </Grid>\r\n        <Grid container sm={12}>\r\n          <div ref={endRef} />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst InfoSettings = (props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        alignContent={\"center\"}\r\n        justify={\"start\"}\r\n        spacing={2}\r\n      >\r\n        <Grid item xs={12} sm={12}>\r\n          {props.cover === \"loading\" ? (\r\n            <div\r\n              class=\"container-fluid row align-items-center justify-content-center no-gutters\"\r\n              style={{\r\n                height: \"200px\",\r\n              }}\r\n            >\r\n              <div class=\"spinner-border\" role=\"status\">\r\n                <span class=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div\r\n              class=\"container-fluid row align-items-center justify-content-start no-gutters\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(rgba(0,0,0,0.5), rgba(255,255,255,0.3)), url(\" +\r\n                  props.cover +\r\n                  \") no-repeat center center\",\r\n                backgroundSize: \"cover\",\r\n                minHeight: \"200px\",\r\n                width: \"100%\",\r\n                alignItems: \"center\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                component=\"label\"\r\n                color=\"default\"\r\n                startIcon={<CloudUploadIcon />}\r\n                style={{ marginBottom: \"5px\", width: \"200px\" }}\r\n              >\r\n                <input\r\n                  type=\"file\"\r\n                  id={\"cover\"}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={props.changeInfo}\r\n                />\r\n                {props.cover ? (\r\n                  <span>Replace Cover Image</span>\r\n                ) : (\r\n                  <span>Upload Cover Image</span>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Card\r\n            style={{ width: \"100%\", height: \"250px\", alignContent: \"center\" }}\r\n          >\r\n            <CardHeader title={\"Logo\"} />\r\n            {props.logo ? (\r\n              <React.Fragment>\r\n                {props.logo === \"loading\" ? (\r\n                  <div class=\"spinner-border\" role=\"status\">\r\n                    <span class=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                ) : (\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    className={classes.cardMedia}\r\n                    image={props.logo}\r\n                    title={\"logo\"}\r\n                  />\r\n                )}\r\n              </React.Fragment>\r\n            ) : null}\r\n            <CardContent>\r\n              <Button\r\n                variant=\"contained\"\r\n                component=\"label\"\r\n                color=\"default\"\r\n                startIcon={<CloudUploadIcon />}\r\n                style={{ marginBottom: \"5px\", width: \"170px\" }}\r\n              >\r\n                <input\r\n                  type=\"file\"\r\n                  id={\"logo\"}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={props.changeInfo}\r\n                />\r\n                {props.logo ? (\r\n                  <span>Replace Logo</span>\r\n                ) : (\r\n                  <span>Upload Logo</span>\r\n                )}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={3}>\r\n          <ColorPicker\r\n            id=\"menu_color\"\r\n            label=\"Theme Color\"\r\n            TextFieldProps={{\r\n              value: props.css.menu_color,\r\n            }}\r\n            value={props.css.menu_color}\r\n            defaultValue={props.css.menu_color}\r\n            onChange={(color) => props.changeColor(color, \"menu_color\")}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={3}>\r\n          <ColorPicker\r\n            id=\"menu_font_color\"\r\n            label=\"Font Color\"\r\n            TextFieldProps={{\r\n              value: props.css.menu_font_color,\r\n            }}\r\n            value={props.css.menu_font_color}\r\n            defaultValue={props.css.menu_font_color}\r\n            onChange={(color) => props.changeColor(color, \"menu_font_color\")}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"name\"\r\n            label=\"Name\"\r\n            multiline\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.name}\r\n            onChange={props.changeInfo}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"description\"\r\n            label=\"Brief Description\"\r\n            multiline\r\n            rows={4}\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.description}\r\n            onChange={props.changeInfo}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"description_detail\"\r\n            label=\"Detailed Description\"\r\n            multiline\r\n            rows={4}\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.description_detail}\r\n            onChange={props.changeInfo}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"delivery_detail\"\r\n            label=\"Delivery Detail\"\r\n            multiline\r\n            rows={4}\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.delivery_detail}\r\n            onChange={props.changeInfo}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"additional_text\"\r\n            label=\"Additional Text added to End Of WhatsApp Message\"\r\n            multiline\r\n            rows={4}\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.additional_text}\r\n            onChange={props.changeInfo}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst DeliverySettings = (props) => {\r\n  const classes = useStyles();\r\n\r\n  var entries = [];\r\n  var keys = [\"5km\", \"10km\", \"15km\", \"20km\", \"25km\", \"30km\"];\r\n  keys.forEach((element) => {\r\n    entries.push(\r\n      <TableRow key={\"Less Than 5km\"}>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          Less than {element}\r\n        </TableCell>\r\n        <TableCell align=\"right\">\r\n          <TextField\r\n            label={element + \"price\"}\r\n            id={\"distance-\" + element}\r\n            value={props.tiered_delivery[element]}\r\n            type=\"text\"\r\n            // style={{ width: \"170px\" }}\r\n            onChange={props.changeDistance}\r\n          />\r\n        </TableCell>\r\n      </TableRow>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        alignContent={\"center\"}\r\n        justify={\"start\"}\r\n        spacing={2}\r\n        style={{ marginTop: \"20px\" }}\r\n      >\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"minimum_order\"\r\n            label=\"Minumum Order Amount e.g. minimum $15\"\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.minimum_order}\r\n            onChange={props.changeInfo}\r\n            type=\"number\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"free_delivery\"\r\n            label=\"Free Delivery Amount e.g. minimum $30 free delivery\"\r\n            style={{ width: \"100%\" }}\r\n            value={props.data.free_delivery}\r\n            onChange={props.changeInfo}\r\n            type=\"number\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={12}>\r\n          <Card\r\n            style={{ width: \"100%\", height: \"auto\", alignContent: \"center\" }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction={\"row\"}\r\n              justify={\"center\"}\r\n              alignContent={\"center\"}\r\n            >\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                sm={6}\r\n                alignContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                style={{ padding: \"20px\" }}\r\n              >\r\n                <FormControl component=\"fieldset\">\r\n                  <FormLabel component=\"legend\">\r\n                    Delivery Price Calculation\r\n                  </FormLabel>\r\n                  <RadioGroup\r\n                    id=\"delivery_option\"\r\n                    value={props.delivery_option}\r\n                    onChange={props.changeDelivery}\r\n                    name=\"delivery_option\"\r\n                  >\r\n                    <FormControlLabel\r\n                      value=\"none\"\r\n                      id=\"delivery_option\"\r\n                      control={<Radio color=\"default\" />}\r\n                      label=\"Don't Include\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"fixed\"\r\n                      id=\"delivery_option\"\r\n                      control={<Radio color=\"default\" />}\r\n                      label=\"Fixed Delivery Price\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"distance\"\r\n                      id=\"delivery_option\"\r\n                      control={<Radio color=\"default\" />}\r\n                      label=\"Calculate by Driving Distance\"\r\n                    />\r\n                  </RadioGroup>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                container\r\n                xs={6}\r\n                sm={6}\r\n                justify={\"flex-start\"}\r\n                style={{ padding: \"10px\" }}\r\n              >\r\n                {props.delivery_option === \"fixed\" && (\r\n                  <React.Fragment>\r\n                    <h5>Fixed Delivery Price</h5>\r\n                    <Grid item xs={12} sm={12}>\r\n                      <TextField\r\n                        id=\"fixed_delivery\"\r\n                        label=\"Fixed Delivery Fee\"\r\n                        style={{ width: \"100%\" }}\r\n                        value={props.fixed_delivery}\r\n                        onChange={props.changePage}\r\n                        type=\"number\"\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">$</InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                  </React.Fragment>\r\n                )}\r\n                {props.delivery_option === \"distance\" && (\r\n                  <React.Fragment>\r\n                    <h5>\r\n                      Delivery Price By Distance (Google Maps Driving Route)\r\n                    </h5>\r\n                    <TableContainer component={Paper}>\r\n                      <Table\r\n                        className={classes.table}\r\n                        aria-label=\"simple table\"\r\n                      >\r\n                        <TableHead>\r\n                          <TableRow>\r\n                            <TableCell>Distance</TableCell>\r\n                            <TableCell align=\"right\">Delivery Price</TableCell>\r\n                          </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>{entries}</TableBody>\r\n                      </Table>\r\n                    </TableContainer>\r\n                  </React.Fragment>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst OrderSettings = (props) => {\r\n  var orders = [];\r\n  let count = props.orders.length\r\n  props.orders.forEach((element, index) => {\r\n    let items = [];\r\n    element.orderItems.forEach((element, index) => {\r\n      items.push(\r\n        <div>\r\n          {element.quantity}\r\n          {\" x \"}\r\n          {element.name}\r\n          {\" - \"}\r\n          {element.price}\r\n        </div>\r\n      );\r\n    });\r\n    let formattedDate = element.customerDetails.date.toDate();\r\n    let time_text =\r\n      dayName[formattedDate.getDay()] +\r\n      \" \" +\r\n      formattedDate.getDate() +\r\n      \" \" +\r\n      monthNames[formattedDate.getMonth()] +\r\n      \" \" +\r\n      formatAMPM(formattedDate);\r\n    let order_text =\r\n      dayName[formattedDate.getDay()] +\r\n      \" \" +\r\n      formattedDate.getDate() +\r\n      \" \" +\r\n      monthNames[formattedDate.getMonth()] +\r\n      \" \" +\r\n      formatAMPM(formattedDate);\r\n\r\n    orders.push(\r\n      <Card\r\n        style={{\r\n          width: \"100%\",\r\n          backgroundColor: \"#f5f5f5\",\r\n          alignContent: \"center\",\r\n          margin: \"5px\",\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <h5>Order # {count - index}</h5>\r\n          <br />\r\n          <h5>Ordered At {order_text}</h5>\r\n          <br />\r\n          <b>Channel: </b> {element.channel}\r\n          <br />\r\n          <b>Cart Total: </b> ${element.cartTotal.totalPrice}(\r\n          {element.cartTotal.productQuantity} items)\r\n          <br />\r\n          <b>Name: </b> {element.customerDetails.name} <br />\r\n          <b>Address: </b> {element.customerDetails.address} #{\" \"}\r\n          {element.customerDetails.unit} <br />\r\n          <b>Contact No.: </b> {element.customerDetails.customerNumber} <br />\r\n          <b>Delivery Time/ Pickup Time: </b> {time_text}\r\n          <br />\r\n          <b>Delivery Fee: </b> ${element.delivery_fee}\r\n          <br />\r\n          <b>Discount: </b> ${element.discount}\r\n          <br />\r\n          <b>Notes: </b>\r\n          {element.customerDetails.notes} <br />\r\n          <b>Order Items: </b> {items} <br />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  });\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        alignContent={\"center\"}\r\n        justify={\"start\"}\r\n        spacing={2}\r\n        style={{ paddingTop: \"20px\" }}\r\n      >\r\n        Orders Sorted by Order Time\r\n        {orders}\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst PromoSettings = (props) => {\r\n  // const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        alignContent={\"center\"}\r\n        justify={\"start\"}\r\n        spacing={2}\r\n      >\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"all_promo\"\r\n            label=\"All Items Promo e.g. 20\"\r\n            style={{ width: \"100%\" }}\r\n            value={props.all_promo}\r\n            onChange={props.changePage}\r\n            type=\"number\"\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"promo_code\"\r\n            label=\"Promo Code (Applies the All Items Promo)\"\r\n            style={{ width: \"100%\" }}\r\n            value={props.promo_code}\r\n            onChange={props.changePage}\r\n            type=\"text\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"selfcollect_promo\"\r\n            label=\"Self-Collect Promo e.g. 20\"\r\n            style={{ width: \"100%\" }}\r\n            value={props.selfcollect_promo}\r\n            onChange={props.changePage}\r\n            type=\"number\"\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"start\">%</InputAdornment>,\r\n            }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst PageDashboardContainer = (props) => {\r\n  const { window } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n  const [tab, setTab] = React.useState(\"Menu\");\r\n  // const context = useContext(CartContext);\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const drawer = (\r\n    <div>\r\n      <div className={classes.toolbar} />\r\n      <Divider />\r\n      <List>\r\n        {[\"Menu\", \"Info\", \"Delivery\", \"Promo\", \"Order\"].map((text, index) => (\r\n          <ListItem button key={text} onClick={() => setTab(text)}>\r\n            <ListItemText primary={text} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  const container =\r\n    window !== undefined ? () => window().document.body : undefined;\r\n\r\n  const updateFields = async () => {\r\n    await props.saveToFirestore().then(() => {\r\n      enqueueSnackbar(\"Successfully saved changes!\", {\r\n        variant: \"success\",\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={classes.appBar}\r\n        style={{ backgroundColor: props.css.menu_color }}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            variant=\"h6\"\r\n            noWrap\r\n            style={{ color: props.css.menu_font_color }}\r\n          >\r\n            {tab === \"Menu\" && <span>Menu Settings</span>}\r\n            {tab === \"Info\" && <span>Info Settings</span>}\r\n            {tab === \"Delivery\" && <span>Delivery Settings</span>}\r\n            {tab === \"Promo\" && <span>Promo Settings</span>}\r\n            {tab === \"Order\" && <span>Order Settings</span>}\r\n          </Typography>\r\n          {props.updating ? (\r\n            <div\r\n              class=\"spinner-border\"\r\n              role=\"status\"\r\n              style={{\r\n                marginLeft: \"auto\",\r\n              }}\r\n            >\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n          ) : (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              className={classes.saveButton}\r\n              startIcon={<SaveIcon />}\r\n              onClick={updateFields}\r\n              disabled={props.updated}\r\n            >\r\n              {props.updated ? \"Saved\" : \"Save\"}\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Hidden smUp implementation=\"css\">\r\n          <Drawer\r\n            container={container}\r\n            variant=\"temporary\"\r\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\r\n            open={mobileOpen}\r\n            onClose={handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden xsDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n      <main className={classes.content}>\r\n        <div className={classes.toolbar} />\r\n        <Grid container alignContent={\"center\"} justify={\"center\"}>\r\n          <Grid\r\n            item\r\n            direction={\"column\"}\r\n            alignContent={\"center\"}\r\n            justify={\"center\"}\r\n            sm={12}\r\n          >\r\n            <Typography variant={\"h6\"}>\r\n              Welcome {props.user.displayName}!\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                props.userSignOut();\r\n              }}\r\n            >\r\n              Sign-out\r\n            </Button>\r\n          </Grid>\r\n          <Grid item sm={12}>\r\n            {tab === \"Menu\" ? (\r\n              <MenuSettings\r\n                pageName={props.pageName}\r\n                data={props.data}\r\n                changeField={props.changeField}\r\n                saveToFirestore={props.saveToFirestore}\r\n                updating={props.updating}\r\n                updated={props.updated}\r\n                addMenuItem={props.addMenuItem}\r\n                addAddon={props.addAddon}\r\n                deleteAddon={props.deleteAddon}\r\n              />\r\n            ) : tab === \"Info\" ? (\r\n              <InfoSettings\r\n                pageName={props.pageName}\r\n                data={props.data}\r\n                changeInfo={props.changeInfo}\r\n                saveToFirestore={props.saveToFirestore}\r\n                updating={props.updating}\r\n                updated={props.updated}\r\n                changeColor={props.changeColor}\r\n                logo={props.logo}\r\n                cover={props.cover}\r\n                css={props.css}\r\n              />\r\n            ) : tab === \"Delivery\" ? (\r\n              <DeliverySettings\r\n                pageName={props.pageName}\r\n                data={props.data}\r\n                changeInfo={props.changeInfo}\r\n                updating={props.updating}\r\n                updated={props.updated}\r\n                changePage={props.changePage}\r\n                fixed_delivery={props.fixed_delivery}\r\n                delivery_option={props.delivery_option}\r\n                changeDelivery={props.changeDelivery}\r\n                tiered_delivery={props.tiered_delivery}\r\n                changeDistance={props.changeDistance}\r\n              />\r\n            ) : tab === \"Promo\" ? (\r\n              <PromoSettings\r\n                pageName={props.pageName}\r\n                data={props.data}\r\n                changeInfo={props.changeInfo}\r\n                saveToFirestore={props.saveToFirestore}\r\n                updating={props.updating}\r\n                updated={props.updated}\r\n                changeColor={props.changeColor}\r\n                logo={props.logo}\r\n                cover={props.cover}\r\n                css={props.css}\r\n                changePage={props.changePage}\r\n                all_promo={props.all_promo}\r\n                selfcollect_promo={props.selfcollect_promo}\r\n                promo_code={props.promo_code}\r\n              />\r\n            ) : tab === \"Order\" ? (\r\n              <OrderSettings orders={props.orders} />\r\n            ) : null}\r\n          </Grid>\r\n        </Grid>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass PageDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firebaseUser: null,\r\n      users: [],\r\n    };\r\n  }\r\n\r\n  userSignOut = () => {\r\n    firebase.auth().signOut();\r\n    this.setState({ firebaseUser: null });\r\n  };\r\n\r\n  componentWillMount() {\r\n    firebase.auth().useDeviceLanguage();\r\n    // window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n    //   \"recaptcha-container\",\r\n    //   {\r\n    //     size: \"invisible\",\r\n    //     callback: function (response) {\r\n    //       // reCAPTCHA solved\r\n    //     },\r\n    //   }\r\n    // );\r\n    var users = [];\r\n    db.collection(\"pages\")\r\n      .doc(this.props.pageName)\r\n      .collection(\"users\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        snapshot.forEach((element) => {\r\n          users.push(element.id);\r\n        });\r\n        this.setState({ users: users });\r\n      });\r\n\r\n    firebase.auth().onAuthStateChanged(\r\n      function (user) {\r\n        if (user) {\r\n          // User is signed in, set state\r\n          // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n          this.setState({\r\n            firebaseUser: user,\r\n            displayName: user.displayName,\r\n            email: user.email ? user.email : null,\r\n            contact: user.phoneNumber ? user.phoneNumber.slice(3) : null,\r\n          });\r\n          onLoad(\"custom_domain\", user.uid);\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      }.bind(this)\r\n    );\r\n\r\n    var orders = [];\r\n    db.collection(\"pages\")\r\n      .doc(this.props.pageName)\r\n      .collection(\"orders\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        snapshot.forEach((element) => {\r\n          orders.push(element.data());\r\n        });\r\n        orders.sort((a, b) => {\r\n          return b.orderTime - a.orderTime;\r\n        });\r\n        this.setState({ orders: orders });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.firebaseUser ? (\r\n          <React.Fragment>\r\n            {this.state.users.includes(this.state.firebaseUser.uid) ? (\r\n              <PageDashboardContainer\r\n                pageName={this.props.pageName}\r\n                data={this.props.data}\r\n                css={this.props.css}\r\n                changeField={this.props.changeField}\r\n                saveToFirestore={this.props.saveToFirestore}\r\n                updating={this.props.updating}\r\n                updated={this.props.updated}\r\n                addMenuItem={this.props.addMenuItem}\r\n                logo={this.props.logo}\r\n                cover={this.props.cover}\r\n                changeInfo={this.props.changeInfo}\r\n                changeColor={this.props.changeColor}\r\n                user={this.state.firebaseUser}\r\n                userSignOut={this.userSignOut}\r\n                changePage={this.props.changePage}\r\n                fixed_delivery={this.props.fixed_delivery}\r\n                delivery_option={this.props.delivery_option}\r\n                changeDelivery={this.props.changeDelivery}\r\n                tiered_delivery={this.props.tiered_delivery}\r\n                changeDistance={this.props.changeDistance}\r\n                all_promo={this.props.all_promo}\r\n                selfcollect_promo={this.props.selfcollect_promo}\r\n                promo_code={this.props.promo_code}\r\n                addAddon={this.props.addAddon}\r\n                deleteAddon={this.props.deleteAddon}\r\n                orders={this.state.orders}\r\n              />\r\n            ) : (\r\n              <React.Fragment>\r\n                <p>You are not authorized to view this page</p>\r\n                <StyledFirebaseAuth\r\n                  uiConfig={uiConfigPage}\r\n                  firebaseAuth={firebase.auth()}\r\n                />\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n        ) : (\r\n          <React.Fragment>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems={\"center\"}\r\n              justifyContent={\"center\"}\r\n              height={\"100vh\"}\r\n            >\r\n              <Grid>\r\n                <Typography>Log In to View Dashboard</Typography>\r\n                <StyledFirebaseAuth\r\n                  uiConfig={uiConfigPage}\r\n                  firebaseAuth={firebase.auth()}\r\n                />\r\n              </Grid>\r\n            </Box>\r\n          </React.Fragment>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nPageDashboard.propTypes = {\r\n  /**\r\n   * Injected by the documentation to work in an iframe.\r\n   * You won't need it on your project.\r\n   */\r\n  window: PropTypes.func,\r\n};\r\nDashboardItem.contextType = CartContext;\r\nexport default PageDashboard;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport \"./style.scss\";\r\nimport { CartContext } from \"./themeContext\";\r\nimport { OverlayTrigger, Popover, Form } from \"react-bootstrap\";\r\nimport { BitlyClient } from \"bitly\";\r\nimport firebase from \"./Firestore\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport TimePicker from \"react-time-picker\";\r\nimport { db } from \"./Firestore\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nconst API_KEY = `${process.env.REACT_APP_GKEY}`;\r\n\r\nconst time_now = new Date();\r\ntime_now.setMinutes(time_now.getMinutes());\r\nconst REACT_APP_BITLY_KEY = `${process.env.REACT_APP_BITLY_KEY}`;\r\nconst bitly = new BitlyClient(REACT_APP_BITLY_KEY, {});\r\nconst analytics = firebase.analytics();\r\n\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nconst shorten = (url) => {\r\n  return bitly.shorten(url).then((d) => {\r\n    return d.link;\r\n  });\r\n};\r\n\r\nconst dayName = [\r\n  \"Sunday\",\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n];\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nfunction formatAMPM(date) {\r\n  var hours = date.getHours();\r\n  var minutes = date.getMinutes();\r\n  var ampm = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return strTime;\r\n}\r\n\r\nconst popover = (\r\n  <Popover>\r\n    <Popover.Content>\r\n      Your details will only be stored in your browser!\r\n    </Popover.Content>\r\n  </Popover>\r\n);\r\n\r\nclass FullScreenDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      orderData:\r\n        this.context && this.context.pageData\r\n          ? new Array(this.context.pageData.menu_combined.length).fill(0)\r\n          : [],\r\n      data: [],\r\n      totalPrice: 0.0,\r\n      wantToOrder: false,\r\n      name: \"\",\r\n      unit: \"\",\r\n      street: \"\",\r\n      postal: \"\",\r\n      notes: \"\",\r\n      customerNumber: \"\",\r\n      deliveryTime: \"\",\r\n      galleryOpened: false,\r\n      retrieved: false,\r\n      activePhoto: 1,\r\n      hasReviewEditMessage: false,\r\n      hasReviewDeleteMessage: false,\r\n      shouldRememberDetails: false,\r\n      time: time_now.getHours() + \":\" + time_now.getMinutes(),\r\n      date: time_now,\r\n      datetime: time_now,\r\n      loading: false,\r\n    };\r\n    this.setOrderText = this.setOrderText.bind(this);\r\n    this.handleCustomerDetails = this.handleCustomerDetails.bind(this);\r\n    this.updateCustomerDetails = this.updateCustomerDetails.bind(this);\r\n    this.toggleShouldRememberDetails = this.toggleShouldRememberDetails.bind(\r\n      this\r\n    );\r\n  }\r\n\r\n  updateCustomerDetails = async (event) => {\r\n    const inputValue = event.target.value;\r\n    const inputField = event.target.name;\r\n    if (inputField === \"postal\") {\r\n      this.setState({\r\n        postal: inputValue,\r\n      });\r\n\r\n      if (inputValue.length === 6 && this.context.channel === \"delivery\") {\r\n        this.getPostal(inputValue);\r\n      }\r\n    }\r\n    this.context.addCustomerDetails(inputField, inputValue);\r\n  };\r\n\r\n  getDirections = async (street, street_to) => {\r\n    const query =\r\n      \"https://fathomless-falls-12833.herokuapp.com/https://maps.googleapis.com/maps/api/directions/json?\" +\r\n      \"mode=driving\" +\r\n      \"&\" +\r\n      \"region=sg\" +\r\n      \"&\" +\r\n      \"units=metric\" +\r\n      \"&\" +\r\n      \"origin=\" +\r\n      street +\r\n      \"&\" +\r\n      \"destination=\" +\r\n      street_to +\r\n      \"&departure_time=\" +\r\n      parseInt(time_now.valueOf() / 1000) +\r\n      \"&\" +\r\n      \"key=\" +\r\n      API_KEY;\r\n\r\n    return fetch(query, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      referrerPolicy: \"no-referrer\",\r\n    })\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((contents) => {\r\n        var distance =\r\n          contents && contents.routes.length > 0\r\n            ? contents.routes[0].legs[0].distance.value\r\n            : 0;\r\n        return distance;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error:\" + error.toString());\r\n      });\r\n  };\r\n\r\n  async getPostal(postal) {\r\n    this.setState({ loading: true });\r\n    let data = await this.callPostal(postal);\r\n    if (data !== undefined && data[\"ADDRESS\"]) {\r\n      this.context.addCustomerDetails(\"street\", data[\"ADDRESS\"]);\r\n    }\r\n    if (this.context.delivery_option === \"distance\" && data[\"ADDRESS\"]) {\r\n      let distance = await this.getDirections(\r\n        this.context.pageData.street,\r\n        data[\"ADDRESS\"]\r\n      );\r\n      await this.context.addDistance(distance);\r\n    }\r\n    this.setState({ loading: false });\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log(\"run\");\r\n    if (localStorage.getItem(\"userDetails\")) {\r\n      const userDetails = JSON.parse(localStorage.getItem(\"userDetails\"));\r\n      this.context.addCustomerDetails(\"name\", userDetails.name);\r\n      this.context.addCustomerDetails(\r\n        \"customerNumber\",\r\n        userDetails.customerNumber\r\n      );\r\n      this.context.addCustomerDetails(\"postal\", userDetails.postal);\r\n      this.context.addCustomerDetails(\"unit\", userDetails.unit);\r\n      this.context.addCustomerDetails(\"street\", userDetails.street);\r\n      if (this.context.channel === \"delivery\") {\r\n        this.getPostal(userDetails.postal);\r\n        // this.setState(userDetails);\r\n      }\r\n      this.setState({ shouldRememberDetails: true });\r\n    }\r\n  }\r\n\r\n  callPostal = (postal) => {\r\n    return fetch(\r\n      \"https://developers.onemap.sg/commonapi/search?searchVal=\" +\r\n        postal +\r\n        \"&returnGeom=Y&getAddrDetails=Y\"\r\n    )\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(\r\n        function (jsonResponse) {\r\n          if (\r\n            jsonResponse !== undefined &&\r\n            jsonResponse[\"results\"] !== undefined\r\n          ) {\r\n            return jsonResponse[\"results\"][0];\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  };\r\n\r\n  toggleShouldRememberDetails(event) {\r\n    const isChecked = event.target.checked;\r\n    this.setState({ shouldRememberDetails: isChecked });\r\n    this.updateSavedData(isChecked);\r\n  }\r\n\r\n  updateSavedData(isChecked) {\r\n    if (!isChecked) {\r\n      localStorage.clear();\r\n    } else {\r\n      const userDetails = {\r\n        name: this.context.customerDetails.name,\r\n        customerNumber: this.context.customerDetails.customerNumber,\r\n        postal: this.context.customerDetails.postal,\r\n        unit: this.context.customerDetails.unit,\r\n        street: this.context.customerDetails.street,\r\n      };\r\n      localStorage.setItem(\"userDetails\", JSON.stringify(userDetails));\r\n    }\r\n  }\r\n\r\n  handleCustomerDetails = async (event) => {\r\n    await this.updateCustomerDetails(event).then(() => {\r\n      this.updateSavedData(this.state.shouldRememberDetails);\r\n    });\r\n  };\r\n\r\n  handleTime = async (time) => {\r\n    this.context.addCustomerDetails(\"time\", time);\r\n    this.context.addCustomerDetails(\r\n      \"datetime\",\r\n      new Date(\r\n        this.context.customerDetails.date.getMonth() +\r\n          1 +\r\n          \"/\" +\r\n          this.context.customerDetails.date.getDate() +\r\n          \"/\" +\r\n          this.context.customerDetails.date.getFullYear() +\r\n          \" \" +\r\n          time\r\n      )\r\n    );\r\n    // this.setState({\r\n    //   time: time,\r\n    //   datetime: new Date(\r\n    //     this.state.date.getMonth() +\r\n    //       1 +\r\n    //       \"/\" +\r\n    //       this.state.date.getDate() +\r\n    //       \"/\" +\r\n    //       this.state.date.getFullYear() +\r\n    //       \" \" +\r\n    //       time\r\n    //   ),\r\n    // });\r\n  };\r\n\r\n  handleDate = async (date) => {\r\n    this.context.addCustomerDetails(\"date\", date);\r\n    this.context.addCustomerDetails(\r\n      \"datetime\",\r\n      new Date(\r\n        date.getMonth() +\r\n          1 +\r\n          \"/\" +\r\n          date.getDate() +\r\n          \"/\" +\r\n          date.getFullYear() +\r\n          \" \" +\r\n          this.context.customerDetails.time\r\n      )\r\n    );\r\n\r\n    // this.setState({\r\n    //   date: date,\r\n    //   datetime: new Date(\r\n    //     date.getMonth() +\r\n    //       1 +\r\n    //       \"/\" +\r\n    //       date.getDate() +\r\n    //       \"/\" +\r\n    //       date.getFullYear() +\r\n    //       \" \" +\r\n    //       this.state.time\r\n    //   ),\r\n    // });\r\n  };\r\n\r\n  setOrderText = async () => {\r\n    const { cartTotal } = this.context;\r\n\r\n    let text = \"\";\r\n    if (this.context.channel === \"delivery\") {\r\n      text =\r\n        text +\r\n        \"New Delivery Order from \" +\r\n        this.context.customerDetails.name +\r\n        \"\\n\";\r\n    } else {\r\n      text =\r\n        text +\r\n        \"New Pick-Up Order from \" +\r\n        this.context.customerDetails.name +\r\n        \"\\n\";\r\n    }\r\n    for (let i = 0; i < this.context.cartProducts.length; i = i + 1) {\r\n      if (\r\n        this.context.cartProducts !== undefined &&\r\n        this.context.cartProducts.length !== 0 &&\r\n        this.context.cartProducts[i].quantity !== 0\r\n      ) {\r\n        let addons = \"\";\r\n        let addonValue = 0;\r\n\r\n        this.context.cartProducts[i].addons.forEach((addonIndex) => {\r\n          addons =\r\n            addons +\r\n            this.context.pageData.menu_combined[\r\n              this.context.cartProducts[i].index\r\n            ].addon[addonIndex].name +\r\n            \"(+$\" +\r\n            this.context.pageData.menu_combined[\r\n              this.context.cartProducts[i].index\r\n            ].addon[addonIndex].price +\r\n            \") \";\r\n          addonValue +=\r\n            Number(\r\n              this.context.pageData.menu_combined[\r\n                this.context.cartProducts[i].index\r\n              ].addon[addonIndex].price\r\n            ) * Number(this.context.cartProducts[i].quantity);\r\n        });\r\n        text =\r\n          text +\r\n          \"*\" +\r\n          this.context.cartProducts[i].quantity +\r\n          \"x* _\" +\r\n          this.context.pageData.menu_combined[\r\n            this.context.cartProducts[i].index\r\n          ].name +\r\n          (addons ? \" - \" + addons : \"\") +\r\n          \"_: $\" +\r\n          (\r\n            Number(\r\n              this.context.cartProducts[i].quantity *\r\n                this.context.pageData.menu_combined[\r\n                  this.context.cartProducts[i].index\r\n                ].price\r\n            ) + addonValue\r\n          ).toFixed(2) +\r\n          \"\\n\";\r\n      }\r\n    }\r\n\r\n    var delivery_fee =\r\n      (cartTotal.totalPrice <= this.context.pageData.free_delivery ||\r\n        this.context.pageData.free_delivery === \"0\") &&\r\n      this.context.delivery_fee\r\n        ? Number(this.context.delivery_fee)\r\n        : 0;\r\n\r\n    var discount = 0;\r\n    if (this.context.promo_code) {\r\n      if (this.context.promo_code_valid)\r\n        discount = this.context.all_promo\r\n          ? (Number(this.context.all_promo) / 100) *\r\n            Number(cartTotal.totalPrice)\r\n          : 0;\r\n    } else {\r\n      discount = this.context.all_promo\r\n        ? (Number(this.context.all_promo) / 100) * Number(cartTotal.totalPrice)\r\n        : 0;\r\n    }\r\n\r\n    if (this.context.channel === \"collect\") {\r\n      discount =\r\n        discount +\r\n        (Number(this.context.selfcollect_promo) / 100) *\r\n          Number(cartTotal.totalPrice);\r\n    }\r\n\r\n    discount = discount.toFixed(2);\r\n\r\n    var totalPrice =\r\n      Number(this.context.cartTotal.totalPrice) +\r\n      Number(delivery_fee) -\r\n      Number(discount);\r\n\r\n    totalPrice = totalPrice.toFixed(2);\r\n\r\n    if (discount !== \"0.00\") {\r\n      text = text + \"\\nPromotion: *-$\" + discount + \"*\";\r\n      if (this.context.promo_code) {\r\n        text = text + \"\\nPromo Code: \" + this.context.promo_code;\r\n      }\r\n    }\r\n\r\n    if (delivery_fee !== 0) {\r\n      text = text + \"\\nDelivery: *$\" + delivery_fee + \"*\";\r\n    }\r\n\r\n    text = text + \"\\nTotal Price: *$\" + totalPrice + \"*\";\r\n\r\n    if (this.context.channel === \"delivery\") {\r\n      text =\r\n        text +\r\n        \"\\nDelivery address: *\" +\r\n        this.context.customerDetails.street +\r\n        \" #\" +\r\n        this.context.customerDetails.unit +\r\n        \" \" +\r\n        this.context.customerDetails.postal +\r\n        \"*\";\r\n    }\r\n\r\n    let time_text =\r\n      dayName[this.context.customerDetails.datetime.getDay()] +\r\n      \" \" +\r\n      this.context.customerDetails.datetime.getDate() +\r\n      \" \" +\r\n      monthNames[this.context.customerDetails.datetime.getMonth()] +\r\n      \" \" +\r\n      formatAMPM(this.context.customerDetails.datetime);\r\n    text = text + \"\\nDate/Time: *\" + time_text + \"*\";\r\n\r\n    if (this.context.customerDetails.notes !== \"\") {\r\n      // only display notes if customer added\r\n      text =\r\n        text +\r\n        \"\\nAdditional notes: _\" +\r\n        this.context.customerDetails.notes +\r\n        \"_\";\r\n    }\r\n    text =\r\n      text +\r\n      \"\\nCustomer phone number: *\" +\r\n      this.context.customerDetails.customerNumber +\r\n      \"*\";\r\n    text = text + \"\\nOrdering from:\" + this.context.pageName + \".foodleh.app\";\r\n\r\n    const storeData = new URLSearchParams();\r\n    storeData.append(\"postal\", this.context.pageData.postal);\r\n    storeData.append(\"street\", this.context.pageData.street);\r\n    storeData.append(\"unit\", this.context.pageData.unit);\r\n    storeData.append(\"contact\", this.context.pageData.contact);\r\n    storeData.append(\"postal_to\", this.context.customerDetails.postal);\r\n    storeData.append(\"street_to\", this.context.customerDetails.street);\r\n    storeData.append(\"unit_to\", this.context.customerDetails.unit);\r\n    storeData.append(\"contact_to\", this.context.customerDetails.customerNumber);\r\n    var shortenedURL = await shorten(\r\n      \"https://foodleh.app/driver?\" + storeData.toString()\r\n    );\r\n    text =\r\n      text + \"\\n For F&B Owner, request for a driver here: \" + shortenedURL;\r\n\r\n    if (this.context.pageData.additional_text) {\r\n      text = text + \"\\n\" + this.context.pageData.additional_text;\r\n    }\r\n\r\n    return encodeURIComponent(text);\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(\"submit\");\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    await this.addOrder();\r\n    var text = await this.setOrderText();\r\n    var url =\r\n      \"https://wa.me/65\" + this.context.pageData.contact + \"?text=\" + text;\r\n    window.location = url;\r\n  };\r\n\r\n  addOrder = () => {\r\n    var orderItems = [];\r\n    for (let i = 0; i < this.context.cartProducts.length; i = i + 1) {\r\n      if (\r\n        this.context.cartProducts !== undefined &&\r\n        this.context.cartProducts.length !== 0 &&\r\n        this.context.cartProducts[i].quantity !== 0\r\n      ) {\r\n        orderItems.push({\r\n          name: this.context.pageData.menu_combined[\r\n            this.context.cartProducts[i].index\r\n          ].name,\r\n          quantity: this.context.cartProducts[i].quantity,\r\n          price: (\r\n            this.context.cartProducts[i].quantity *\r\n            this.context.pageData.menu_combined[\r\n              this.context.cartProducts[i].index\r\n            ].price\r\n          ).toFixed(2),\r\n        });\r\n      }\r\n    }\r\n    const delivery_fee =\r\n      (this.context.cartTotal.totalPrice <=\r\n        this.context.pageData.free_delivery ||\r\n        this.context.pageData.free_delivery === \"0\") &&\r\n      this.context.delivery_fee\r\n        ? Number(this.context.delivery_fee)\r\n        : 0;\r\n\r\n    var discount = 0;\r\n    if (this.context.promo_code) {\r\n      if (this.context.promo_code_valid)\r\n        discount = this.context.all_promo\r\n          ? (Number(this.context.all_promo) / 100) *\r\n            Number(this.context.cartTotal.totalPrice)\r\n          : 0;\r\n    } else {\r\n      discount = this.context.all_promo\r\n        ? (Number(this.context.all_promo) / 100) *\r\n          Number(this.context.cartTotal.totalPrice)\r\n        : 0;\r\n    }\r\n\r\n    if (this.context.channel === \"collect\") {\r\n      discount =\r\n        discount +\r\n        (Number(this.context.selfcollect_promo) / 100) *\r\n          Number(this.context.cartTotal.totalPrice);\r\n    }\r\n\r\n    discount = discount.toFixed(2);\r\n    return db\r\n      .collection(\"pages\")\r\n      .doc(this.context.pageName)\r\n      .collection(\"orders\")\r\n      .add({\r\n        orderItems: orderItems,\r\n        customerDetails: this.context.customerDetails,\r\n        orderTime: new Date(),\r\n        channel: this.context.channel,\r\n        cartTotal: this.context.cartTotal,\r\n        delivery_fee: delivery_fee,\r\n        discount: discount,\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    // var classes = useStyles();\r\n    const menu_color =\r\n      this.context && this.context.css && this.context.css.menu_color\r\n        ? this.context.css.menu_color\r\n        : \"#b48300\";\r\n    const menu_font_color =\r\n      this.context && this.context.css && this.context.css.menu_font_color\r\n        ? this.context.css.menu_font_color\r\n        : \"#ffffff\";\r\n\r\n    return (\r\n      <div>\r\n        {/* <div onClick={this.handleClickOpen} className=\"buy-btn\">\r\n          Order via WhatsApp\r\n        </div>\r\n        <Dialog\r\n          fullScreen\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          TransitionComponent={Transition}\r\n        > */}\r\n        {this.props.toggle === \"cart\" ? (\r\n          <AppBar style={{ position: \"relative\", backgroundColor: menu_color }}>\r\n            <Toolbar>\r\n              <IconButton\r\n                edge=\"start\"\r\n                onClick={this.props.handleClose}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography variant=\"h6\" style={{ flex: 1 }}>\r\n                Confirm Details\r\n              </Typography>\r\n              {/* <Button autoFocus color=\"inherit\" onClick={this.handleClose}>\r\n              save\r\n            </Button> */}\r\n            </Toolbar>\r\n          </AppBar>\r\n        ) : null}\r\n        <Form onSubmit={this.handleSubmit.bind(this)}>\r\n          <div\r\n            class=\"d-flex justify-content-center align-items-center\"\r\n            style={{ padding: \"20px\" }}\r\n          >\r\n            <div>\r\n              <div class=\"form-group create-title\">\r\n                <label for=\"name\">Name</label>\r\n                <input\r\n                  onChange={this.handleCustomerDetails}\r\n                  value={this.context.customerDetails.name}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"name\"\r\n                  style={{ borderColor: \"#b48300\" }}\r\n                  placeholder=\"E.g. Xiao Ming\"\r\n                ></input>\r\n              </div>\r\n              <div class=\"form-group create-title\">\r\n                <label for=\"unit\">Mobile Number: </label>\r\n                <div class=\"input-group mb-12\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                      +65\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    onChange={this.handleCustomerDetails}\r\n                    value={this.context.customerDetails.customerNumber}\r\n                    type=\"tel\"\r\n                    class={\r\n                      !this.context.customerDetails.customerNumber\r\n                        ? \"form-control is-invalid\"\r\n                        : \"form-control\"\r\n                    }\r\n                    name=\"customerNumber\"\r\n                    placeholder=\" 9xxxxxxx\"\r\n                    maxLength=\"8\"\r\n                    minlength=\"8\"\r\n                    pattern=\"[8-9]{1}[0-9]{7}\"\r\n                    style={{\r\n                      borderColor: \"#b48300\",\r\n                      \"border-radius\": \"5px\",\r\n                    }}\r\n                    required\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"flex\" style={{ marginLeft: \"14px\" }}>\r\n                  <div class=\"form-group create-title\">\r\n                    <label for=\"time\">Delivery/Pickup Date</label>\r\n                    {/* {this.context.customerDetails.date.toISOString()} */}\r\n                    <div class=\"input-group\">\r\n                      <DatePicker\r\n                        class=\"form-control is-invalid\"\r\n                        dayPlaceholder=\"dd\"\r\n                        monthPlaceholder=\"mm\"\r\n                        yearPlaceholder=\"yyyy\"\r\n                        onChange={this.handleDate}\r\n                        value={this.context.customerDetails.date}\r\n                        format=\"dd/MMM/yyyy\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"flex\" style={{ marginLeft: \"14px\" }}>\r\n                  <div class=\"form-group create-title\">\r\n                    <label for=\"time\">Delivery/Pickup Time</label>{\" \"}\r\n                    <div class=\"input-group\">\r\n                      <TimePicker\r\n                        class=\"form-control is-invalid\"\r\n                        dayPlaceholder=\"dd\"\r\n                        monthPlaceholder=\"mm\"\r\n                        yearPlaceholder=\"yyyy\"\r\n                        hourPlaceholder=\"hh\"\r\n                        minutePlaceholder=\"mm\"\r\n                        onChange={this.handleTime}\r\n                        value={this.context.customerDetails.time}\r\n                        format=\"hh:mma\"\r\n                        disableClock\r\n                        required\r\n                      />\r\n                      {time_now > this.context.customerDetails.datetime ? (\r\n                        <span class=\"badge badge-danger\">\r\n                          Time cannot be earlier than now\r\n                        </span>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {this.context.channel === \"delivery\" ? (\r\n                <div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\r\n                      <div class=\"form-group create-title\">\r\n                        <label for=\"postalcode\">Postal Code</label>\r\n                        <div class=\"input-group\">\r\n                          <input\r\n                            onChange={this.handleCustomerDetails}\r\n                            value={this.context.customerDetails.postal}\r\n                            type=\"text\"\r\n                            class={\r\n                              !this.context.customerDetails.postal\r\n                                ? \"form-control is-invalid\"\r\n                                : \"form-control\"\r\n                            }\r\n                            name=\"postal\"\r\n                            placeholder=\"Enter Postal Code\"\r\n                            maxLength=\"6\"\r\n                            required\r\n                          ></input>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\r\n                      <div class=\"form-group create-title\">\r\n                        <label for=\"unit\">Unit #</label>\r\n                        <input\r\n                          onChange={this.handleCustomerDetails}\r\n                          value={this.context.customerDetails.unit}\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          name=\"unit\"\r\n                          placeholder=\"E.g. 01-01\"\r\n                        ></input>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                      <div class=\"form-group create-title\">\r\n                        <label for=\"street\">\r\n                          Street Name<b> (Auto-Filled)</b>\r\n                        </label>\r\n                        <input\r\n                          onChange={this.handleCustomerDetails}\r\n                          value={this.context.customerDetails.street}\r\n                          type=\"text\"\r\n                          class={\r\n                            !this.context.customerDetails.street\r\n                              ? \"form-control is-invalid\"\r\n                              : \"form-control\"\r\n                          }\r\n                          name=\"street\"\r\n                          placeholder=\"Enter Street Name\"\r\n                        ></input>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  {this.context.delivery_option === \"distance\" ? (\r\n                    <React.Fragment>\r\n                      {this.context.delivery_fee ? (\r\n                        <div class=\"row\">\r\n                          <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                            <b>Distance:</b> {this.context.distance / 1000}km{\" \"}\r\n                            <br />\r\n                            <b>Delivery Cost:</b> ${this.context.delivery_fee}{\" \"}\r\n                            <br />\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <React.Fragment>\r\n                          {this.state.loading ? (\r\n                            <Spinner class=\"\" animation=\"grow\" />\r\n                          ) : (\r\n                            <div class=\"row\">\r\n                              <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n                                <b>\r\n                                  Please key in postal code to get delivery\r\n                                  price.{\" \"}\r\n                                </b>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </React.Fragment>\r\n                      )}\r\n                    </React.Fragment>\r\n                  ) : null}\r\n                </div>\r\n              ) : null}\r\n\r\n              <br />\r\n              <div class=\"form-group create-title\">\r\n                <label for=\"address\">Comments</label>\r\n                <input\r\n                  onChange={this.handleCustomerDetails}\r\n                  value={this.context.customerDetails.notes}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"notes\"\r\n                  style={{\r\n                    borderColor: \"#b48300\",\r\n                  }}\r\n                  placeholder=\"No chilli etc, leave blank if nil\"\r\n                ></input>\r\n              </div>\r\n              <div class=\"form-group create-title\">\r\n                <OverlayTrigger\r\n                  trigger={[\"hover\", \"focus\"]}\r\n                  placement=\"top\"\r\n                  overlay={popover}\r\n                >\r\n                  <label for=\"remember\">Remember me?</label>\r\n                </OverlayTrigger>\r\n                <input\r\n                  name=\"shouldRememberDetails\"\r\n                  type=\"checkbox\"\r\n                  checked={this.state.shouldRememberDetails}\r\n                  onChange={this.toggleShouldRememberDetails}\r\n                  style={{\r\n                    marginLeft: \"10px\",\r\n                  }}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                For any problems, please contact{\" \"}\r\n                <a href={\"https://wa.me/65\" + this.context.pageData.contact}>\r\n                  {this.context.pageData.contact}{\" \"}\r\n                </a>\r\n                directly.\r\n              </div>\r\n              <br />\r\n              {this.props.toggle === \"cart\" ? (\r\n                <React.Fragment>\r\n                  {!this.state.loading ? (\r\n                    <React.Fragment>\r\n                      <div class=\"row d-flex justify-content-center\">\r\n                        <Button\r\n                          type=\"submit\"\r\n                          variant={\"contained\"}\r\n                          style={{\r\n                            backgroundColor: menu_color,\r\n                            borderColor: menu_color,\r\n                            width: \"300px\",\r\n                            color: menu_font_color,\r\n                          }}\r\n                          disabled={this.state.loading}\r\n                          onClick={() =>\r\n                            onLoad(\"place_order_custom\", this.state.name)\r\n                          }\r\n                        >\r\n                          Place order via WhatsApp\r\n                        </Button>\r\n                      </div>\r\n                      <div class=\"row d-flex\">\r\n                        By placing order via this platform, you agree to our{\" \"}\r\n                        <a href=\"https://foodleh.app/privacy\">\r\n                          {\" \"}\r\n                          Privacy Policy\r\n                        </a>\r\n                      </div>\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <React.Fragment>\r\n                      <Spinner class=\"\" animation=\"grow\" />{\" \"}\r\n                      <span>Loading...</span>\r\n                    </React.Fragment>\r\n                  )}\r\n                </React.Fragment>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </Form>\r\n        {/* </Dialog> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFullScreenDialog.contextType = CartContext;\r\nexport default FullScreenDialog;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"../App.css\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { db, uiConfigPage } from \"./Firestore\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport firebase from \"./Firestore\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport custom from \"../assets/custom.png\";\r\nconst analytics = firebase.analytics();\r\nconst admin = `${process.env.REACT_APP_ADMIN}`;\r\n\r\nfunction onLoad(name, item) {\r\n  analytics.logEvent(name, { name: item });\r\n}\r\n\r\nexport class Custom extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      step: 0,\r\n      open: false,\r\n      options: [],\r\n      id: \"\",\r\n      available: null,\r\n      name: null,\r\n      fullname: null,\r\n      creating: false,\r\n      created: false,\r\n      invalid: false,\r\n      firebaseUser: null,\r\n      login: false,\r\n    };\r\n  }\r\n\r\n  increaseStep = () => {\r\n    this.setState({ step: this.state.step + 1 });\r\n  };\r\n\r\n  decreaseStep = () => {\r\n    this.setState({ step: this.state.step - 1 });\r\n  };\r\n\r\n  getSteps = () => {\r\n    return [\r\n      \"Step 1: Create Account\",\r\n      \"Step 2: Select Your Listing\",\r\n      \"Step 3: Create Your Unique Link!\",\r\n      \"Step 4: Create Your Website\",\r\n    ];\r\n  };\r\n\r\n  setOpen = () => {\r\n    this.retrieveData();\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  setClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  retrieveData = async () => {\r\n    let data = [];\r\n    await db\r\n      .collection(\"hawkers\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        var data = [];\r\n        snapshot.forEach((element) => {\r\n          if (!element.data().custom)\r\n            data.push({\r\n              name: element.data().name,\r\n              id: element.id,\r\n              cover: element.data().url ? element.data().url : null,\r\n            });\r\n        });\r\n        this.setState({ options: data });\r\n        return data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    this.setState({ data: data, retrieved: true });\r\n  };\r\n\r\n  createDomain = async () => {\r\n    this.setState({ creating: true });\r\n    await db\r\n      .collection(\"pages\")\r\n      .doc(this.state.name)\r\n      .set({\r\n        css: { menu_color: \"\", menu_font_color: \"\" },\r\n        docid: this.state.id,\r\n        logo: \"\",\r\n        cover: this.state.cover,\r\n        delivery_option: \"none\",\r\n      })\r\n      .then(async (d) => {\r\n        await db\r\n          .collection(\"pages\")\r\n          .doc(this.state.name)\r\n          .collection(\"users\")\r\n          .doc(this.state.firebaseUser.uid)\r\n          .set({\r\n            role: \"admin\",\r\n          });\r\n        await db\r\n          .collection(\"pages\")\r\n          .doc(this.state.name)\r\n          .collection(\"users\")\r\n          .doc(admin)\r\n          .set({\r\n            role: \"admin\",\r\n          });\r\n        await db.collection(\"hawkers\").doc(this.state.id).update({\r\n          custom: true,\r\n          takesg: false,\r\n        });\r\n        this.setState({ creating: false, created: true });\r\n      });\r\n  };\r\n\r\n  checkAvailable = async () => {\r\n    if (\r\n      this.state.name !== \"\" &&\r\n      this.state.name !== null &&\r\n      /[^\\w]|_|\\s/g.test(this.state.name) !== true\r\n    ) {\r\n      this.setState({ invalid: false });\r\n      await db\r\n        .collection(\"pages\")\r\n        .doc(this.state.name)\r\n        .get()\r\n        .then((snapshot) => {\r\n          if (snapshot.exists) {\r\n            this.setState({ available: false });\r\n          } else {\r\n            this.setState({ available: true });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      this.setState({ invalid: true });\r\n    }\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ name: event.target.value.toLowerCase(), available: null });\r\n  };\r\n\r\n  componentDidMount() {\r\n    firebase.auth().useDeviceLanguage();\r\n    // window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n    //   \"recaptcha-container\",\r\n    //   {\r\n    //     size: \"invisible\",\r\n    //     callback: function (response) {\r\n    //       // reCAPTCHA solved\r\n    //     },\r\n    //   }\r\n    // );\r\n\r\n    firebase.auth().onAuthStateChanged(\r\n      function (user) {\r\n        if (user) {\r\n          // User is signed in, set state\r\n          // More auth information can be obtained here but for verification purposes, we just need to know user signed in\r\n          console.log(user);\r\n          this.setState({\r\n            firebaseUser: user,\r\n            displayName: user.displayName,\r\n            email: user.email ? user.email : null,\r\n            contact: user.phoneNumber ? user.phoneNumber.slice(3) : null,\r\n          });\r\n          onLoad(\"custom_domain\", user.uid);\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      }.bind(this)\r\n    );\r\n  }\r\n\r\n  getStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <React.Fragment>\r\n            {this.state.firebaseUser ? (\r\n              <div style={{ color: \"green\" }}>\r\n                <p>\r\n                  <b>\r\n                    Verified: <br />\r\n                    {this.state.firebaseUser.phoneNumber}\r\n                    <br />\r\n                    {this.state.firebaseUser.displayName}\r\n                    <br />\r\n                    {this.state.firebaseUser.email}\r\n                    <br />\r\n                    <br />\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      onClick={() => {\r\n                        firebase.auth().signOut();\r\n                        this.setState({ firebaseUser: null });\r\n                      }}\r\n                    >\r\n                      Sign-out\r\n                    </Button>\r\n                  </b>\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {!this.state.login && (\r\n                  <div>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                      onClick={() => this.setState({ login: true })}\r\n                    >\r\n                      Create Account/ Login\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n                {this.state.login && (\r\n                  <StyledFirebaseAuth\r\n                    uiConfig={uiConfigPage}\r\n                    firebaseAuth={firebase.auth()}\r\n                  />\r\n                )}\r\n                <br />\r\n              </div>\r\n            )}\r\n          </React.Fragment>\r\n        );\r\n      case 1:\r\n        return (\r\n          <div>\r\n            <div>\r\n              If you have not created a listing, please go to<span> </span>\r\n              <a href=\"/create\" target=\"blank\">\r\n                {\" \"}\r\n                www.foodleh.app/create{\" \"}\r\n              </a>{\" \"}\r\n              first!\r\n              <br />\r\n            </div>\r\n            <div\r\n              class=\"d-flex row justify-content-center\"\r\n              style={{ margin: \"15px\" }}\r\n            >\r\n              <Autocomplete\r\n                id=\"asynchronous-demo\"\r\n                style={{ width: \"250px\" }}\r\n                open={this.state.open}\r\n                onOpen={() => {\r\n                  this.setOpen();\r\n                }}\r\n                onClose={() => {\r\n                  this.setClose();\r\n                }}\r\n                getOptionSelected={(option, value) =>\r\n                  option.name === value.name\r\n                }\r\n                getOptionLabel={(option) => option.name}\r\n                options={this.state.options}\r\n                loading={this.state.open && this.state.options.length === 0}\r\n                onChange={(event, newValue) => {\r\n                  newValue\r\n                    ? this.setState({\r\n                        id: newValue.id,\r\n                        fullname: newValue.name,\r\n                        cover: newValue.cover,\r\n                      })\r\n                    : this.setState({ id: null, fullname: null, cover: null });\r\n                }}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label=\"Choose Your Listing\"\r\n                    variant=\"outlined\"\r\n                    InputProps={{\r\n                      ...params.InputProps,\r\n                      endAdornment: (\r\n                        <React.Fragment>\r\n                          {this.state.open &&\r\n                          this.state.options.length === 0 ? (\r\n                            <CircularProgress color=\"inherit\" size={20} />\r\n                          ) : null}\r\n                          {params.InputProps.endAdornment}\r\n                        </React.Fragment>\r\n                      ),\r\n                    }}\r\n                  />\r\n                )}\r\n              />\r\n            </div>\r\n            <br />\r\n            {this.state.id ? (\r\n              <div style={{ wordWrap: \"break-word\" }}>\r\n                You selected{\" \"}\r\n                <a target=\"blank\" href={\"/info?id=\" + this.state.id}>\r\n                  this\r\n                </a>{\" \"}\r\n                listing\r\n                <br />\r\n                <br />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      case 2:\r\n        return (\r\n          <div>\r\n            <TextField\r\n              label=\"Name\"\r\n              name=\"name\"\r\n              placeholder=\"e.g. huathuat\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">.foodleh.app</InputAdornment>\r\n                ),\r\n              }}\r\n              value={this.state.name}\r\n              onChange={this.handleChange}\r\n            />\r\n            <br />\r\n            {this.state.invalid ? (\r\n              <div style={{ color: \"red\" }}>\r\n                Must not be empty, contain spaces, or contain punctuation.\r\n              </div>\r\n            ) : null}\r\n\r\n            <br />\r\n            <Button\r\n              onClick={this.checkAvailable}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n            >\r\n              Check Availability\r\n            </Button>\r\n            <br />\r\n            <br />\r\n            {this.state.available !== null ? (\r\n              <div>\r\n                {this.state.available ? (\r\n                  <div style={{ color: \"green\" }}>\r\n                    {this.state.name}.foodleh.app is <b>Available</b>\r\n                    <br />\r\n                    <br />\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ color: \"red\" }}>\r\n                    {this.state.name}.foodleh.app is <b>Not Available</b>\r\n                    <br />\r\n                    <br />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      case 3:\r\n        return (\r\n          <div>\r\n            You're ready to create your subdomain!\r\n            <br />\r\n            <br />\r\n            <Button\r\n              onClick={() => this.createDomain()}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={this.state.created || this.state.creating}\r\n              style={{ margin: \"10px\" }}\r\n            >\r\n              Create Custom Website\r\n            </Button>\r\n            <br />\r\n            <br />\r\n            {this.state.created ? (\r\n              <div>\r\n                <h4 style={{ color: \"green\" }}>Success! </h4>\r\n                <h5>\r\n                  Website created at{\" \"}\r\n                  <a\r\n                    href={\"https://\" + this.state.name + \".foodleh.app\"}\r\n                    target=\"blank\"\r\n                  >\r\n                    https://{this.state.name}.foodleh.app\r\n                  </a>\r\n                </h5>\r\n                <h5>\r\n                  Edit website at:{\" \"}\r\n                  <a\r\n                    href={\r\n                      \"https://\" + this.state.name + \".foodleh.app/dashboard\"\r\n                    }\r\n                    target=\"blank\"\r\n                  >\r\n                    https://{this.state.name}.foodleh.app/dashboard\r\n                  </a>\r\n                </h5>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      default:\r\n        return \"Unknown step\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    var steps = this.getSteps();\r\n    return (\r\n      <div class=\"container\" style={{ paddingTop: \"56px\", width: \"100%\" }}>\r\n        <div class=\"d-flex justify-content-center\">\r\n          <div class=\"col-md-8 col-xs-12\">\r\n            <img src={custom} style={{ width: \"100%\" }} alt=\"header\" />\r\n          </div>\r\n        </div>\r\n        <Stepper activeStep={this.state.step} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>\r\n                <h4>{label}</h4>\r\n              </StepLabel>\r\n              <StepContent>\r\n                <div class=\"d-flex justify-content-center\">\r\n                  {this.getStepContent(index)}\r\n                </div>\r\n                <div>\r\n                  <div>\r\n                    {this.state.step !== 3 ? (\r\n                      <div>\r\n                        <Button\r\n                          disabled={\r\n                            this.state.step === 0 || this.state.step === 3\r\n                          }\r\n                          onClick={this.decreaseStep}\r\n                        >\r\n                          Back\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          onClick={this.increaseStep}\r\n                          disabled={\r\n                            this.state.step === 0\r\n                              ? !this.state.firebaseUser\r\n                              : (this.state.step === 1 ? this.state.id : true)\r\n                              ? this.state.step === 2\r\n                                ? !this.state.available\r\n                                : false\r\n                              : true\r\n                          }\r\n                        >\r\n                          Next\r\n                        </Button>\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n        </Stepper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Custom;\r\n","import React from \"react\";\r\n\r\nclass PrivacyPolicy extends React.Component {\r\n  render() {\r\n    return (\r\n      <div style={{ paddingTop: \"70px\" }}>\r\n        PERSONAL DATA PROTECTION POLICY <br />\r\n        <br /> <b>Purpose</b> This Personal Data Protection Policy (\"Policy\")\r\n        sets out the ways in which the FoodLeh collects, uses, discloses and\r\n        retains personal information in order to carry out our activities and\r\n        operations; and the measures we take to protect your personal\r\n        information. The Policy is designed to meet the requirements of\r\n        Singapore’s personal data protection laws. <b>Application of Policy</b>{\" \"}\r\n        When you become a member of FoodLeh, you agree to the terms of this\r\n        Policy as updated from time to time. This Policy applies to all FoodLeh\r\n        members, non-members, users and content providers. From time to time,\r\n        FoodLeh will update this Policy to ensure that this Policy is consistent\r\n        with any changes in legal requirements. You are encouraged to\r\n        periodically review this Policy to be informed of how FoodLeh is\r\n        protecting your information.{\" \"}\r\n        <b>Types of Personal Information collected</b> Our Policy applies to\r\n        personal information that FoodLeh collects, uses and discloses in order\r\n        to carry out FoodLeh’s activities and operations; and to enable you to\r\n        access our website and dashboards. Personal information is any\r\n        information that can identify an individual or information about an\r\n        identifiable individual, such as an individual’s home address, telephone\r\n        number, or a member’s transaction activity in relation to FoodLeh\r\n        activities. When a member makes an order on FoodLeh, we may collect\r\n        identifying information, such as (but not limited to) the member’s name,\r\n        address, and telephone number. This Policy does not apply to aggregated\r\n        information which summarises statistical information about groups of\r\n        members, and which does not include name, contact information, or any\r\n        other information that would allow any particular individual to be\r\n        identified. <b>How we collect your Personal Information</b>\r\n        Much of the personal information we collect comes from you, such as when\r\n        you apply for membership or make orders through FoodLeh. We collect\r\n        personal information, unless such is prohibited by legislation, when you\r\n        contact us, register with us or when you require our services. Use of\r\n        your Personal Information FoodLeh collects and uses your personal\r\n        information to operate FoodLeh’s website, deliver the goods and/or\r\n        services you have requested, and to administer FoodLeh’s activities.\r\n        FoodLeh also uses your personally identifiable information to inform\r\n        merchants of their transaction history. FoodLeh may also contact you via\r\n        surveys to conduct research about your opinion of current services or of\r\n        potential new services that may be offered. FoodLeh does not sell, rent\r\n        or lease its member/customer lists to third parties. FoodLeh may share\r\n        data with trusted partners in order to administer your membership, to\r\n        help us perform statistical analysis, send you email or postal mail,\r\n        provide customer support, or arrange for deliveries. All such third\r\n        parties are prohibited from using your personal information except to\r\n        provide these services to FoodLeh, and they are required to maintain the\r\n        confidentiality of your information. FoodLeh keeps track of the websites\r\n        and pages our members and customers visit within FoodLeh, in order to\r\n        determine what FoodLeh services are the most popular. If you are only\r\n        browsing the website of the FoodLeh, FoodLeh does not capture data that\r\n        allows it to identify you individually. Where permitted under the\r\n        Personal Data Protection Act, your Personal Data may be disclosed to\r\n        FoodLeh’s Preferred Partners in connection with services offered by\r\n        these Preferred Partners. Preferred Partners are organisations which\r\n        share a business relationship with FoodLeh in areas such as marketing\r\n        collaborations and co-branding. However, please be assured that we do\r\n        not disclose your Personal Data to our Preferred Partners for the\r\n        purposes of the above unless your consent is expressly obtained.{\" \"}\r\n        <b>Security of your Personal Information</b> FoodLeh secures your\r\n        personal information from unauthorised access, use or disclosure.\r\n        FoodLeh secures the personally identifiable information you provide on\r\n        computer servers in a controlled, secure environment, protected from\r\n        unauthorised access, use or disclosure. FoodLeh will not share your\r\n        personal information with third parties without your permission, except\r\n        if required by law or a court order to do so. Withdrawing consent The\r\n        collection and handling of certain personal information is necessary to\r\n        maintain your membership and/or for processing transactions. You may,\r\n        however, opt out of the collection and/or handling of your personal\r\n        information for other purposes — including opting out of receiving\r\n        marketing and promotional material from the FoodLeh group*. Contact\r\n        Information If you have any questions or feedback relating to your\r\n        Personal Data or our Data Protection Policy, please contact us at:\r\n        foodleh@outlook.com\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PrivacyPolicy;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport Home from \"./Home\";\r\nimport Menu from \"./Menu\";\r\nimport Create from \"./Create\";\r\nimport Listing from \"./Listing\";\r\nimport Item from \"./Item\";\r\nimport Results from \"./Results\";\r\nimport Info from \"./Info\";\r\nimport About from \"./About\";\r\nimport Popup from \"./Popup\";\r\nimport SearchAll from \"./SearchAll\";\r\nimport SearchAll_modified from \"./SearchAll_modified\";\r\nimport SearchAll_iv2 from \"./SearchAll_iv2\";\r\nimport SearchAll_iv3 from \"./SearchAll_iv3\";\r\nimport ListForm from \"./ListForm\";\r\nimport ItemRendered from \"./ItemRendered\";\r\nimport Driver from \"./Driver\";\r\nimport Delivery from \"./Delivery\";\r\nimport Orders from \"./Orders\";\r\nimport Deliveries from \"./Deliveries\";\r\nimport Search from \"./Search\";\r\nimport Page from \"./Page\";\r\nimport PageAbout from \"./PageAbout\";\r\nimport PageItem from \"./PageItem\";\r\nimport PageCart from \"./PageCart\";\r\nimport PageCartChannel from \"./PageCartChannel\";\r\nimport PageDashboard from \"./PageDashboard\";\r\nimport PageConfirm from \"./PageConfirm\";\r\nimport Custom from \"./Custom\";\r\nimport PrivacyPolicy from \"./PrivacyPolicy\";\r\n\r\nimport { db, storage } from \"./Firestore\";\r\n\r\nexport default {\r\n  Home,\r\n  Menu,\r\n  Create,\r\n  Listing,\r\n  Item,\r\n  Results,\r\n  Info,\r\n  About,\r\n  Popup,\r\n  SearchAll,\r\n  SearchAll_modified,\r\n  SearchAll_iv2,\r\n  SearchAll_iv3,    \r\n  ListForm,\r\n  ItemRendered,\r\n  Driver,\r\n  Delivery,\r\n  Orders,\r\n  Deliveries,\r\n  Search,\r\n  Page,\r\n  PageAbout,\r\n  PageItem,\r\n  PageCart,\r\n  PageCartChannel,\r\n  PageConfirm,\r\n  Custom,\r\n  PageDashboard,\r\n  PrivacyPolicy,\r\n  db,\r\n  storage,\r\n};\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport \"./App.css\";\r\n// import 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport Components from \"./Components\";\r\nimport Cookies from \"universal-cookie\";\r\nimport en from \"./assets/translations/en.json\";\r\nimport zh from \"./assets/translations/zh.json\";\r\nimport { LanguageContext, CartContext } from \"./Components/themeContext\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { db, storage } from \"./Components/Firestore\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport update from \"immutability-helper\";\r\nimport Jimp from \"jimp\";\r\nimport Button from \"@material-ui/core/Button\";\r\nconst time_now = new Date();\r\n\r\ntime_now.setMinutes(time_now.getMinutes());\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: \"#F0AE00\",\r\n      main: \"#b48300\",\r\n      dark: \"#b48300\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    secondary: {\r\n      light: \"#ffffff\",\r\n      main: \"#ffffff\",\r\n      dark: \"#ffffff\",\r\n      contrastText: \"#000\",\r\n    },\r\n  },\r\n  typography: {\r\n    fontFamily: '\"Open Sans\", \"Roboto\", \"Arial\", sans-serif',\r\n    fontSize: 14,\r\n    fontWeightLight: 300,\r\n    fontWeightRegular: 400,\r\n    fontWeightMedium: 500,\r\n  },\r\n});\r\n\r\nconst cookies = new Cookies();\r\nif (cookies.get(\"language\") === null || cookies.get(\"language\") === undefined) {\r\n  cookies.set(\"language\", \"en\", { path: \"/\" });\r\n}\r\n\r\nconst notistackRef = React.createRef();\r\nconst onClickDismiss = (key) => () => {\r\n  notistackRef.current.closeSnackbar(key);\r\n};\r\n\r\nconst arraysMatch = function (arr1, arr2) {\r\n  // Check if the arrays are the same length\r\n\r\n  if (!arr1 && !arr2) return true;\r\n\r\n  if (arr1 && !arr2) return false;\r\n\r\n  if (!arr1 && arr2) return false;\r\n\r\n  if (arr1.length !== arr2.length) return false;\r\n\r\n  // Check if all items exist and are in the same order\r\n  for (var i = 0; i < arr1.length; i++) {\r\n    if (arr1[i] !== arr2[i]) return false;\r\n  }\r\n\r\n  // Otherwise, return true\r\n  return true;\r\n};\r\n\r\n// {/* This will only be useful if we convert to server-side rendering ie not CRA */}\r\nfunction SeoHelmet() {\r\n  const description =\r\n    \"Save our local F&B! FoodLeh? is a nonprofit crowdsourced hawker directory relying on Singaporeans to share information about our local F&B places.\";\r\n  const url = \"https://www.foodleh.app/\";\r\n  const keywords = \"hawker food delivery and dabao Singapore circuit breaker\";\r\n  const image_url =\r\n    \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/foodleh.png?alt=media&token=3fce2813-7eba-4e5a-8cbe-47119c1512f9\";\r\n  const home_url =\r\n    \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/homepage.png?alt=media&token=93f830c3-b6fa-4311-bf43-8168de5d580a\";\r\n  return (\r\n    <Helmet>\r\n      <meta charSet=\"utf-8\" />\r\n      <title>FoodLeh?</title>\r\n      <link rel=\"canonical\" href={url} />\r\n      <link rel=\"icon\" type=\"image/png\" href={image_url} sizes=\"16x16\" />\r\n      <meta name=\"description\" content={description} />\r\n      <meta name=\"og:description\" content={description} />\r\n      <meta name=\"og:url\" content={url} />\r\n      <meta name=\"og:image\" content={home_url} />\r\n      <meta name=\"keywords\" content={keywords} />\r\n      {/* Facebook meta tags */}\r\n      <meta property=\"og:description\" content={description} />\r\n      <meta property=\"og:url\" content={url} />\r\n      <meta property=\"og:image\" content={home_url} />\r\n      <meta property=\"fb:pages\" content=\"108930167461424\"></meta>\r\n      <meta property=\"ia:markup_url\" content={url}></meta>\r\n    </Helmet>\r\n  );\r\n}\r\n\r\n// {/* This will only be useful if we convert to server-side rendering ie not CRA */}\r\nfunction PersonalHelmet(props) {\r\n  const description =\r\n    \"Save our local F&B! FoodLeh? is a nonprofit crowdsourced hawker directory relying on Singaporeans to share information about our local F&B places.\";\r\n  const url = \"https://www.foodleh.app/\";\r\n  const keywords = \"hawker food delivery and dabao Singapore circuit breaker\";\r\n  const image_url = props.logo\r\n    ? props.logo\r\n    : \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/foodleh.png?alt=media&token=3fce2813-7eba-4e5a-8cbe-47119c1512f9\";\r\n  const home_url =\r\n    \"https://firebasestorage.googleapis.com/v0/b/hawkercentral.appspot.com/o/homepage.png?alt=media&token=93f830c3-b6fa-4311-bf43-8168de5d580a\";\r\n  return (\r\n    <Helmet>\r\n      <meta charSet=\"utf-8\" />\r\n      <title>{props.name}</title>\r\n      <link rel=\"canonical\" href={url} />\r\n      <link rel=\"icon\" type=\"image/png\" href={image_url} sizes=\"16x16\" />\r\n      <meta name=\"description\" content={description} />\r\n      <meta name=\"og:description\" content={description} />\r\n      <meta name=\"og:url\" content={url} />\r\n      <meta name=\"og:image\" content={home_url} />\r\n      <meta name=\"keywords\" content={keywords} />\r\n      {/* Facebook meta tags */}\r\n      <meta property=\"og:description\" content={description} />\r\n      <meta property=\"og:url\" content={url} />\r\n      <meta property=\"og:image\" content={home_url} />\r\n      <meta property=\"fb:pages\" content=\"108930167461424\"></meta>\r\n      <meta property=\"ia:markup_url\" content={url}></meta>\r\n    </Helmet>\r\n  );\r\n}\r\n\r\nconst getPage = () => {\r\n  let host = window.location.host;\r\n  let isDev = host.includes(\"localhost\");\r\n  let splitHost = host.split(\".\");\r\n  let pageName;\r\n  let hostName;\r\n  if ((isDev && splitHost.length === 2) || (!isDev && splitHost.length === 3)) {\r\n    pageName = splitHost[0];\r\n    hostName = splitHost[splitHost.length - 1];\r\n  }\r\n  return { pageName: pageName, hostName: hostName };\r\n};\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleLanguage = () => {\r\n      console.log(\"toggleLanguage\");\r\n      console.log(this.state.language);\r\n      if (this.state.language === \"en\") {\r\n        cookies.set(\"language\", \"zh\", { path: \"/\" });\r\n        // update data for itself and state so other components know as well\r\n        this.setState({\r\n          data: zh,\r\n          language: \"zh\",\r\n          toggleLanguage: this.toggleLanguage,\r\n        });\r\n      } else {\r\n        cookies.set(\"language\", \"en\", { path: \"/\" });\r\n        // update data for itself and state so other components know as well\r\n        this.setState({\r\n          data: en,\r\n          language: \"en\",\r\n          toggleLanguage: this.toggleLanguage,\r\n        });\r\n      }\r\n    };\r\n\r\n    this.changeField = (event) => {\r\n      event.preventDefault();\r\n      const target = event.currentTarget.id;\r\n      const targetField = target.substring(0, target.indexOf(\"-\"));\r\n      const targetId = target.substring(target.indexOf(\"-\") + 1);\r\n      const value = event.target.value;\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      if (targetField === \"image\") {\r\n        const image = event.target.files[0];\r\n        this.handleImageAsFile(targetId, image, targetField);\r\n      } else if (targetField === \"delete\") {\r\n        this.deleteMenuItem(targetId);\r\n      } else if (targetField.includes(\"addonname\")) {\r\n        const addonId = targetField.substring(target.indexOf(\"+\") + 1);\r\n        console.log(addonId, targetId, value);\r\n        this.setState({\r\n          pageData: update(this.state.pageData, {\r\n            menu_combined: {\r\n              [targetId]: { addon: { [addonId]: { name: { $set: value } } } },\r\n            },\r\n          }),\r\n        });\r\n      } else if (targetField.includes(\"addonprice\")) {\r\n        const addonId = targetField.substring(target.indexOf(\"+\") + 1);\r\n        this.setState({\r\n          pageData: update(this.state.pageData, {\r\n            menu_combined: {\r\n              [targetId]: { addon: { [addonId]: { price: { $set: value } } } },\r\n            },\r\n          }),\r\n        });\r\n      } else {\r\n        this.setState({\r\n          pageData: update(this.state.pageData, {\r\n            menu_combined: { [targetId]: { [targetField]: { $set: value } } },\r\n          }),\r\n        });\r\n      }\r\n    };\r\n\r\n    this.changeColor = (color, id) => {\r\n      this.setState({\r\n        updated: false,\r\n        css: update(this.state.css, {\r\n          [id]: { $set: color },\r\n        }),\r\n      });\r\n    };\r\n\r\n    this.changePage = (event) => {\r\n      event.preventDefault();\r\n      const target = event.currentTarget.id;\r\n      const value = event.target.value;\r\n      this.setState({\r\n        updated: false,\r\n        [target]: value,\r\n      });\r\n    };\r\n\r\n    this.changeDelivery = (event) => {\r\n      event.preventDefault();\r\n      const target = event.currentTarget.name;\r\n      const value = event.target.value;\r\n      this.setState({\r\n        updated: false,\r\n        [target]: value,\r\n      });\r\n    };\r\n\r\n    this.changeDistance = (event) => {\r\n      event.preventDefault();\r\n      const target = event.currentTarget.id;\r\n      const targetId = target.substring(target.indexOf(\"-\") + 1);\r\n      const value = event.target.value;\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      this.setState({\r\n        tiered_delivery: update(this.state.tiered_delivery, {\r\n          [targetId]: { $set: value },\r\n        }),\r\n      });\r\n    };\r\n\r\n    this.changeInfo = (event) => {\r\n      event.preventDefault();\r\n      const target = event.currentTarget.id;\r\n      const value = event.target.value;\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      if (target === \"logo\" || target === \"cover\") {\r\n        const image = event.target.files[0];\r\n        this.handleImageAsFile(null, image, target);\r\n      } else {\r\n        this.setState({\r\n          pageData: update(this.state.pageData, {\r\n            [target]: { $set: value },\r\n          }),\r\n        });\r\n      }\r\n    };\r\n\r\n    this.addMenuItem = () => {\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      return this.setState({\r\n        pageData: update(this.state.pageData, {\r\n          menu_combined: {\r\n            $push: [\r\n              {\r\n                name: \"\",\r\n                price: 0,\r\n                pic: \"\",\r\n              },\r\n            ],\r\n          },\r\n        }),\r\n      });\r\n    };\r\n\r\n    this.addAddon = (event) => {\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      const target = event.currentTarget.id;\r\n      const targetId = target.substring(target.indexOf(\"-\") + 1);\r\n      if (this.state.pageData.menu_combined[targetId].addon) {\r\n        this.setState({\r\n          pageData: update(this.state.pageData, {\r\n            menu_combined: {\r\n              [targetId]: {\r\n                addon: {\r\n                  $push: [\r\n                    {\r\n                      name: \"\",\r\n                      price: 0,\r\n                    },\r\n                  ],\r\n                },\r\n              },\r\n            },\r\n          }),\r\n        });\r\n      } else {\r\n        this.setState({\r\n          pageData: update(this.state.pageData, {\r\n            menu_combined: {\r\n              [targetId]: {\r\n                addon: {\r\n                  $set: [\r\n                    {\r\n                      name: \"\",\r\n                      price: 0,\r\n                    },\r\n                  ],\r\n                },\r\n              },\r\n            },\r\n          }),\r\n        });\r\n      }\r\n    };\r\n\r\n    this.deleteAddon = (event) => {\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      const target = event.currentTarget.id;\r\n      const targetId = target.substring(target.indexOf(\"-\") + 1);\r\n      console.log(target, targetId);\r\n      return this.setState({\r\n        pageData: update(this.state.pageData, {\r\n          menu_combined: {\r\n            [targetId]: {\r\n              addon: {\r\n                $splice: [\r\n                  [\r\n                    this.state.pageData.menu_combined[targetId].addon.length -\r\n                      1,\r\n                  ],\r\n                ],\r\n              },\r\n            },\r\n          },\r\n        }),\r\n      });\r\n    };\r\n\r\n    this.deleteMenuItem = (index) => {\r\n      this.setState({\r\n        updated: false,\r\n      });\r\n      this.setState({\r\n        pageData: update(this.state.pageData, {\r\n          menu_combined: {\r\n            $splice: [[index, 1]],\r\n          },\r\n        }),\r\n      });\r\n    };\r\n\r\n    this.addProduct = (productIndex, addon) => {\r\n      let findElement;\r\n      console.log(addon);\r\n      var addons = [];\r\n\r\n      if (addon) {\r\n        addon.forEach((element) => {\r\n          if (element.checked) {\r\n            addons.push(element.index);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.state.cartProducts.forEach((element, index) => {\r\n        if (element.index === productIndex && arraysMatch(addon, element.addon))\r\n          findElement = { element, index };\r\n      });\r\n\r\n      if (findElement) {\r\n        const newElement = findElement.element;\r\n        newElement.quantity += 1;\r\n        if (addons.length > 0) {\r\n          newElement.addons = [...addons];\r\n        }\r\n        this.state.cartProducts[findElement.index] = newElement;\r\n      } else {\r\n        this.state.cartProducts.push({\r\n          index: productIndex,\r\n          quantity: 1,\r\n          addons: addons,\r\n        });\r\n      }\r\n      var newPageData = this.state.pageData;\r\n      newPageData.menu_combined[productIndex].quantity = newPageData\r\n        .menu_combined[productIndex].quantity\r\n        ? (newPageData.menu_combined[productIndex].quantity += 1)\r\n        : (newPageData.menu_combined[productIndex].quantity = 1);\r\n      this.setState({\r\n        // cartTotal: {\r\n        //   productQuantity: this.state.cartTotal.productQuantity + 1,\r\n        //   totalPrice:\r\n        //     Math.round(\r\n        //       (this.state.cartTotal.totalPrice +\r\n        //         Number(this.state.pageData.menu_combined[productIndex].price) +\r\n        //         Number.EPSILON) *\r\n        //         100\r\n        //     ) / 100,\r\n        // },\r\n        pageData: newPageData,\r\n      });\r\n      this.updateCart();\r\n      console.log(this.state);\r\n    };\r\n\r\n    this.removeProduct = (productIndex, cartIndex) => {\r\n      let cartElement = this.state.cartProducts[cartIndex];\r\n\r\n      // let findElement;\r\n      // this.state.cartProducts.forEach((element, index) => {\r\n      //   if (element.index === productIndex) findElement = { element, index };\r\n      // });\r\n\r\n      const newElement = cartElement;\r\n      newElement.quantity -= 1;\r\n      // this.state.cartProducts[findElement.index] = newElement;\r\n      this.setState({\r\n        cartProducts: update(this.state.cartProducts, {\r\n          [cartIndex]: { $set: newElement },\r\n        }),\r\n      });\r\n      if (newElement.quantity === 0) {\r\n        let cartProductsCopy = this.state.cartProducts.slice();\r\n        cartProductsCopy.splice(cartIndex, 1);\r\n        this.setState({\r\n          cartProducts: update(this.state.cartProducts, {\r\n            $set: cartProductsCopy,\r\n          }),\r\n        });\r\n      }\r\n\r\n      var newPageData = this.state.pageData;\r\n      newPageData.menu_combined[productIndex].quantity = newPageData\r\n        .menu_combined[productIndex].quantity\r\n        ? (newPageData.menu_combined[productIndex].quantity -= 1)\r\n        : (newPageData.menu_combined[productIndex].quantity = 0);\r\n      this.setState({\r\n        // cartTotal: {\r\n        //   productQuantity: this.state.cartTotal.productQuantity - 1,\r\n        //   totalPrice:\r\n        //     Math.round(\r\n        //       (this.state.cartTotal.totalPrice -\r\n        //         Number(this.state.pageData.menu_combined[productIndex].price) +\r\n        //         Number.EPSILON) *\r\n        //         100\r\n        //     ) / 100,\r\n        // },\r\n        pageData: newPageData,\r\n      });\r\n      this.updateCart();\r\n    };\r\n\r\n    this.updateCart = () => {\r\n      var productQuantity = 0;\r\n      var totalPrice = 0;\r\n      this.state.cartProducts.forEach((element) => {\r\n        var addonsTotal = 0;\r\n        if (element.addons) {\r\n          element.addons.forEach((addonElement, index) => {\r\n            addonsTotal += Number(\r\n              this.state.pageData.menu_combined[element.index].addon[\r\n                addonElement\r\n              ].price\r\n            );\r\n          });\r\n        }\r\n        console.log(addonsTotal);\r\n\r\n        if (element.quantity !== 0) {\r\n          productQuantity += element.quantity;\r\n          totalPrice +=\r\n            Number(\r\n              Number(this.state.pageData.menu_combined[element.index].price) +\r\n                addonsTotal\r\n            ) * element.quantity;\r\n        }\r\n      });\r\n\r\n      this.setState({\r\n        cartTotal: {\r\n          productQuantity: productQuantity,\r\n          totalPrice: totalPrice,\r\n        },\r\n      });\r\n    };\r\n\r\n    this.setScrollPosition = (pos) => {\r\n      console.log(\"setScrollPosition\");\r\n      this.setState({\r\n        scrollPosition: pos,\r\n      });\r\n    };\r\n\r\n    this.addDistance = (distance) => {\r\n      const tier = this.state.tiered_delivery;\r\n      var delivery_fee;\r\n      if (distance < 5000) {\r\n        delivery_fee = tier[\"5km\"];\r\n      } else if (distance < 10000) {\r\n        delivery_fee = tier[\"10km\"];\r\n      } else if (distance < 15000) {\r\n        delivery_fee = tier[\"15km\"];\r\n      } else if (distance < 20000) {\r\n        delivery_fee = tier[\"20km\"];\r\n      } else if (distance < 25000) {\r\n        delivery_fee = tier[\"25km\"];\r\n      } else {\r\n        delivery_fee = tier[\"30km\"];\r\n      }\r\n\r\n      this.setState({\r\n        delivery_fee: delivery_fee,\r\n        distance: distance,\r\n      });\r\n      console.log(distance);\r\n    };\r\n\r\n    // State also contains the updater function so it will\r\n    // be passed down into the context provider\r\n    this.state = {\r\n      language: cookies.get(\"language\"), // TODO: check why this is hardcoded\r\n      changePromocode: this.changePromocode,\r\n      toggleLanguage: this.toggleLanguage,\r\n      addProduct: this.addProduct,\r\n      removeProduct: this.removeProduct,\r\n      changeField: this.changeField,\r\n      addCustomerDetails: this.addCustomerDetails,\r\n      changeChannel: this.changeChannel,\r\n      toggleDialog: this.toggleDialog,\r\n      addDistance: this.addDistance,\r\n      data: cookies.get(\"language\") === \"en\" ? en : zh,\r\n      scrollPosition: 0, // tracks scroll position of Search page\r\n      setScrollPosition: this.setScrollPosition,\r\n      pageName: \"\",\r\n      hostName: \"\",\r\n      pageData: {},\r\n      css: {},\r\n      retrieved: false,\r\n      cartProducts: [],\r\n      cartTotal: {\r\n        productQuantity: 0,\r\n        totalPrice: 0,\r\n      },\r\n      updating: false,\r\n      updated: true,\r\n      channel: \"\",\r\n      channelDialog: false,\r\n      customerDetails: {\r\n        name: \"\",\r\n        address: \"\",\r\n        notes: \"\",\r\n        customerNumber: \"\",\r\n        deliveryTime: \"\",\r\n        unit: \"\",\r\n        street: \"\",\r\n        postal: \"\",\r\n        time: time_now.getHours() + \":\" + time_now.getMinutes(),\r\n        date: time_now,\r\n        datetime: time_now,\r\n      },\r\n      delivery_fee: \"0\",\r\n      fixed_delivery: 0,\r\n      all_promo: 0,\r\n      selfcollect_promo: 0,\r\n      delivery_option: \"none\",\r\n      tiered_delivery: {\r\n        \"5km\": 0,\r\n        \"10km\": 0,\r\n        \"15km\": 0,\r\n        \"20km\": 0,\r\n        \"25km\": 0,\r\n        \"30km\": 0,\r\n      },\r\n      promo_code: \"\",\r\n    };\r\n    this.handleFireBaseUpload = this.handleFireBaseUpload.bind(this);\r\n    this.handleImageAsFile = this.handleImageAsFile.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    const pageName = getPage().pageName;\r\n    const hostName = getPage().hostName;\r\n    if (\r\n      pageName &&\r\n      pageName !== \"www\" &&\r\n      pageName !== \"foodleh\" &&\r\n      hostName !== \"sh\" &&\r\n      hostName !== \"now\" &&\r\n      hostName !== \"now.sh\"\r\n    )\r\n      this.getDoc();\r\n  }\r\n\r\n  addCustomerDetails = (field, value) => {\r\n    var newDetail = this.state.customerDetails;\r\n    newDetail[field] = value;\r\n    this.setState({\r\n      customerDetails: newDetail,\r\n    });\r\n  };\r\n\r\n  changePromocode = (event) => {\r\n    const value = event.target.value;\r\n    this.setState({\r\n      promo_code_input: value,\r\n    });\r\n    if (this.state.promo_code && value === this.state.promo_code) {\r\n      this.setState({\r\n        promo_code_valid: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        promo_code_valid: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  changeChannel = (channel) => {\r\n    var delivery_fee;\r\n    if (channel === \"delivery\") {\r\n      if (this.state.delivery_option === \"fixed\")\r\n        delivery_fee = this.state.fixed_delivery;\r\n    } else {\r\n      delivery_fee = 0;\r\n    }\r\n    this.setState({\r\n      channel: channel,\r\n      delivery_fee: delivery_fee,\r\n    });\r\n  };\r\n\r\n  toggleDialog = () => {\r\n    this.setState({\r\n      channelDialog: !this.state.channelDialog,\r\n    });\r\n  };\r\n\r\n  handleImageAsFile = (targetId, image, targetField) => {\r\n    if (image !== undefined) {\r\n      var date = new Date();\r\n      var timestamp = date.getTime();\r\n      var newName = timestamp + \"_\" + image.name;\r\n      var reader = new FileReader();\r\n      reader.readAsArrayBuffer(image);\r\n      reader.onload = (event) => {\r\n        if (targetField === \"logo\" || targetField === \"cover\") {\r\n          this.setState({\r\n            [targetField]: \"loading\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            pageData: update(this.state.pageData, {\r\n              menu_combined: {\r\n                [targetId]: { pic: { $set: \"loading\" } },\r\n              },\r\n            }),\r\n          });\r\n        }\r\n        var blob = new Blob([event.target.result]); // create blob...\r\n        window.URL = window.URL || window.webkitURL;\r\n        var blobURL = window.URL.createObjectURL(blob); // and get it's URL\r\n        // helper Image object\r\n        var image = new Image();\r\n        image.src = blobURL;\r\n        //preview.appendChild(image); // preview commented out, I am using the canvas instead\r\n        this.handleFireBaseUpload(image, newName, targetId, targetField);\r\n      };\r\n    }\r\n  };\r\n\r\n  handleFireBaseUpload = (image, newName, targetId, targetField) => {\r\n    image.onload = () => {\r\n      // have to wait till it's loaded\r\n      Jimp.read(image.src).then((image) => {\r\n        image.quality(50);\r\n        image.resize(Jimp.AUTO, 750);\r\n        console.log(image);\r\n        image.getBase64(Jimp.AUTO, (err, res) => {\r\n          const uploadTask = storage\r\n            .ref(`/images/${newName}`)\r\n            .putString(res, \"data_url\");\r\n          uploadTask.on(\r\n            \"state_changed\",\r\n            (snapShot) => {\r\n              //takes a snap shot of the process as it is happening\r\n              console.log(snapShot);\r\n            },\r\n            (err) => {\r\n              //catches the errors\r\n              console.log(err);\r\n            },\r\n            () => {\r\n              // gets the functions from storage refences the image storage in firebase by the children\r\n              // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n              storage\r\n                .ref(\"images\")\r\n                .child(newName)\r\n                .getDownloadURL()\r\n                .then((fireBaseUrl) => {\r\n                  if (targetField === \"logo\" || targetField === \"cover\") {\r\n                    this.setState({\r\n                      [targetField]: fireBaseUrl,\r\n                    });\r\n                  } else {\r\n                    this.setState({\r\n                      pageData: update(this.state.pageData, {\r\n                        menu_combined: {\r\n                          [targetId]: { pic: { $set: fireBaseUrl } },\r\n                        },\r\n                      }),\r\n                    });\r\n                  }\r\n                });\r\n            }\r\n          );\r\n        });\r\n      });\r\n    };\r\n  };\r\n\r\n  saveToFirestore = async () => {\r\n    this.setState({ updating: true });\r\n    return db\r\n      .collection(\"hawkers\")\r\n      .doc(this.state.docid)\r\n      .update(this.state.pageData)\r\n      .then(() => {\r\n        db.collection(\"pages\")\r\n          .doc(this.state.pageName)\r\n          .update({\r\n            delivery_option: this.state.delivery_option,\r\n            fixed_delivery: this.state.fixed_delivery,\r\n            cover: this.state.cover,\r\n            css: this.state.css,\r\n            logo: this.state.logo,\r\n            tiered_delivery: this.state.tiered_delivery,\r\n            all_promo: this.state.all_promo,\r\n            selfcollect_promo: this.state.selfcollect_promo,\r\n            promo_code: this.state.promo_code,\r\n          })\r\n          .then(() => {\r\n            this.setState({ updating: false });\r\n            this.setState({ updated: true });\r\n          })\r\n          .catch((e) => {\r\n            this.setState({ updating: false });\r\n            this.setState({ updated: true });\r\n            console.log(e);\r\n          });\r\n      });\r\n  };\r\n\r\n  getDoc = async () => {\r\n    const domain = getPage();\r\n    const pageName = domain.pageName;\r\n    const hostName = domain.hostName;\r\n    this.setState({ pageName: pageName, hostName: hostName });\r\n    const docid = await db\r\n      .collection(\"pages\")\r\n      .doc(pageName)\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (snapshot.exists) {\r\n          // After querying db for data, initialize orderData if menu info is available\r\n          if (snapshot.data().redirect) {\r\n            window.location.href = \"/info?id=\" + snapshot.data().docid;\r\n          } else {\r\n            this.setState(snapshot.data());\r\n            return snapshot.data().docid;\r\n          }\r\n        }\r\n        //   onLoad(\"info_load\", snapshot.data().name);\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        // window.location.reload(true);\r\n        console.log(error);\r\n      });\r\n    if (docid) {\r\n      await db\r\n        .collection(\"hawkers\")\r\n        .doc(docid)\r\n        .get()\r\n        .then((snapshot) => {\r\n          if (snapshot.exists) {\r\n            // After querying db for data, initialize orderData if menu info is available\r\n            this.setState({\r\n              pageData: snapshot.data(),\r\n              retrieved: true,\r\n            });\r\n          }\r\n          console.log(\"Fetched successfully!\");\r\n          return true;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n    console.log(this.state);\r\n  };\r\n\r\n  render() {\r\n    // The ThemedButton button inside the ThemeProvider\r\n    // uses the theme from state while the one outside uses\r\n    // the default dark theme\r\n    let skeletons = [];\r\n    for (let index = 0; index < 10; index++) {\r\n      skeletons.push(\r\n        <div style={{ width: \"500px\", margin: \"10px\" }}>\r\n          <div\r\n            class=\"card shadow\"\r\n            style={{\r\n              paddingLeft: \"0px !important\",\r\n              paddingRight: \"0px !important\",\r\n            }}\r\n          >\r\n            <Skeleton width=\"100%\">\r\n              <div\r\n                style={{ height: \"100px\" }}\r\n                class=\"card-img-top\"\r\n                alt=\"\"\r\n              ></div>\r\n            </Skeleton>\r\n            <Skeleton width=\"80%\">\r\n              <h3>.</h3>\r\n            </Skeleton>\r\n            <Skeleton width=\"50%\">\r\n              <h3>.</h3>\r\n            </Skeleton>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <Router>\r\n          <LanguageContext.Provider value={this.state}>\r\n            <div className=\"App\">\r\n              {this.state.pageName &&\r\n              this.state.pageName !== \"www\" &&\r\n              this.state.pageName !== \"foodleh\" &&\r\n              this.state.hostName !== \"sh\" &&\r\n              this.state.hostName !== \"now\" &&\r\n              this.state.hostName !== \"now.sh\" ? (\r\n                <CartContext.Provider value={this.state}>\r\n                  {this.state.retrieved ? (\r\n                    <div>\r\n                      <PersonalHelmet\r\n                        name={this.state.pageData.name}\r\n                        logo={this.state.logo}\r\n                      />\r\n                      <SnackbarProvider\r\n                        ref={notistackRef}\r\n                        maxSnack={2}\r\n                        anchorOrigin={{\r\n                          vertical: \"top\",\r\n                          horizontal: \"center\",\r\n                        }}\r\n                        action={(key) => (\r\n                          <Button onClick={onClickDismiss(key)}>Dismiss</Button>\r\n                        )}\r\n                      >\r\n                        <Route\r\n                          exact\r\n                          path=\"/\"\r\n                          render={() => (\r\n                            <Components.Page pageName={this.state.pageName} />\r\n                          )}\r\n                        />\r\n                        <Route\r\n                          exact\r\n                          path=\"/about\"\r\n                          render={() => (\r\n                            <Components.PageAbout\r\n                              pageName={this.state.pageName}\r\n                            />\r\n                          )}\r\n                        />\r\n                        <Route\r\n                          exact\r\n                          path=\"/dashboard\"\r\n                          render={() => (\r\n                            <Components.PageDashboard\r\n                              pageName={this.state.pageName}\r\n                              data={this.state.pageData}\r\n                              css={this.state.css}\r\n                              changeField={this.changeField}\r\n                              saveToFirestore={this.saveToFirestore}\r\n                              updating={this.state.updating}\r\n                              updated={this.state.updated}\r\n                              addMenuItem={this.addMenuItem}\r\n                              logo={this.state.logo}\r\n                              cover={this.state.cover}\r\n                              changeInfo={this.changeInfo}\r\n                              changeColor={this.changeColor}\r\n                              user={this.state.user}\r\n                              changePage={this.changePage}\r\n                              changeDelivery={this.changeDelivery}\r\n                              fixed_delivery={this.state.fixed_delivery}\r\n                              delivery_option={this.state.delivery_option}\r\n                              tiered_delivery={this.state.tiered_delivery}\r\n                              changeDistance={this.changeDistance}\r\n                              all_promo={this.state.all_promo}\r\n                              promo_code={this.state.promo_code}\r\n                              selfcollect_promo={this.state.selfcollect_promo}\r\n                              addAddon={this.addAddon}\r\n                              deleteAddon={this.deleteAddon}\r\n                            />\r\n                          )}\r\n                        />\r\n                      </SnackbarProvider>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <div className=\"row justify-content-center\">\r\n                        <Skeleton width=\"100%\">\r\n                          <div class=\"jumbotron\" style={{ height: \"300px\" }} />\r\n                        </Skeleton>\r\n                        {skeletons}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </CartContext.Provider>\r\n              ) : (\r\n                <div>\r\n                  <Components.Menu />\r\n                  <SeoHelmet />\r\n                  <Route exact path=\"/\" component={Components.Home} />\r\n                  <Route exact path=\"/create\" component={Components.Create} />\r\n                  <Route exact path=\"/info\" component={Components.Info} />\r\n                  <Route\r\n                    exact\r\n                    path=\"/searchall\"\r\n                    component={Components.SearchAll}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/searchall_modified\"\r\n                    component={Components.SearchAll_modified}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/searchall_iv2\"\r\n                    component={Components.SearchAll_iv2}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/searchall_iv3\"\r\n                    component={Components.SearchAll_iv3}\r\n                  />\r\n                  \r\n                  <Route exact path=\"/about\" component={Components.About} />\r\n                  <Route exact path=\"/driver\" component={Components.Driver} />\r\n                  <Route\r\n                    exact\r\n                    path=\"/delivery\"\r\n                    component={Components.Delivery}\r\n                  />\r\n                  <Route exact path=\"/orders\" component={Components.Orders} />\r\n                  <Route\r\n                    exact\r\n                    path=\"/deliveries\"\r\n                    component={Components.Deliveries}\r\n                  />\r\n                  <Route exact path=\"/custom\" component={Components.Custom} />\r\n                  <Route\r\n                    exact\r\n                    path=\"/privacy\"\r\n                    component={Components.PrivacyPolicy}\r\n                  />\r\n                </div>\r\n              )}\r\n              <script src=\"/__/firebase/7.14.1/firebase-app.js\"></script>\r\n              <script src=\"/__/firebase/7.14.1/firebase-analytics.js\"></script>\r\n              <script src=\"/__/firebase/init.js\"></script>\r\n            </div>\r\n          </LanguageContext.Provider>\r\n        </Router>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","// Copyright limyifan1 <limyifan1@gmail.com> 2020. All Rights Reserved.\r\n// Node module: hawkercentral\r\n// This file is licensed under the MIT License.\r\n// License text available at https://opensource.org/licenses/MIT\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <link\r\n      rel=\"stylesheet\"\r\n      type=\"text/css\"\r\n      href=\"//fonts.googleapis.com/css?family=Open+Sans\"\r\n    />\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/motor-delivery.8c84f96a.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAAB3CAYAAADo8hm/AAAACXBIWXMAAC4jAAAuIwF4pT92AAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTA5VDE1OjM1OjU2KzEwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTA5VDE1OjM1OjU2KzEwOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0wOVQxNTozNTo1NisxMDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjNTU5OTE2Mi03ZGJmLTJjNGEtYmI0OS03ZTdlOWNkNGIzNWYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3ZGQxNzkzNi1hNGIzLTRkNGYtYmQyMy04NWM3YTVlYjA1YWMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNDBjZGJlMS05N2QyLTFlNDEtOTAzYS0yYjI3NjNiZTc0ZmUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI0MGNkYmUxLTk3ZDItMWU0MS05MDNhLTJiMjc2M2JlNzRmZSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0wOVQxNTozNTo1NisxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjNTU5OTE2Mi03ZGJmLTJjNGEtYmI0OS03ZTdlOWNkNGIzNWYiIHN0RXZ0OndoZW49IjIwMjAtMDUtMDlUMTU6MzU6NTYrMTA6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Fxj9TAAAPaklEQVR4nO2dW5Ac1XnHf6cvszN7kfailXa1AoQkJGQkBRshIQuBDCociTgqBwrs4lZOOS9x4kqqYioPefFDUpVUUnnIzTy4cqFcEEs2lElsjICgXIiElXUZJHBghS5G0mrRJdrdWe3MdPfJw9e9MysLNLt7ereHPb/aU9PT03P67Jx/f993Tp8+B+YvHvBNYAiIgMvTTBo4DvweoGax/JaMcCPwGiIiPcMUAv8CtMzmP5AlnLkuwByyE1iNGSviAOuB+w3k1ZB4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\""],"sourceRoot":""}